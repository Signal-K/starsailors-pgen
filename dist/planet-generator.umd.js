(function(ke,D){typeof exports=="object"&&typeof module<"u"?D(exports,require("react"),require("@react-three/fiber"),require("@react-three/drei"),require("three"),require("react-dom")):typeof define=="function"&&define.amd?define(["exports","react","@react-three/fiber","@react-three/drei","three","react-dom"],D):(ke=typeof globalThis<"u"?globalThis:ke||self,D(ke.PlanetGenerator={},ke.React,ke.fiber,ke.drei,ke.THREE,ke.ReactDOM))})(this,function(ke,D,Le,ye,ic,Xn){"use strict";function _r(e){const t=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const r in e)if(r!=="default"){const n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:()=>e[r]})}}return t.default=e,Object.freeze(t)}const m=_r(D),S=_r(ic),Gt=_r(Xn);var Kt={exports:{}},St={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zn;function cc(){if(Zn)return St;Zn=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(n,s,i){var a=null;if(i!==void 0&&(a=""+i),s.key!==void 0&&(a=""+s.key),"key"in s){i={};for(var c in s)c!=="key"&&(i[c]=s[c])}else i=s;return s=i.ref,{$$typeof:e,type:n,key:a,ref:s!==void 0?s:null,props:i}}return St.Fragment=t,St.jsx=r,St.jsxs=r,St}var Tt={};/**
 * @license React
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jn;function lc(){return Jn||(Jn=1,process.env.NODE_ENV!=="production"&&function(){function e(E){if(E==null)return null;if(typeof E=="function")return E.$$typeof===O?null:E.displayName||E.name||null;if(typeof E=="string")return E;switch(E){case h:return"Fragment";case g:return"Profiler";case y:return"StrictMode";case N:return"Suspense";case A:return"SuspenseList";case P:return"Activity"}if(typeof E=="object")switch(typeof E.tag=="number"&&console.error("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),E.$$typeof){case x:return"Portal";case b:return(E.displayName||"Context")+".Provider";case C:return(E._context.displayName||"Context")+".Consumer";case w:var H=E.render;return E=E.displayName,E||(E=H.displayName||H.name||"",E=E!==""?"ForwardRef("+E+")":"ForwardRef"),E;case M:return H=E.displayName||null,H!==null?H:e(E.type)||"Memo";case j:H=E._payload,E=E._init;try{return e(E(H))}catch{}}return null}function t(E){return""+E}function r(E){try{t(E);var H=!1}catch{H=!0}if(H){H=console;var q=H.error,Y=typeof Symbol=="function"&&Symbol.toStringTag&&E[Symbol.toStringTag]||E.constructor.name||"Object";return q.call(H,"The provided key is an unsupported type %s. This value must be coerced to a string before using it here.",Y),t(E)}}function n(E){if(E===h)return"<>";if(typeof E=="object"&&E!==null&&E.$$typeof===j)return"<...>";try{var H=e(E);return H?"<"+H+">":"<...>"}catch{return"<...>"}}function s(){var E=k.A;return E===null?null:E.getOwner()}function i(){return Error("react-stack-top-frame")}function a(E){if(R.call(E,"key")){var H=Object.getOwnPropertyDescriptor(E,"key").get;if(H&&H.isReactWarning)return!1}return E.key!==void 0}function c(E,H){function q(){B||(B=!0,console.error("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://react.dev/link/special-props)",H))}q.isReactWarning=!0,Object.defineProperty(E,"key",{get:q,configurable:!0})}function l(){var E=e(this.type);return _[E]||(_[E]=!0,console.error("Accessing element.ref was removed in React 19. ref is now a regular prop. It will be removed from the JSX Element type in a future release.")),E=this.props.ref,E!==void 0?E:null}function d(E,H,q,Y,te,ae,ie,F){return q=ae.ref,E={$$typeof:v,type:E,key:H,props:ae,_owner:te},(q!==void 0?q:null)!==null?Object.defineProperty(E,"ref",{enumerable:!1,get:l}):Object.defineProperty(E,"ref",{enumerable:!1,value:null}),E._store={},Object.defineProperty(E._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:0}),Object.defineProperty(E,"_debugInfo",{configurable:!1,enumerable:!1,writable:!0,value:null}),Object.defineProperty(E,"_debugStack",{configurable:!1,enumerable:!1,writable:!0,value:ie}),Object.defineProperty(E,"_debugTask",{configurable:!1,enumerable:!1,writable:!0,value:F}),Object.freeze&&(Object.freeze(E.props),Object.freeze(E)),E}function f(E,H,q,Y,te,ae,ie,F){var G=H.children;if(G!==void 0)if(Y)if(L(G)){for(Y=0;Y<G.length;Y++)u(G[Y]);Object.freeze&&Object.freeze(G)}else console.error("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else u(G);if(R.call(H,"key")){G=e(E);var J=Object.keys(H).filter(function(re){return re!=="key"});Y=0<J.length?"{key: someKey, "+J.join(": ..., ")+": ...}":"{key: someKey}",I[G+Y]||(J=0<J.length?"{"+J.join(": ..., ")+": ...}":"{}",console.error(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,Y,G,J,G),I[G+Y]=!0)}if(G=null,q!==void 0&&(r(q),G=""+q),a(H)&&(r(H.key),G=""+H.key),"key"in H){q={};for(var Q in H)Q!=="key"&&(q[Q]=H[Q])}else q=H;return G&&c(q,typeof E=="function"?E.displayName||E.name||"Unknown":E),d(E,G,ae,te,s(),q,ie,F)}function u(E){typeof E=="object"&&E!==null&&E.$$typeof===v&&E._store&&(E._store.validated=1)}var p=D,v=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),h=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),g=Symbol.for("react.profiler"),C=Symbol.for("react.consumer"),b=Symbol.for("react.context"),w=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),j=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),O=Symbol.for("react.client.reference"),k=p.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,R=Object.prototype.hasOwnProperty,L=Array.isArray,z=console.createTask?console.createTask:function(){return null};p={"react-stack-bottom-frame":function(E){return E()}};var B,_={},W=p["react-stack-bottom-frame"].bind(p,i)(),T=z(n(i)),I={};Tt.Fragment=h,Tt.jsx=function(E,H,q,Y,te){var ae=1e4>k.recentlyCreatedOwnerStacks++;return f(E,H,q,!1,Y,te,ae?Error("react-stack-top-frame"):W,ae?z(n(E)):T)},Tt.jsxs=function(E,H,q,Y,te){var ae=1e4>k.recentlyCreatedOwnerStacks++;return f(E,H,q,!0,Y,te,ae?Error("react-stack-top-frame"):W,ae?z(n(E)):T)}}()),Tt}var Qn;function eo(){return Qn||(Qn=1,process.env.NODE_ENV==="production"?Kt.exports=cc():Kt.exports=lc()),Kt.exports}var o=eo();const qt={"Rocky Highlands":{temperature:[240,320],atmosphereStrength:[.3,.7],cloudCount:[10,60],waterHeight:[0,.2],surfaceRoughness:[.5,1],plateTectonics:[.4,.9],biomassLevel:[.01,.2],waterLevel:[.1,.3],salinity:[.1,.5],volcanicActivity:[.2,.8],surfaceDeposits:["Bedrock","Big Rocks","Surface Cracks"]},"Barren Wasteland":{temperature:[180,260],atmosphereStrength:[.1,.5],cloudCount:[0,10],waterHeight:[0,.05],surfaceRoughness:[.2,.8],plateTectonics:[.1,.5],biomassLevel:[0,.05],waterLevel:[0,.1],salinity:[0,.3],volcanicActivity:[0,.3],surfaceDeposits:["Dust Deposits","Surface Cracks"]},"Arid Dunes":{temperature:[250,330],atmosphereStrength:[.2,.6],cloudCount:[5,40],waterHeight:[0,.2],surfaceRoughness:[.3,.9],plateTectonics:[.1,.4],biomassLevel:[0,.1],waterLevel:[0,.2],salinity:[0,.4],volcanicActivity:[.1,.6],surfaceDeposits:["Sand","Unconsolidated Soil"]},"Frigid Expanse":{temperature:[120,240],atmosphereStrength:[.4,.9],cloudCount:[20,100],waterHeight:[.1,.5],surfaceRoughness:[.2,.6],plateTectonics:[.1,.3],biomassLevel:[0,.3],waterLevel:[.2,.8],salinity:[.2,.8],volcanicActivity:[0,.2],surfaceDeposits:["Ice Sheets","Frozen Lakes"]},"Volcanic Terrain":{temperature:[300,1200],atmosphereStrength:[.5,1.2],cloudCount:[15,70],waterHeight:[0,.1],surfaceRoughness:[.7,1.2],plateTectonics:[.5,1],biomassLevel:[.02,.1],waterLevel:[0,.2],salinity:[0,.2],volcanicActivity:[.5,1.2],surfaceDeposits:["Volcanic Ash","Lava Fields"]},"Basalt Plains":{temperature:[220,350],atmosphereStrength:[.3,.8],cloudCount:[10,50],waterHeight:[0,.3],surfaceRoughness:[.3,.7],plateTectonics:[.3,.7],biomassLevel:[0,.15],waterLevel:[0,.3],salinity:[.1,.4],volcanicActivity:[.2,.6],surfaceDeposits:["Basaltic Rock","Mineral Deposits"]},"Sediment Flats":{temperature:[260,310],atmosphereStrength:[.4,.7],cloudCount:[20,60],waterHeight:[.1,.4],surfaceRoughness:[.1,.4],plateTectonics:[.1,.4],biomassLevel:[.05,.3],waterLevel:[.2,.5],salinity:[.2,.6],volcanicActivity:[0,.3],surfaceDeposits:["Clay","Fine Sand","Sulfate-Rich Soil"]},"Cratered Terrain":{temperature:[200,300],atmosphereStrength:[.1,.6],cloudCount:[5,40],waterHeight:[0,.2],surfaceRoughness:[.4,.9],plateTectonics:[0,.3],biomassLevel:[0,.1],waterLevel:[0,.2],salinity:[0,.3],volcanicActivity:[0,.4],surfaceDeposits:["Regolith","Dust Deposits"]},"Tundra Basin":{temperature:[180,270],atmosphereStrength:[.4,.8],cloudCount:[30,80],waterHeight:[.2,.5],surfaceRoughness:[.2,.5],plateTectonics:[.1,.4],biomassLevel:[.1,.4],waterLevel:[.3,.6],salinity:[.1,.4],volcanicActivity:[0,.2],surfaceDeposits:["Permafrost","Pebbles","Rocky Terrain"]},"Temperate Highlands":{temperature:[270,310],atmosphereStrength:[.5,.9],cloudCount:[40,90],waterHeight:[.3,.6],surfaceRoughness:[.4,.8],plateTectonics:[.3,.7],biomassLevel:[.3,.8],waterLevel:[.3,.7],salinity:[.2,.5],volcanicActivity:[.1,.4],surfaceDeposits:["Mineral-Rich Soil","Loam"]},"Oceanic World":{temperature:[260,320],atmosphereStrength:[.6,1],cloudCount:[60,100],waterHeight:[.9,1],surfaceRoughness:[.1,.3],plateTectonics:[.2,.6],biomassLevel:[.4,.9],waterLevel:[.9,1],salinity:[.5,.9],volcanicActivity:[.1,.5],surfaceDeposits:["Deep Water","Sedimentary Layers"]},"Tropical Jungle":{temperature:[290,330],atmosphereStrength:[.7,1],cloudCount:[70,100],waterHeight:[.4,.7],surfaceRoughness:[.3,.7],plateTectonics:[.2,.5],biomassLevel:[.7,1],waterLevel:[.5,.8],salinity:[.2,.4],volcanicActivity:[.1,.3],surfaceDeposits:["Dense Vegetation","Wet Soil"]},"Flood Basin":{temperature:[270,320],atmosphereStrength:[.5,.9],cloudCount:[50,90],waterHeight:[.5,.8],surfaceRoughness:[.1,.3],plateTectonics:[.1,.3],biomassLevel:[.3,.7],waterLevel:[.6,.9],salinity:[.3,.6],volcanicActivity:[0,.2],surfaceDeposits:["Silt","Muddy Terrain"]},"Coral Reefs":{temperature:[280,310],atmosphereStrength:[.6,.9],cloudCount:[40,80],waterHeight:[.6,.9],surfaceRoughness:[.2,.5],plateTectonics:[.1,.4],biomassLevel:[.6,.9],waterLevel:[.7,.9],salinity:[.6,.9],volcanicActivity:[0,.2],surfaceDeposits:["Limestone","Organic Deposits"]},"Dune Fields":{temperature:[270,350],atmosphereStrength:[.2,.6],cloudCount:[10,50],waterHeight:[0,.1],surfaceRoughness:[.3,.7],plateTectonics:[0,.3],biomassLevel:[0,.1],waterLevel:[0,.1],salinity:[0,.3],volcanicActivity:[0,.3],surfaceDeposits:["Fine Sand","Wind-Driven Erosion"]}};function to(e,t){return!qt[e]||!qt[e][t]?{temperature:[50,400],atmosphereStrength:[0,1],cloudCount:[0,100],waterHeight:[0,1],surfaceRoughness:[0,2],plateTectonics:[0,1],biomassLevel:[0,1],waterLevel:[0,1],salinity:[0,1],volcanicActivity:[0,1]}[t]||[0,1]:qt[e][t]}function uc(){return Object.keys(qt)}const dc={"Rocky Highlands":{oceanFloor:"#3D2314",beach:"#8D6E63",regular:"#A1887F",mountain:"#E0E0E0"},"Barren Wasteland":{oceanFloor:"#3E2723",beach:"#5D4037",regular:"#795548",mountain:"#A1887F"},"Arid Dunes":{oceanFloor:"#B59677",beach:"#D7CDA5",regular:"#E6D7B3",mountain:"#F5EED5"},"Frigid Expanse":{oceanFloor:"#78909C",beach:"#B0BEC5",regular:"#ECEFF1",mountain:"#FFFFFF"},"Volcanic Terrain":{oceanFloor:"#1A1A1A",beach:"#3E2723",regular:"#5D4037",mountain:"#795548"},"Basalt Plains":{oceanFloor:"#212121",beach:"#424242",regular:"#616161",mountain:"#9E9E9E"},"Sediment Flats":{oceanFloor:"#6D4C41",beach:"#8D6E63",regular:"#BCAAA4",mountain:"#D7CCC8"},"Cratered Terrain":{oceanFloor:"#424242",beach:"#616161",regular:"#9E9E9E",mountain:"#E0E0E0"},"Tundra Basin":{oceanFloor:"#546E7A",beach:"#78909C",regular:"#B0BEC5",mountain:"#ECEFF1"},"Temperate Highlands":{oceanFloor:"#2E7D32",beach:"#43A047",regular:"#66BB6A",mountain:"#A5D6A7"},"Oceanic World":{oceanFloor:"#01579B",beach:"#0288D1",regular:"#29B6F6",mountain:"#81D4FA"},"Tropical Jungle":{oceanFloor:"#1B5E20",beach:"#2E7D32",regular:"#43A047",mountain:"#66BB6A"},"Flood Basin":{oceanFloor:"#00695C",beach:"#00897B",regular:"#26A69A",mountain:"#80CBC4"},"Coral Reefs":{oceanFloor:"#0277BD",beach:"#039BE5",regular:"#29B6F6",mountain:"#81D4FA"},"Dune Fields":{oceanFloor:"#BF360C",beach:"#E64A19",regular:"#FF7043",mountain:"#FFAB91"}},fc={rocky:{r:0,g:-.05,b:-.05},sandy:{r:.1,g:.05,b:-.1},volcanic:{r:-.1,g:-.1,b:-.1},organic:{r:-.1,g:.1,b:-.1},dusty:{r:.05,g:0,b:-.05},frozen:{r:-.05,g:0,b:.1},muddy:{r:-.05,g:-.05,b:-.1}};function Yt(e,t){const r=fc[t]||{r:0,g:0,b:0},n=mc(e);return n.r=Math.max(0,Math.min(1,n.r+r.r)),n.g=Math.max(0,Math.min(1,n.g+r.g)),n.b=Math.max(0,Math.min(1,n.b+r.b)),pc(Math.floor(n.r*255),Math.floor(n.g*255),Math.floor(n.b*255))}function mc(e){const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:Number.parseInt(t[1],16)/255,g:Number.parseInt(t[2],16)/255,b:Number.parseInt(t[3],16)/255}:{r:0,g:0,b:0}}function pc(e,t,r){return"#"+((1<<24)+(e<<16)+(t<<8)+r).toString(16).slice(1)}function Rt(e){return dc[e]||{oceanFloor:"#3D2314",beach:"#8D6E63",regular:"#A1887F",mountain:"#E0E0E0"}}const hc=`
  varying vec2 vUv;
  varying vec3 vNormal;
  varying vec3 vPosition;
  varying float vElevation;
  
  uniform float time;
  uniform float surfaceRoughness;
  uniform float mountainHeight;
  uniform float isGaseous;
  uniform int soilType;
  uniform int soilTexture;
  uniform float landmarkPositions[30]; // Support up to 10 landmarks (x,y,z for each)
  uniform float landmarkInfluences[40]; // Support up to 10 landmarks (radius,height,roughness,type for each)
  uniform int landmarkCount;
  
  // Simplex 3D Noise
  vec4 permute(vec4 x){return mod(((x*34.0)+1.0)*x, 289.0);}
  vec4 taylorInvSqrt(vec4 r){return 1.79284291400159 - 0.85373472095314 * r;}

  float snoise(vec3 v){ 
    const vec2 C = vec2(1.0/6.0, 1.0/3.0);
    const vec4 D = vec4(0.0, 0.5, 1.0, 2.0);

    vec3 i = floor(v + dot(v, C.yyy));
    vec3 x0 = v - i + dot(i, C.xxx);

    vec3 g = step(x0.yzx, x0.xyz);
    vec3 l = 1.0 - g;
    vec3 i1 = min(g.xyz, l.zxy);
    vec3 i2 = max(g.xyz, l.zxy);

    vec3 x1 = x0 - i1 + 1.0 * C.xxx;
    vec3 x2 = x0 - i2 + 2.0 * C.xxx;
    vec3 x3 = x0 - 1. + 3.0 * C.xxx;

    i = mod(i, 289.0); 
    vec4 p = permute(permute(permute( 
              i.z + vec4(0.0, i1.z, i2.z, 1.0))
            + i.y + vec4(0.0, i1.y, i2.y, 1.0)) 
            + i.x + vec4(0.0, i1.x, i2.x, 1.0));

    float n_ = 1.0/7.0;
    vec3 ns = n_ * D.wyz - D.xzx;

    vec4 j = p - 49.0 * floor(p * ns.z *ns.z);

    vec4 x_ = floor(j * ns.z);
    vec4 y_ = floor(j - 7.0 * x_);

    vec4 x = x_ *ns.x + ns.yyyy;
    vec4 y = y_ *ns.x + ns.yyyy;
    vec4 h = 1.0 - abs(x) - abs(y);

    vec4 b0 = vec4(x.xy, y.xy);
    vec4 b1 = vec4(x.zw, y.zw);

    vec4 s0 = floor(b0)*2.0 + 1.0;
    vec4 s1 = floor(b1)*2.0 + 1.0;
    vec4 sh = -step(h, vec4(0.0));

    vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy;
    vec4 a1 = b1.xzyw + s1.xzyw*sh.zzww;

    vec3 p0 = vec3(a0.xy,h.x);
    vec3 p1 = vec3(a0.zw,h.y);
    vec3 p2 = vec3(a1.xy,h.z);
    vec3 p3 = vec3(a1.zw,h.w);

    vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));
    p0 *= norm.x;
    p1 *= norm.y;
    p2 *= norm.z;
    p3 *= norm.w;

    vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);
    m = m * m;
    return 42.0 * dot(m*m, vec4(dot(p0,x0), dot(p1,x1), dot(p2,x2), dot(p3,x3)));
  }

  // Fractal Brownian Motion with reduced octaves for less fuzziness
  float fbm(vec3 p, int octaves) {
    float value = 0.0;
    float amplitude = 1.0;
    float frequency = 1.0;
    float persistence = 0.5;
    
    for (int i = 0; i < octaves; i++) {
      value += amplitude * snoise(p * frequency);
      amplitude *= persistence;
      frequency *= 2.0;
    }
    
    return value;
  }

  // Soil texture function with reduced intensity
  float getSoilTexture(vec3 pos, int textureType) {
    float detail = 0.0;
    
    // Scale and depth based on texture type
    float scale = 1.0;
    float depth = 0.05;
    
    if (textureType == 0) { // smooth
      scale = 5.0; depth = 0.01;
    } else if (textureType == 1) { // rough
      scale = 15.0; depth = 0.05;
    } else if (textureType == 2) { // cracked
      scale = 20.0; depth = 0.08;
      float crack1 = snoise(pos * scale * 2.0);
      float crack2 = snoise(pos * scale * 5.0);
      return (abs(crack1) < 0.1 ? depth * 1.5 : 0.0) + (abs(crack2) < 0.05 ? depth * 0.8 : 0.0);
    } else if (textureType == 3) { // layered
      scale = 12.0; depth = 0.04;
      float layer = snoise(pos * scale * 0.5);
      return sin(layer * 20.0) * depth * 0.8;
    } else if (textureType == 4) { // porous
      scale = 25.0; depth = 0.06;
      float pore = snoise(pos * scale * 4.0);
      return pore > 0.8 ? depth * 1.5 : 0.0;
    } else if (textureType == 5) { // grainy
      scale = 30.0; depth = 0.03;
      float grain1 = snoise(pos * scale * 8.0);
      float grain2 = snoise(pos * scale * 12.0);
      return grain1 * grain2 * depth;
    } else if (textureType == 6) { // crystalline
      scale = 18.0; depth = 0.07;
      float crystal = snoise(pos * scale * 3.0);
      return (crystal > 0.7 || crystal < -0.7) ? depth * 1.2 : 0.0;
    }
    
    // Default noise pattern
    float defaultNoise = snoise(pos * scale);
    return defaultNoise * depth * 0.5;
  }

  // Calculate landmark terrain influence
  vec2 calculateLandmarkInfluence(vec3 position) {
    float totalHeight = 0.0;
    float totalRoughness = 0.0;
    float totalWeight = 0.0;
    
    for (int i = 0; i < 10; i++) {
      if (i >= landmarkCount) break;
      
      // Get landmark position from flat array (3 floats per landmark)
      int posIndex = i * 3;
      vec3 landmarkPos = vec3(
        landmarkPositions[posIndex],
        landmarkPositions[posIndex + 1],
        landmarkPositions[posIndex + 2]
      );
      
      // Get landmark influence from flat array (4 floats per landmark)
      int infIndex = i * 4;
      float radius = landmarkInfluences[infIndex];
      float height = landmarkInfluences[infIndex + 1];
      float roughness = landmarkInfluences[infIndex + 2];
      float type = landmarkInfluences[infIndex + 3];
      
      // Calculate distance to landmark
      float distance = length(position - landmarkPos);
      
      // If within influence radius
      if (distance <= radius) {
        // Calculate weight based on distance (closer = stronger influence)
        float weight = 1.0 - (distance / radius);
        float heightInfluence = 0.0;
        
        // Different influence types have different height profiles
        if (type < 0.5) {
          // Crater: depression with raised rim
          float rimFactor = distance / radius;
          if (rimFactor > 0.8) {
            heightInfluence = height * 0.5 * (1.0 - (rimFactor - 0.8) * 5.0);
          } else {
            heightInfluence = height * (distance / radius);
          }
        } 
        else if (type < 1.5) {
          // Mountain: raised area that tapers off with distance
          heightInfluence = height * pow(1.0 - distance / radius, 2.0);
        }
        else if (type < 2.5) {
          // Valley: depression that's deeper in the center
          heightInfluence = height * pow(1.0 - distance / radius, 1.5);
        }
        else if (type < 3.5) {
          // Volcano: steep cone with central depression
          float normalizedDist = distance / radius;
          if (normalizedDist < 0.2) {
            // Central depression (caldera)
            heightInfluence = height * -0.3;
          } else {
            // Cone shape
            heightInfluence = height * pow(1.0 - normalizedDist, 1.2);
          }
        }
        else if (type < 4.5) {
          // Ice cap: gentle dome with smooth edges
          heightInfluence = height * pow(cos(3.14159 * distance / radius / 2.0), 2.0);
        }
        else if (type < 5.5) {
          // Ocean: depression with flat bottom
          heightInfluence = height * min(1.0, distance / (radius * 0.2));
        }
        else {
          // Custom or undefined: simple linear falloff
          heightInfluence = height * weight;
        }
        
        // Add weighted contributions
        totalHeight += heightInfluence * weight;
        totalRoughness += roughness * weight;
        totalWeight += weight;
      }
    }
    
    // Normalize by total weight if any landmarks had influence
    if (totalWeight > 0.0) {
      return vec2(totalHeight / totalWeight, totalRoughness / totalWeight);
    }
    
    return vec2(0.0, 0.0);
  }

  void main() {
    vUv = uv;
    vNormal = normal;
    vPosition = position;
    
    vec3 pos = position;
    float elevation = 0.0;
    
    if (isGaseous > 0.5) {
      // Gas giant features
      float bands = sin(pos.y * 10.0 + time * 0.1) * 0.5;
      float storms = snoise(pos * vec3(2.0, 8.0, 2.0) + time * 0.15) * 0.5;
      float cyclones = snoise(pos * vec3(4.0, 1.0, 4.0) + time * 0.05) * 0.25;
      
      elevation = mix(bands, storms, 0.5) + cyclones;
      elevation *= 0.05; // Reduced distortion for gas giants
      
      // Apply landmark influences (storms, etc.)
      vec2 landmarkEffect = calculateLandmarkInfluence(normalize(pos));
      elevation += landmarkEffect.x * 0.5; // Reduced effect for gas giants
    } else {
      // Terrestrial features - use FBM with fewer octaves for less fuzziness
      float baseNoise = fbm(pos * surfaceRoughness + time * 0.01, 5);
    
      // Apply mountain height
      baseNoise *= mountainHeight;
      
      // Apply soil texture with reduced intensity
      float textureDetail = getSoilTexture(pos, soilTexture) * 0.7;
      
      // Adjust texture based on soil type
      if (soilType == 2) { // volcanic
        textureDetail *= 1.5;
      } else if (soilType == 1) { // sandy
        textureDetail *= 0.7;
      }
      
      elevation = baseNoise - textureDetail;
      
      // Apply landmark influences
      vec2 landmarkEffect = calculateLandmarkInfluence(normalize(pos));
      elevation += landmarkEffect.x;
      
      // Add additional roughness from landmarks
      if (landmarkEffect.y > 0.0) {
        float additionalRoughness = snoise(pos * 20.0 * landmarkEffect.y) * landmarkEffect.y * 0.2;
        elevation += additionalRoughness;
      }
      
      elevation *= 0.08; // Scale for terrestrial planets
    }
    
    vElevation = elevation;
    
    // Apply displacement
    pos += normal * elevation;
    
    gl_Position = projectionMatrix * modelViewMatrix * vec4(pos, 1.0);
  }
`,gc=`
  varying vec2 vUv;
  varying vec3 vNormal;
  varying vec3 vPosition;
  varying float vElevation;
  
  uniform vec3 oceanColor;
  uniform vec3 beachColor;
  uniform vec3 landColor;
  uniform vec3 mountainColor;
  uniform float time;
  uniform float waterLevel;
  uniform float isGaseous;
  uniform float liquidEnabled;
  uniform int soilType;
  
  // Simplex 3D Noise
  vec4 permute(vec4 x){return mod(((x*34.0)+1.0)*x, 289.0);}
  vec4 taylorInvSqrt(vec4 r){return 1.79284291400159 - 0.85373472095314 * r;}

  float snoise(vec3 v){ 
    const vec2 C = vec2(1.0/6.0, 1.0/3.0);
    const vec4 D = vec4(0.0, 0.5, 1.0, 2.0);

    vec3 i = floor(v + dot(v, C.yyy));
    vec3 x0 = v - i + dot(i, C.xxx);

    vec3 g = step(x0.yzx, x0.xyz);
    vec3 l = 1.0 - g;
    vec3 i1 = min(g.xyz, l.zxy);
    vec3 i2 = max(g.xyz, l.zxy);

    vec3 x1 = x0 - i1 + 1.0 * C.xxx;
    vec3 x2 = x0 - i2 + 2.0 * C.xxx;
    vec3 x3 = x0 - 1. + 3.0 * C.xxx;

    i = mod(i, 289.0); 
    vec4 p = permute(permute(permute( 
              i.z + vec4(0.0, i1.z, i2.z, 1.0))
            + i.y + vec4(0.0, i1.y, i2.y, 1.0)) 
            + i.x + vec4(0.0, i1.x, i2.x, 1.0));

    float n_ = 1.0/7.0;
    vec3 ns = n_ * D.wyz - D.xzx;

    vec4 j = p - 49.0 * floor(p * ns.z *ns.z);

    vec4 x_ = floor(j * ns.z);
    vec4 y_ = floor(j - 7.0 * x_);

    vec4 x = x_ *ns.x + ns.yyyy;
    vec4 y = y_ *ns.x + ns.yyyy;
    vec4 h = 1.0 - abs(x) - abs(y);

    vec4 b0 = vec4(x.xy, y.xy);
    vec4 b1 = vec4(x.zw, y.zw);

    vec4 s0 = floor(b0)*2.0 + 1.0;
    vec4 s1 = floor(b1)*2.0 + 1.0;
    vec4 sh = -step(h, vec4(0.0));

    vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy;
    vec4 a1 = b1.xzyw + s1.xzyw*sh.zzww;

    vec3 p0 = vec3(a0.xy,h.x);
    vec3 p1 = vec3(a0.zw,h.y);
    vec3 p2 = vec3(a1.xy,h.z);
    vec3 p3 = vec3(a1.zw,h.w);

    vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));
    p0 *= norm.x;
    p1 *= norm.y;
    p2 *= norm.z;
    p3 *= norm.w;

    vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);
    m = m * m;
    return 42.0 * dot(m*m, vec4(dot(p0,x0), dot(p1,x1), dot(p2,x2), dot(p3,x3)));
  }

  void main() {
    vec3 normal = normalize(vNormal);

    // Simple ambient occlusion based on elevation
    float ao = 1.0 - abs(vElevation) * 2.0;
    ao = max(0.4, ao);
    
    // Static light direction for consistent lighting
    vec3 lightDir = normalize(vec3(0.0, 0.3, 1.0));
    
    // Basic lighting calculation - fixed intensity
    float lightFactor = 0.8;
  
    vec3 color;
  
    if (isGaseous > 0.5) {
      // Gas giant coloring
      float bands = sin(vPosition.y * 10.0 + time * 0.1) * 0.5 + 0.5;
      float storms = smoothstep(0.4, 0.6, snoise(vPosition * 2.0 + time * 0.15));
      float cyclones = smoothstep(0.3, 0.7, snoise(vPosition * vec3(4.0, 1.0, 4.0) + time * 0.05));
    
      // Use ocean and land colors for gas giants
      color = mix(oceanColor, landColor, bands);
      color = mix(color, mountainColor, storms * 0.5);
      color = mix(color, vec3(1.0), cyclones * 0.2);
    
      // Add subtle atmospheric glow
      float atmosphere = pow(1.0 - abs(dot(normal, vec3(0.0, 0.0, 1.0))), 2.0);
      color += vec3(0.1, 0.15, 0.25) * atmosphere;
    } else {
      // Terrestrial coloring based on elevation
      float normalizedElevation = (vElevation + 0.08) / 0.16; // Normalize to 0-1 range
    
      if (liquidEnabled > 0.5 && normalizedElevation < waterLevel) {
        // Water areas
        float depth = (waterLevel - normalizedElevation) / waterLevel;
        color = mix(beachColor, oceanColor, depth * 2.0);
      
        // Add water effects
        float waterNoise = snoise(vPosition * 20.0 + time * 0.1) * 0.02;
        color += vec3(waterNoise);
      
        // Add water shine
        float fresnel = pow(1.0 - abs(dot(normal, vec3(0.0, 0.0, 1.0))), 2.0);
        float shine = pow(fresnel, 4.0) * 0.3;
        color += vec3(shine);
      } else {
        // Land areas
        if (normalizedElevation < waterLevel + 0.05) {
          // Beach/shore
          color = beachColor;
        } else if (normalizedElevation < waterLevel + 0.3) {
          // Regular terrain
          float t = (normalizedElevation - (waterLevel + 0.05)) / 0.25;
          color = mix(beachColor, landColor, t);
        } else {
          // Mountains
          float t = (normalizedElevation - (waterLevel + 0.3)) / 0.7;
          color = mix(landColor, mountainColor, t);
        }
      
        // Add soil type variations with reduced intensity
        float soilNoise = snoise(vPosition * 10.0) * 0.05;
      
        // Different soil type effects
        if (soilType == 0) { // rocky
          color *= 0.95 + soilNoise;
        } else if (soilType == 1) { // sandy
          color = mix(color, beachColor, 0.15);
          color += vec3(soilNoise * 0.15);
        } else if (soilType == 2) { // volcanic
          color *= 0.85;
          if (soilNoise > 0.03) color += vec3(0.08, 0.0, 0.0);
        } else if (soilType == 3) { // organic
          color = mix(color, vec3(0.2, 0.5, 0.2), 0.25);
        } else if (soilType == 4) { // dusty
          color = mix(color, vec3(0.6, 0.5, 0.4), 0.25);
        } else if (soilType == 5) { // frozen
          color = mix(color, vec3(0.8, 0.9, 1.0), 0.3);
          color += vec3(soilNoise * 0.2);
        } else if (soilType == 6) { // muddy
          color = mix(color, vec3(0.3, 0.2, 0.1), 0.3);
        }
      }
    }
    
    // Apply ambient occlusion
    color *= ao;
    
    // Apply fixed light intensity
    color *= lightFactor;
    
    gl_FragColor = vec4(color, 1.0);
  }
`,vc=`
  varying vec3 vNormal;
  varying vec2 vUv;
  
  void main() {
    vNormal = normalize(normalMatrix * normal);
    vUv = uv;
    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
  }
`,xc=`
  uniform float time;
  uniform vec3 color;
  uniform float strength;
  
  varying vec3 vNormal;
  varying vec2 vUv;
  
  void main() {
    float intensity = pow(0.7 - abs(dot(vNormal, vec3(0, 0, 1))), 1.5);
    vec3 atmosphereColor = color * intensity * strength;
    gl_FragColor = vec4(atmosphereColor, intensity * strength * 0.7);
  }
`,yc=`
  uniform float time;
  varying vec2 vUv;
  varying vec3 vNormal;

  void main() {
    vUv = uv;
    vNormal = normal;
    
    // Add some movement to the clouds
    vec3 pos = position;
    pos += normal * sin(pos.x * 10.0 + time * 0.5) * 0.005;
    
    gl_Position = projectionMatrix * modelViewMatrix * vec4(pos, 1.0);
  }
`,bc=`
  uniform float time;
  uniform float cloudCount;
  varying vec2 vUv;
  varying vec3 vNormal;

  float rand(vec2 co) {
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
  }

  void main() {
    vec2 uv = vUv;
    
    // Create cloud-like patterns
    float noise = rand(uv + time * 0.1) * 0.5 + 0.5;
    noise += rand(uv * 2.0 - time * 0.05) * 0.25;
    noise += rand(uv * 4.0 + time * 0.1) * 0.125;
    noise /= 1.875;
    
    // Adjust cloud coverage based on cloudCount
    float coverage = cloudCount / 100.0;
    noise = smoothstep(0.5 - coverage * 0.4, 0.6, noise);
    
    // Create holes in the clouds
    float holes = rand(uv * 8.0 - time * 0.02);
    noise *= smoothstep(0.4, 0.6, holes);
    
    // Fade out at the edges for a more natural look
    float fadeEdges = pow(1.0 - abs(dot(vNormal, vec3(0.0, 0.0, 1.0))), 2.0);
    noise *= fadeEdges;
    
    gl_FragColor = vec4(1.0, 1.0, 1.0, noise * 0.5);
  }
`;function ro({pointInfo:e,planetStats:t}){const r=n=>n.toFixed(3);return o.jsx(ye.Html,{position:[0,0,0],style:{position:"absolute",right:"20px",top:"20px",pointerEvents:"none"},children:o.jsxs("div",{className:"w-64 bg-black/90 text-green-400 p-4 font-mono text-xs border border-green-500/30 rounded-md",children:[o.jsx("h3",{className:"text-sm font-bold mb-2 border-b border-green-500/30 pb-1",children:"SURFACE SCAN"}),o.jsxs("div",{className:"grid grid-cols-2 gap-y-1 gap-x-2",children:[o.jsx("span",{className:"text-green-500/70",children:"COORDINATES:"}),o.jsxs("span",{children:["X: ",r(e.normalizedPosition.x),o.jsx("br",{}),"Y: ",r(e.normalizedPosition.y),o.jsx("br",{}),"Z: ",r(e.normalizedPosition.z)]}),o.jsx("span",{className:"text-green-500/70",children:"ELEVATION:"}),o.jsxs("span",{children:[(e.height*100).toFixed(1)," units"]}),o.jsx("span",{className:"text-green-500/70",children:"TERRAIN:"}),o.jsx("span",{children:e.terrainType}),o.jsx("span",{className:"text-green-500/70",children:"TEMPERATURE:"}),o.jsxs("span",{children:[e.temperature.toFixed(1)," K",o.jsx("br",{}),"(",(e.temperature-273.15).toFixed(1),"Â°C)"]}),o.jsx("span",{className:"text-green-500/70",children:"REL TO FREEZE:"}),o.jsxs("span",{className:e.relativeToWaterTemp<0?"text-blue-400":"text-red-400",children:[e.relativeToWaterTemp>0?"+":"",e.relativeToWaterTemp.toFixed(1)," K"]})]}),o.jsx("div",{className:"mt-2 pt-1 border-t border-green-500/30 text-center text-green-500/50",children:"Click elsewhere to scan another location"})]})})}function wc({planetStats:e}){const t=D.useRef(null),r=D.useRef(null),n=D.useRef(null),[s,i]=D.useState(null),{raycaster:a,camera:c,gl:l}=Le.useThree(),{planetMaterial:d,atmosphereMaterial:f,cloudsMaterial:u}=D.useMemo(()=>{const g=e.customColors||Rt(e.biome||"Rocky Highlands"),C=new S.ShaderMaterial({uniforms:{time:{value:0},oceanColor:{value:new S.Color(g.oceanFloor||"#1E4D6B")},beachColor:{value:new S.Color(g.beach||"#8D6E63")},landColor:{value:new S.Color(g.regular||"#A1887F")},mountainColor:{value:new S.Color(g.mountain||"#D7CCC8")},waterLevel:{value:e.waterLevel||.65},surfaceRoughness:{value:e.surfaceRoughness||.5},mountainHeight:{value:e.mountainHeight||.6},isGaseous:{value:e.mass>7||e.radius>2.5?1:0},soilType:{value:["rocky","sandy","volcanic","organic","dusty","frozen","muddy"].indexOf(e.soilType||"rocky")},soilTexture:{value:["smooth","rough","cracked","layered","porous","grainy","crystalline"].indexOf(e.soilTexture||"rough")},liquidEnabled:{value:e.liquidEnabled!==!1?1:0},landmarkPositions:{value:new Float32Array(30)},landmarkInfluences:{value:new Float32Array(40)},landmarkCount:{value:0}},vertexShader:hc,fragmentShader:gc}),b=new S.ShaderMaterial({uniforms:{time:{value:0},color:{value:new S.Color(8900331)},strength:{value:e.atmosphereStrength||.8}},vertexShader:vc,fragmentShader:xc,transparent:!0,side:S.DoubleSide,depthWrite:!1}),w=new S.ShaderMaterial({uniforms:{time:{value:0},cloudCount:{value:e.cloudCount||30}},vertexShader:yc,fragmentShader:bc,transparent:!0,depthWrite:!1});return{planetMaterial:C,atmosphereMaterial:b,cloudsMaterial:w}},[e]);D.useEffect(()=>{if(!e.landmarks||e.landmarks.length===0){d.uniforms.landmarkCount.value=0;return}const g=e.landmarks.slice(0,10),C=[],b=[];g.forEach(w=>{const N=new S.Vector3(w.coordinates.x,w.coordinates.y,w.coordinates.z).normalize();C.push(N.x,N.y,N.z);let A=1;switch(w.influence_type){case"crater":A=0;break;case"mountain":A=1;break;case"valley":A=2;break;case"volcano":A=3;break;case"glacier":A=4;break;case"basin":A=5;break;default:A=6}b.push(w.influence_radius||.5,w.influence_strength||.7,w.influence_roughness||.5,A)}),d.uniforms.landmarkPositions.value=C,d.uniforms.landmarkInfluences.value=b,d.uniforms.landmarkCount.value=g.length},[e.landmarks,d.uniforms]);const p=g=>{if(g.stopPropagation(),!t.current)return;const C=new S.Vector2(g.clientX/l.domElement.clientWidth*2-1,-(g.clientY/l.domElement.clientHeight)*2+1);a.setFromCamera(C,c);const b=a.intersectObject(t.current);if(b.length>0){const w=b[0].point,N=w.clone().normalize(),A=d.uniforms.surfaceRoughness.value*d.uniforms.mountainHeight.value*.08*Math.sin(w.x*10+w.y*10+w.z*10),M=d.uniforms.waterLevel.value;let j="Mountain";A<-.05?j="Ocean Floor":A<M?j="Beach":A<M+.1&&(j="Lowland");const P=e.temperature,O=A*10,k=P-O,L=k-273;i({position:w,normalizedPosition:N,height:A,terrainType:j,temperature:k,relativeToWaterTemp:L})}};Le.useFrame(g=>{t.current&&(t.current.rotation.y+=.001,d.uniforms.time.value=g.clock.elapsedTime),r.current&&(r.current.rotation.y+=5e-4,f.uniforms.time.value=g.clock.elapsedTime),n.current&&(n.current.rotation.y+=.0012,u.uniforms.time.value=g.clock.elapsedTime)});const x=!(e.mass>7||e.radius>2.5)&&e.cloudCount&&e.cloudCount>0,h=(g,C)=>g>7||C>2.5?"gaseous":"terrestrial",y=D.useMemo(()=>{if(!e.landmarks||e.landmarks.length===0)return null;const C=h(e.mass,e.radius)==="gaseous";return e.landmarks.filter(w=>{if(!w.category){const N=["storm","vortex","band","spot","turbulent","cyclone","anticyclone","zonal_flow"];return C?N.includes(w.influence_type||""):!N.includes(w.influence_type||"")}return C?w.category==="gaseous":w.category==="terrestrial"}).map((w,N)=>{const{x:A,y:M,z:j}=w.coordinates,P=new S.Vector3(A,M,j).normalize().multiplyScalar(e.radius*1.02);let O="#22c55e";w.type.includes("Volcano")||w.type.includes("Storm")?O="#ef4444":w.type.includes("Ocean")||w.type.includes("Water")?O="#3b82f6":w.type.includes("Ice")||w.type.includes("Frozen")?O="#a5f3fc":(w.type.includes("Sand")||w.type.includes("Desert"))&&(O="#fcd34d");const k=w.visual_effect&&w.visual_effect!=="None";return o.jsxs("group",{position:[P.x,P.y,P.z],children:[o.jsxs("mesh",{children:[o.jsx("sphereGeometry",{args:[.03,16,16]}),o.jsx("meshBasicMaterial",{color:O})]}),k&&o.jsxs("mesh",{children:[o.jsx("sphereGeometry",{args:[.05,16,16]}),o.jsx("meshBasicMaterial",{color:O,transparent:!0,opacity:.3,depthWrite:!1})]}),o.jsx(ye.Html,{position:[0,.1,0],center:!0,distanceFactor:10,occlude:!0,children:o.jsx("div",{className:"bg-black/80 text-green-400 px-2 py-1 text-xs font-mono rounded border border-green-500/50 whitespace-nowrap",children:w.classification_id})})]},N)})},[e.landmarks,e.radius,e.mass]);return o.jsxs(o.Fragment,{children:[o.jsxs("group",{onClick:p,children:[o.jsx(ye.Sphere,{ref:t,args:[1,256,256],scale:e.radius,children:o.jsx("primitive",{object:d,attach:"material"})}),o.jsx(ye.Sphere,{ref:r,args:[1.1,128,128],scale:e.radius,children:o.jsx("primitive",{object:f,attach:"material"})}),x&&o.jsx(ye.Sphere,{ref:n,args:[1.02,128,128],scale:e.radius,children:o.jsx("primitive",{object:u,attach:"material"})}),y]}),s&&o.jsx(ro,{pointInfo:s,planetStats:e})]})}const Pr={mass:1,radius:1,density:5.51,temperature:288,surfaceRoughness:.5,terrainErosion:.3,waterLevel:.65,biomassLevel:.2,plateTectonics:.8,soilType:"rocky",soilTexture:"rough",atmosphereStrength:.8,liquidType:"water",salinity:.35,precipitationCompound:"water",biome:"Rocky Highlands",mountainHeight:.6,hasRings:!1,cloudCount:30,volcanicActivity:.3,waterHeight:.65,liquidEnabled:!0,landmarks:[]};function Cc(e,t){return e/Math.pow(t,3)*5.51}function et(e,t){return e>7||t>2.5?"gaseous":"terrestrial"}function no(e){return e>=273&&e<=373?{type:"water",color:"#1E4D6B"}:e>=91&&e<=112?{type:"methane",color:"#7FB3D5"}:e>=63&&e<=77?{type:"nitrogen",color:"#90EE90"}:e>=195&&e<=240?{type:"ammonia",color:"#D8BFD8"}:e>=90&&e<=184?{type:"ethane",color:"#FFD700"}:{type:"none",color:"#8B4513"}}function oo(e,t){const n={water:[273,373],methane:[91,112],nitrogen:[63,77],ammonia:[195,240],ethane:[90,184]}[t];return n?e>=n[0]&&e<=n[1]:!1}var Me=(e=>(e[e.OceanFloor=0]="OceanFloor",e[e.Beach=1]="Beach",e[e.Regular=2]="Regular",e[e.Mountain=3]="Mountain",e))(Me||{});function Nc(e){const t={smooth:{scale:5,depth:.01,irregularity:.1,pattern:"noise"},rough:{scale:15,depth:.05,irregularity:.7,pattern:"noise"},cracked:{scale:20,depth:.08,irregularity:.6,pattern:"cracks"},layered:{scale:12,depth:.04,irregularity:.3,pattern:"layers"},porous:{scale:25,depth:.06,irregularity:.5,pattern:"pores"},grainy:{scale:30,depth:.03,irregularity:.8,pattern:"grains"},crystalline:{scale:18,depth:.07,irregularity:.4,pattern:"crystals"}};return t[e]||t.rough}function kc(e,t){const r=(e+.15)/.3;return r<t-.2?0:r<t?1:r<t+.4?2:3}function Ir(e){return{...Pr,...e}}function Dr(e){return[]}function Ec(e,t,r){return 0}function so(e,t,r){let n=0,s=0;if(t&&Array.isArray(t))for(let i=0;i<t.length;i++){const a=t[i];if(!a||!a.influence_radius||!a.influence_strength||!a.coordinates)continue;const c=typeof a.coordinates.x=="number"?a.coordinates.x:0,l=typeof a.coordinates.y=="number"?a.coordinates.y:0,d=typeof a.coordinates.z=="number"?a.coordinates.z:0,f=new S.Vector3(c,l,d).normalize().multiplyScalar(r),u=e.distanceTo(f),p=a.influence_radius*r;if(u<p){const v=u/p,x=a.influence_strength*(1-v);let h=0;switch(a.influence_type){case"crater":h=-x*.05;break;case"mountain":h=x*.08;break;case"valley":h=-x*.03;break;case"volcano":h=x*.1;break;case"basin":h=-x*.04;break;case"dune":h=x*.02*Math.sin(u*5);break;case"glacier":h=x*.06;break;case"storm":case"vortex":case"band":case"spot":h=x*.03;break;default:h=x*.05}let y=0;a.influence_type==="volcano"?y=x*.2:a.influence_type==="glacier"&&(y=-x*.1),n+=h,s+=y}}return{height:n,roughness:s}}function jc({planetStats:e}){const t=D.useRef(null),r=D.useRef(null),n=et(e.mass,e.radius),s=D.useMemo(()=>{const i=e.customColors||Rt(e.biome||"Rocky Highlands"),a=new S.Color(i.regular||"#A1887F"),c=new S.MeshStandardMaterial({color:a,roughness:.7,metalness:.1}),l=n==="terrestrial"?new S.Color(8900331):new S.Color(16777215),d=n==="terrestrial"?e.atmosphereStrength?e.atmosphereStrength*.4:.25:.15,f=new S.MeshPhongMaterial({color:l,transparent:!0,opacity:d,side:S.DoubleSide,depthWrite:!1});return{planetMaterial:c,atmosphereMaterial:f}},[e,n]);return Le.useFrame(()=>{t.current&&(t.current.rotation.y+=.001),r.current&&(r.current.rotation.y+=5e-4)}),o.jsxs("group",{children:[o.jsx(ye.Sphere,{ref:t,args:[1,64,64],scale:e.radius,children:o.jsx("primitive",{object:s.planetMaterial,attach:"material"})}),o.jsx(ye.Sphere,{ref:r,args:[1.1,32,32],scale:e.radius,children:o.jsx("primitive",{object:s.atmosphereMaterial,attach:"material"})})]})}const Sc=`
  varying vec2 vUv;
  varying vec3 vNormal;
  varying vec3 vPosition;
  varying float vElevation;
  
  uniform float time;
  uniform float surfaceRoughness;
  uniform float mountainHeight;
  uniform float isGaseous;
  uniform int soilType;
  uniform int soilTexture;
  uniform float landmarkPositions[30]; // Support up to 10 landmarks (x,y,z for each)
  uniform float landmarkInfluences[40]; // Support up to 10 landmarks (radius,height,roughness,type for each)
  uniform int landmarkCount;
  
  // Simplex 3D Noise
  vec4 permute(vec4 x){return mod(((x*34.0)+1.0)*x, 289.0);}
  vec4 taylorInvSqrt(vec4 r){return 1.79284291400159 - 0.85373472095314 * r;}

  float snoise(vec3 v){ 
    const vec2 C = vec2(1.0/6.0, 1.0/3.0);
    const vec4 D = vec4(0.0, 0.5, 1.0, 2.0);

    vec3 i = floor(v + dot(v, C.yyy));
    vec3 x0 = v - i + dot(i, C.xxx);

    vec3 g = step(x0.yzx, x0.xyz);
    vec3 l = 1.0 - g;
    vec3 i1 = min(g.xyz, l.zxy);
    vec3 i2 = max(g.xyz, l.zxy);

    vec3 x1 = x0 - i1 + 1.0 * C.xxx;
    vec3 x2 = x0 - i2 + 2.0 * C.xxx;
    vec3 x3 = x0 - 1. + 3.0 * C.xxx;

    i = mod(i, 289.0); 
    vec4 p = permute(permute(permute( 
              i.z + vec4(0.0, i1.z, i2.z, 1.0))
            + i.y + vec4(0.0, i1.y, i2.y, 1.0)) 
            + i.x + vec4(0.0, i1.x, i2.x, 1.0));

    float n_ = 1.0/7.0;
    vec3 ns = n_ * D.wyz - D.xzx;

    vec4 j = p - 49.0 * floor(p * ns.z *ns.z);

    vec4 x_ = floor(j * ns.z);
    vec4 y_ = floor(j - 7.0 * x_);

    vec4 x = x_ *ns.x + ns.yyyy;
    vec4 y = y_ *ns.x + ns.yyyy;
    vec4 h = 1.0 - abs(x) - abs(y);

    vec4 b0 = vec4(x.xy, y.xy);
    vec4 b1 = vec4(x.zw, y.zw);

    vec4 s0 = floor(b0)*2.0 + 1.0;
    vec4 s1 = floor(b1)*2.0 + 1.0;
    vec4 sh = -step(h, vec4(0.0));

    vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy;
    vec4 a1 = b1.xzyw + s1.xzyw*sh.zzww;

    vec3 p0 = vec3(a0.xy,h.x);
    vec3 p1 = vec3(a0.zw,h.y);
    vec3 p2 = vec3(a1.xy,h.z);
    vec3 p3 = vec3(a1.zw,h.w);

    vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));
    p0 *= norm.x;
    p1 *= norm.y;
    p2 *= norm.z;
    p3 *= norm.w;

    vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);
    m = m * m;
    return 42.0 * dot(m*m, vec4(dot(p0,x0), dot(p1,x1), dot(p2,x2), dot(p3,x3)));
  }

  // Fractal Brownian Motion with reduced octaves for less fuzziness
  float fbm(vec3 p, int octaves) {
    float value = 0.0;
    float amplitude = 1.0;
    float frequency = 1.0;
    float persistence = 0.5;
    
    for (int i = 0; i < octaves; i++) {
      value += amplitude * snoise(p * frequency);
      amplitude *= persistence;
      frequency *= 2.0;
    }
    
    return value;
  }

  // Soil texture function with reduced intensity
  float getSoilTexture(vec3 pos, int textureType) {
    float detail = 0.0;
    
    // Scale and depth based on texture type
    float scale = 1.0;
    float depth = 0.05;
    
    if (textureType == 0) { // smooth
      scale = 5.0; depth = 0.01;
    } else if (textureType == 1) { // rough
      scale = 15.0; depth = 0.05;
    } else if (textureType == 2) { // cracked
      scale = 20.0; depth = 0.08;
      float crack1 = snoise(pos * scale * 2.0);
      float crack2 = snoise(pos * scale * 5.0);
      return (abs(crack1) < 0.1 ? depth * 1.5 : 0.0) + (abs(crack2) < 0.05 ? depth * 0.8 : 0.0);
    } else if (textureType == 3) { // layered
      scale = 12.0; depth = 0.04;
      float layer = snoise(pos * scale * 0.5);
      return sin(layer * 20.0) * depth * 0.8;
    } else if (textureType == 4) { // porous
      scale = 25.0; depth = 0.06;
      float pore = snoise(pos * scale * 4.0);
      return pore > 0.8 ? depth * 1.5 : 0.0;
    } else if (textureType == 5) { // grainy
      scale = 30.0; depth = 0.03;
      float grain1 = snoise(pos * scale * 8.0);
      float grain2 = snoise(pos * scale * 12.0);
      return grain1 * grain2 * depth;
    } else if (textureType == 6) { // crystalline
      scale = 18.0; depth = 0.07;
      float crystal = snoise(pos * scale * 3.0);
      return (crystal > 0.7 || crystal < -0.7) ? depth * 1.2 : 0.0;
    }
    
    // Default noise pattern
    float defaultNoise = snoise(pos * scale);
    return defaultNoise * depth * 0.5;
  }

  // Calculate landmark terrain influence
  vec2 calculateLandmarkInfluence(vec3 position) {
    float totalHeight = 0.0;
    float totalRoughness = 0.0;
    float totalWeight = 0.0;
    
    for (int i = 0; i < 10; i++) {
      if (i >= landmarkCount) break;
      
      // Get landmark position from flat array (3 floats per landmark)
      int posIndex = i * 3;
      vec3 landmarkPos = vec3(
        landmarkPositions[posIndex],
        landmarkPositions[posIndex + 1],
        landmarkPositions[posIndex + 2]
      );
      
      // Get landmark influence from flat array (4 floats per landmark)
      int infIndex = i * 4;
      float radius = landmarkInfluences[infIndex];
      float height = landmarkInfluences[infIndex + 1];
      float roughness = landmarkInfluences[infIndex + 2];
      float type = landmarkInfluences[infIndex + 3];
      
      // Calculate distance to landmark
      float distance = length(position - landmarkPos);
      
      // If within influence radius
      if (distance <= radius) {
        // Calculate weight based on distance (closer = stronger influence)
        float weight = 1.0 - (distance / radius);
        float heightInfluence = 0.0;
        
        // Different influence types have different height profiles
        if (type < 0.5) {
          // Crater: depression with raised rim
          float rimFactor = distance / radius;
          if (rimFactor > 0.8) {
            heightInfluence = height * 0.5 * (1.0 - (rimFactor - 0.8) * 5.0);
          } else {
            heightInfluence = height * (distance / radius);
          }
        } 
        else if (type < 1.5) {
          // Mountain: raised area that tapers off with distance
          heightInfluence = height * pow(1.0 - distance / radius, 2.0);
        }
        else if (type < 2.5) {
          // Valley: depression that's deeper in the center
          heightInfluence = height * pow(1.0 - distance / radius, 1.5);
        }
        else if (type < 3.5) {
          // Volcano: steep cone with central depression
          float normalizedDist = distance / radius;
          if (normalizedDist < 0.2) {
            // Central depression (caldera)
            heightInfluence = height * -0.3;
          } else {
            // Cone shape
            heightInfluence = height * pow(1.0 - normalizedDist, 1.2);
          }
        }
        else if (type < 4.5) {
          // Ice cap: gentle dome with smooth edges
          heightInfluence = height * pow(cos(3.14159 * distance / radius / 2.0), 2.0);
        }
        else if (type < 5.5) {
          // Ocean: depression with flat bottom
          heightInfluence = height * min(1.0, distance / (radius * 0.2));
        }
        else {
          // Custom or undefined: simple linear falloff
          heightInfluence = height * weight;
        }
        
        // Add weighted contributions
        totalHeight += heightInfluence * weight;
        totalRoughness += roughness * weight;
        totalWeight += weight;
      }
    }
    
    // Normalize by total weight if any landmarks had influence
    if (totalWeight > 0.0) {
      return vec2(totalHeight / totalWeight, totalRoughness / totalWeight);
    }
    
    return vec2(0.0, 0.0);
  }

  void main() {
    vUv = uv;
    vNormal = normal;
    vPosition = position;
    
    vec3 pos = position;
    float elevation = 0.0;
    
    if (isGaseous > 0.5) {
      // Gas giant features
      float bands = sin(pos.y * 10.0 + time * 0.1) * 0.5;
      float storms = snoise(pos * vec3(2.0, 8.0, 2.0) + time * 0.15) * 0.5;
      float cyclones = snoise(pos * vec3(4.0, 1.0, 4.0) + time * 0.05) * 0.25;
      
      elevation = mix(bands, storms, 0.5) + cyclones;
      elevation *= 0.05; // Reduced distortion for gas giants
      
      // Apply landmark influences (storms, etc.)
      vec2 landmarkEffect = calculateLandmarkInfluence(normalize(pos));
      elevation += landmarkEffect.x * 0.5; // Reduced effect for gas giants
    } else {
      // Terrestrial features - use FBM with fewer octaves for less fuzziness
      float baseNoise = fbm(pos * surfaceRoughness + time * 0.01, 5);
    
      // Apply mountain height
      baseNoise *= mountainHeight;
      
      // Apply soil texture with reduced intensity
      float textureDetail = getSoilTexture(pos, soilTexture) * 0.7;
      
      // Adjust texture based on soil type
      if (soilType == 2) { // volcanic
        textureDetail *= 1.5;
      } else if (soilType == 1) { // sandy
        textureDetail *= 0.7;
      }
      
      elevation = baseNoise - textureDetail;
      
      // Apply landmark influences
      vec2 landmarkEffect = calculateLandmarkInfluence(normalize(pos));
      elevation += landmarkEffect.x;
      
      // Add additional roughness from landmarks
      if (landmarkEffect.y > 0.0) {
        float additionalRoughness = snoise(pos * 20.0 * landmarkEffect.y) * landmarkEffect.y * 0.2;
        elevation += additionalRoughness;
      }
      
      elevation *= 0.08; // Scale for terrestrial planets
    }
    
    vElevation = elevation;
    
    // Apply displacement
    pos += normal * elevation;
    
    gl_Position = projectionMatrix * modelViewMatrix * vec4(pos, 1.0);
  }
`,Tc=`
  varying vec2 vUv;
  varying vec3 vNormal;
  varying vec3 vPosition;
  varying float vElevation;
  
  uniform vec3 oceanColor;
  uniform vec3 beachColor;
  uniform vec3 landColor;
  uniform vec3 mountainColor;
  uniform float time;
  uniform float waterLevel;
  uniform float isGaseous;
  uniform float liquidEnabled;
  uniform int soilType;
  uniform int soilTexture;
  uniform float surfaceRoughness;
  uniform float mountainHeight;
  
  // Simplex 3D Noise
  vec4 permute(vec4 x){return mod(((x*34.0)+1.0)*x, 289.0);}
  vec4 taylorInvSqrt(vec4 r){return 1.79284291400159 - 0.85373472095314 * r;}

  float snoise(vec3 v){ 
    const vec2 C = vec2(1.0/6.0, 1.0/3.0);
    const vec4 D = vec4(0.0, 0.5, 1.0, 2.0);

    vec3 i = floor(v + dot(v, C.yyy));
    vec3 x0 = v - i + dot(i, C.xxx);

    vec3 g = step(x0.yzx, x0.xyz);
    vec3 l = 1.0 - g;
    vec3 i1 = min(g.xyz, l.zxy);
    vec3 i2 = max(g.xyz, l.zxy);

    vec3 x1 = x0 - i1 + 1.0 * C.xxx;
    vec3 x2 = x0 - i2 + 2.0 * C.xxx;
    vec3 x3 = x0 - 1. + 3.0 * C.xxx;

    i = mod(i, 289.0); 
    vec4 p = permute(permute(permute( 
              i.z + vec4(0.0, i1.z, i2.z, 1.0))
            + i.y + vec4(0.0, i1.y, i2.y, 1.0)) 
            + i.x + vec4(0.0, i1.x, i2.x, 1.0));

    float n_ = 1.0/7.0;
    vec3 ns = n_ * D.wyz - D.xzx;

    vec4 j = p - 49.0 * floor(p * ns.z *ns.z);

    vec4 x_ = floor(j * ns.z);
    vec4 y_ = floor(j - 7.0 * x_);

    vec4 x = x_ *ns.x + ns.yyyy;
    vec4 y = y_ *ns.x + ns.yyyy;
    vec4 h = 1.0 - abs(x) - abs(y);

    vec4 b0 = vec4(x.xy, y.xy);
    vec4 b1 = vec4(x.zw, y.zw);

    vec4 s0 = floor(b0)*2.0 + 1.0;
    vec4 s1 = floor(b1)*2.0 + 1.0;
    vec4 sh = -step(h, vec4(0.0));

    vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy;
    vec4 a1 = b1.xzyw + s1.xzyw*sh.zzww;

    vec3 p0 = vec3(a0.xy,h.x);
    vec3 p1 = vec3(a0.zw,h.y);
    vec3 p2 = vec3(a1.xy,h.z);
    vec3 p3 = vec3(a1.zw,h.w);

    vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));
    p0 *= norm.x;
    p1 *= norm.y;
    p2 *= norm.z;
    p3 *= norm.w;

    vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);
    m = m * m;
    return 42.0 * dot(m*m, vec4(dot(p0,x0), dot(p1,x1), dot(p2,x2), dot(p3,x3)));
  }

  // Fractal Brownian Motion
  float fbm(vec3 p, int octaves) {
    float value = 0.0;
    float amplitude = 1.0;
    float frequency = 1.0;
    float persistence = 0.5;
    
    for (int i = 0; i < octaves; i++) {
      value += amplitude * snoise(p * frequency);
      amplitude *= persistence;
      frequency *= 2.0;
    }
    
    return value;
  }

  // Voronoi noise for cell-like patterns
  float voronoi(vec3 p) {
    vec3 i = floor(p);
    vec3 f = fract(p);
    
    float minDist = 1.0;
    
    for(int z = -1; z <= 1; z++) {
      for(int y = -1; y <= 1; y++) {
        for(int x = -1; x <= 1; x++) {
          vec3 cell = vec3(float(x), float(y), float(z));
          vec3 cellPosition = cell + snoise(i + cell) * 0.5;
          float dist = length(cellPosition - f);
          minDist = min(minDist, dist);
        }
      }
    }
    
    return minDist;
  }

  // Function to create stylized borders
  float borderEffect(vec3 position, float scale, float width) {
    float cell = voronoi(position * scale);
    return smoothstep(width - 0.05, width + 0.05, cell);
  }

  // Soil texture function with reduced intensity
  float getSoilTexture(vec3 pos, int textureType) {
    float detail = 0.0;
    
    // Scale and depth based on texture type
    float scale = 1.0;
    float depth = 0.05;
    
    if (textureType == 0) { // smooth
      scale = 5.0; depth = 0.01;
    } else if (textureType == 1) { // rough
      scale = 15.0; depth = 0.05;
    } else if (textureType == 2) { // cracked
      scale = 20.0; depth = 0.08;
      float crack1 = snoise(pos * scale * 2.0);
      float crack2 = snoise(pos * scale * 5.0);
      return (abs(crack1) < 0.1 ? depth * 1.5 : 0.0) + (abs(crack2) < 0.05 ? depth * 0.8 : 0.0);
    } else if (textureType == 3) { // layered
      scale = 12.0; depth = 0.04;
      float layer = snoise(pos * scale * 0.5);
      return sin(layer * 20.0) * depth * 0.8;
    } else if (textureType == 4) { // porous
      scale = 25.0; depth = 0.06;
      float pore = snoise(pos * scale * 4.0);
      return pore > 0.8 ? depth * 1.5 : 0.0;
    } else if (textureType == 5) { // grainy
      scale = 30.0; depth = 0.03;
      float grain1 = snoise(pos * scale * 8.0);
      float grain2 = snoise(pos * scale * 12.0);
      return grain1 * grain2 * depth;
    } else if (textureType == 6) { // crystalline
      scale = 18.0; depth = 0.07;
      float crystal = snoise(pos * scale * 3.0);
      return (crystal > 0.7 || crystal < -0.7) ? depth * 1.2 : 0.0;
    }
    
    // Default noise pattern
    float defaultNoise = snoise(pos * scale);
    return defaultNoise * depth * 0.5;
  }

  void main() {
    vec3 normal = normalize(vNormal);
    float normalizedElevation = (vElevation + 0.08) / 0.16; // Normalize to 0-1 range
    
    // Create noise patterns at different scales for layering
    float largeNoise = snoise(vPosition * 2.0 + time * 0.02);
    float mediumNoise = snoise(vPosition * 5.0 + time * 0.05);
    float smallNoise = snoise(vPosition * 10.0);
    
    // Create cell patterns for terrain boundaries
    float cellBorders = borderEffect(vPosition, 3.0, 0.1);
    
    // Lighting setup - multiple light sources for better hemisphere coverage
    vec3 lightDir1 = normalize(vec3(0.5, 1.0, 0.5));
    vec3 lightDir2 = normalize(vec3(-0.5, -0.8, 0.2));
    
    // Calculate diffuse lighting from both light sources
    float diffuse1 = max(0.3, dot(normal, lightDir1));
    float diffuse2 = max(0.1, dot(normal, lightDir2) * 0.5); // Secondary light is dimmer
    
    // Combine lighting with ambient term
    float lightFactor = diffuse1 + diffuse2 + 0.2; // 0.2 is ambient light
    
    // Simple ambient occlusion based on elevation
    float ao = 1.0 - abs(vElevation) * 2.0;
    ao = max(0.4, ao);
    
    // Stylized topographical coloring
    vec3 color;
    
    if (isGaseous > 0.5) {
      // Gas giant stylized coloring - inspired by the first reference image
      float bands = sin(vPosition.y * 8.0) * 0.5 + 0.5;
      
      // Create swirling patterns
      float swirl = snoise(vec3(
        vPosition.x + sin(vPosition.y * 4.0 + time * 0.1) * 0.2,
        vPosition.y + cos(vPosition.x * 4.0 + time * 0.05) * 0.2,
        vPosition.z + time * 0.02
      ));
      
      // Base color from bands
      color = mix(
        vec3(0.7, 0.3, 0.1), // Orange-red
        vec3(0.9, 0.7, 0.3), // Yellow-orange
        bands
      );
      
      // Add swirl patterns
      color = mix(
        color,
        vec3(0.2, 0.1, 0.5), // Deep purple
        smoothstep(0.3, 0.7, swirl)
      );
      
      // Add storm spots
      float spots = smoothstep(0.7, 0.9, largeNoise);
      color = mix(color, vec3(0.9, 0.9, 1.0), spots * 0.5);
      
      // Add depth with noise-based shadows
      float depthNoise = snoise(vPosition * 3.0) * 0.3;
      color = mix(color, color * 0.7, depthNoise);
      
      // Add subtle atmospheric glow
      float atmosphere = pow(1.0 - abs(dot(normal, vec3(0.0, 0.0, 1.0))), 2.0);
      color += vec3(0.1, 0.15, 0.25) * atmosphere;
      
    } else {
      // Terrestrial planet stylized coloring - inspired by both reference images
      
      // Use terrain height to determine land vs water
      float heightWithNoise = normalizedElevation + (largeNoise * 0.2 - 0.1) * surfaceRoughness;
      
      if (liquidEnabled > 0.5 && heightWithNoise < waterLevel) {
        // Ocean areas - teal/turquoise like in the first reference image
        
        // Create depth variation
        float depth = (waterLevel - heightWithNoise) / waterLevel;
        depth = pow(depth, 0.5); // Adjust depth curve
        
        // Shallow water is more teal, deep water is darker blue (like second reference)
        vec3 shallowColor = vec3(0.2, 0.7, 0.6); // Teal color for shallow water
        vec3 deepColor = vec3(0.0, 0.4, 0.5);    // Darker blue for deep water
        
        // Mix colors based on depth
        color = mix(shallowColor, deepColor, depth);
        
        // Add wave patterns
        float waves = sin(vPosition.x * 50.0 + vPosition.z * 50.0 + time * 0.5) * 0.5 + 0.5;
        color = mix(color, color * 1.3, waves * 0.1);
        
        // Add current patterns
        float currents = snoise(vPosition * 8.0 + time * 0.1) * 0.5 + 0.5;
        color = mix(color, oceanColor * 0.9, currents * 0.1);
        
        // Add coastal patterns
        if (heightWithNoise > waterLevel - 0.05) {
          float coastalPattern = sin(vPosition.x * 80.0 + vPosition.z * 80.0) * 0.5 + 0.5;
          color = mix(color, beachColor, coastalPattern * 0.3);
        }
        
        // Add depth with bumps for waves
        float bumpDepth = snoise(vPosition * 20.0 + time * 0.2) * 0.05;
        color = mix(color, color * 1.2, bumpDepth);
        
        // Add water shine
        float fresnel = pow(1.0 - abs(dot(normal, vec3(0.0, 0.0, 1.0))), 2.0);
        float shine = pow(fresnel, 4.0) * 0.3;
        color += vec3(shine);
        
      } else {
        // Land areas with distinct terrain types - inspired by both reference images
        
        // Create terrain type based on noise and elevation
        float terrainType = largeNoise * 0.4 + heightWithNoise * 0.6;
        
        // Apply surface roughness to terrain transitions
        terrainType += mediumNoise * surfaceRoughness * 0.2;
        
        // Create distinct terrain regions with sharp boundaries like in first reference
        if (terrainType < 0.3) {
          // Lowlands - use beach color
          color = beachColor;
          
          // Add texture variation
          color *= 0.8 + smallNoise * 0.4;
          
        } else if (terrainType < 0.6) {
          // Mid-elevation - use land color
          color = landColor;
          
          // Add texture variation
          color *= 0.8 + mediumNoise * 0.4;
          
        } else {
          // Highlands - use mountain color
          color = mountainColor;
          
          // Add texture variation based on mountain height
          float mountainPattern = snoise(vPosition * 15.0) * mountainHeight;
          color = mix(color, color * 1.3, mountainPattern);
        }
        
        // Add terrain borders - purple borders like in first reference
        float borderIntensity = 1.0 - abs(terrainType - 0.3) * 20.0;
        borderIntensity = max(0.0, borderIntensity);
        borderIntensity += 1.0 - abs(terrainType - 0.6) * 20.0;
        borderIntensity = clamp(borderIntensity, 0.0, 1.0);
        
        // Purple borders like in first reference
        vec3 borderColor = vec3(0.5, 0.0, 0.8);
        color = mix(color, borderColor, borderIntensity * 0.7);
        
        // Add cell pattern borders for terrain division
        color = mix(color, borderColor, cellBorders * 0.5);
        
        // Add soil type variations
        if (soilType == 0) { // rocky
          color = mix(color, vec3(0.6, 0.6, 0.6), 0.2);
        } else if (soilType == 1) { // sandy
          color = mix(color, vec3(0.9, 0.8, 0.5), 0.2);
        } else if (soilType == 2) { // volcanic
          color = mix(color, vec3(0.5, 0.2, 0.1), 0.2);
        } else if (soilType == 3) { // organic
          color = mix(color, vec3(0.3, 0.5, 0.2), 0.2);
        } else if (soilType == 4) { // dusty
          color = mix(color, vec3(0.8, 0.7, 0.6), 0.2);
        } else if (soilType == 5) { // frozen
          color = mix(color, vec3(0.8, 0.9, 1.0), 0.2);
        } else if (soilType == 6) { // muddy
          color = mix(color, vec3(0.4, 0.3, 0.2), 0.2);
        }
        
        // Add soil texture details
        float textureDetail = getSoilTexture(vPosition, soilTexture) * 0.7;
        color = mix(color, color * 0.8, textureDetail);
      }
    }
    
    // Add ambient occlusion for depth
    color *= ao;
    
    // Add atmospheric rim lighting like in second reference
    float rimLight = 1.0 - max(0.0, dot(normal, normalize(vec3(0.0, 0.0, 1.0))));
    rimLight = pow(rimLight, 3.0);
    color = mix(color, vec3(0.6, 0.8, 1.0), rimLight * 0.3);
    
    // Apply lighting
    color *= lightFactor;
    
    gl_FragColor = vec4(color, 1.0);
  }
`;function Rc({planetStats:e}){const t=D.useRef(null),r=D.useRef(null),n=D.useMemo(()=>{const s=e.customColors||Rt(e.biome||"Rocky Highlands"),i=new S.ShaderMaterial({uniforms:{time:{value:0},oceanColor:{value:new S.Color(s.oceanFloor||"#1E4D6B")},beachColor:{value:new S.Color(s.beach||"#8D6E63")},landColor:{value:new S.Color(s.regular||"#A1887F")},mountainColor:{value:new S.Color(s.mountain||"#D7CCC8")},waterLevel:{value:e.waterLevel||.65},surfaceRoughness:{value:e.surfaceRoughness||.5},mountainHeight:{value:e.mountainHeight||.6},isGaseous:{value:e.mass>7||e.radius>2.5?1:0},soilType:{value:["rocky","sandy","volcanic","organic","dusty","frozen","muddy"].indexOf(e.soilType||"rocky")},soilTexture:{value:["smooth","rough","cracked","layered","porous","grainy","crystalline"].indexOf(e.soilTexture||"rough")},liquidEnabled:{value:e.liquidEnabled!==!1?1:0},landmarkPositions:{value:new Float32Array(30)},landmarkInfluences:{value:new Float32Array(40)},landmarkCount:{value:0}},vertexShader:Sc,fragmentShader:Tc});return r.current=i,i},[]);return D.useEffect(()=>{if(!r.current||!e.landmarks||e.landmarks.length===0){r.current&&(r.current.uniforms.landmarkCount.value=0);return}const s=e.landmarks.slice(0,10),i=[],a=[];s.forEach(c=>{const l=new S.Vector3(c.coordinates.x,c.coordinates.y,c.coordinates.z).normalize();i.push(l.x,l.y,l.z);let d=1;switch(c.influence_type){case"crater":d=0;break;case"mountain":d=1;break;case"valley":d=2;break;case"volcano":d=3;break;case"glacier":d=4;break;case"basin":d=5;break;default:d=6}a.push(c.influence_radius||.5,c.influence_strength||.7,c.influence_roughness||.5,d)}),r.current.uniforms.landmarkPositions.value=new Float32Array(i),r.current.uniforms.landmarkInfluences.value=new Float32Array(a),r.current.uniforms.landmarkCount.value=s.length},[e.landmarks]),D.useEffect(()=>{if(!r.current)return;const s=e.customColors||Rt(e.biome||"Rocky Highlands");r.current.uniforms.oceanColor.value=new S.Color(s.oceanFloor||"#1E4D6B"),r.current.uniforms.beachColor.value=new S.Color(s.beach||"#8D6E63"),r.current.uniforms.landColor.value=new S.Color(s.regular||"#A1887F"),r.current.uniforms.mountainColor.value=new S.Color(s.mountain||"#D7CCC8"),r.current.uniforms.waterLevel.value=e.waterLevel||.65,r.current.uniforms.surfaceRoughness.value=e.surfaceRoughness||.5,r.current.uniforms.mountainHeight.value=e.mountainHeight||.6,r.current.uniforms.isGaseous.value=e.mass>7||e.radius>2.5?1:0,r.current.uniforms.soilType.value=["rocky","sandy","volcanic","organic","dusty","frozen","muddy"].indexOf(e.soilType||"rocky"),r.current.uniforms.soilTexture.value=["smooth","rough","cracked","layered","porous","grainy","crystalline"].indexOf(e.soilTexture||"rough"),r.current.uniforms.liquidEnabled.value=e.liquidEnabled!==!1?1:0},[e]),Le.useFrame(s=>{t.current&&r.current&&(t.current.rotation.y+=.001,r.current.uniforms.time.value=s.clock.elapsedTime)}),o.jsx(ye.Sphere,{ref:t,args:[1,128,128],scale:e.radius,children:o.jsx("primitive",{object:n,attach:"material"})})}function Mc({planetStats:e}){const t=D.useRef(null),n=!(e.mass>7||e.radius>2.5)&&e.cloudCount&&e.cloudCount!==0,s=D.useRef(new S.MeshPhysicalMaterial({color:new S.Color(16777215),transparent:!0,opacity:.7,roughness:1,metalness:0,clearcoat:.1,clearcoatRoughness:.4,alphaMap:new S.TextureLoader().load("/assets/clouds-alpha.png"),side:S.DoubleSide}));return Le.useFrame(()=>{n&&t.current&&(t.current.rotation.y+=5e-4)}),n?o.jsx(ye.Sphere,{ref:t,args:[1.02,64,64],scale:e.radius,children:o.jsx("primitive",{object:s.current,attach:"material"})}):null}const de=new Uint8Array(512),ao=new Uint8Array(256);function Ac(){for(let e=0;e<256;e++)ao[e]=Math.floor(Math.random()*256);for(let e=0;e<512;e++)de[e]=ao[e&255]}Ac();function Or(e){return e*e*e*(e*(e*6-15)+10)}function tt(e,t,r){return(1-r)*e+r*t}function He(e,t,r,n){const s=e&15,i=s<8?t:r,a=s<4?r:s===12||s===14?t:n;return((s&1)===0?i:-i)+((s&2)===0?a:-a)}function se(e,t,r){const n=Math.floor(e)&255,s=Math.floor(t)&255,i=Math.floor(r)&255;e-=Math.floor(e),t-=Math.floor(t),r-=Math.floor(r);const a=Or(e),c=Or(t),l=Or(r),d=de[n]+s,f=de[d]+i,u=de[d+1]+i,p=de[n+1]+s,v=de[p]+i,x=de[p+1]+i;return tt(tt(tt(He(de[f],e,t,r),He(de[v],e-1,t,r),a),tt(He(de[u],e,t-1,r),He(de[x],e-1,t-1,r),a),c),tt(tt(He(de[f+1],e,t,r-1),He(de[v+1],e-1,t,r-1),a),tt(He(de[u+1],e,t-1,r-1),He(de[x+1],e-1,t-1,r-1),a),c),l)}function _c(e,t){const r=new Map,n=12,i=new S.IcosahedronGeometry(1,n).getAttribute("position");for(let a=0;a<i.count;a++){const c=i.getX(a),l=i.getY(a),d=i.getZ(a),f=new S.Vector3(c,l,d).normalize();let u=0;if(t==="terrestrial"){const v=(e.surfaceRoughness||.5)*1.2;let x=1,h=1,y=.5;for(let b=0;b<7;b++){const w=se(f.x*x*v,f.y*x*v,f.z*x*v);u+=w*h,h*=y,x*=2}u*=e.mountainHeight||.5,e.terrainErosion&&(u*=1-e.terrainErosion*.3);const g=f.clone().multiplyScalar(e.radius),C=so(g,e.landmarks,e.radius);if(u+=C.height,C.roughness>0){const b=se(f.x*20*C.roughness,f.y*20*C.roughness,f.z*20*C.roughness)*C.roughness*.2;u+=b}}else{const v=e.surfaceRoughness||.5;if(u=se(f.x*2*v,f.y*2*v,f.z*2*v)*.1,e.landmarks&&e.landmarks.length>0){const x=f.clone().multiplyScalar(e.radius),h=so(x,e.landmarks,e.radius);u+=h.height*.5}}const p=`${f.x.toFixed(5)},${f.y.toFixed(5)},${f.z.toFixed(5)}`;r.set(p,u)}return{getHeight:a=>{const c=`${a.x.toFixed(5)},${a.y.toFixed(5)},${a.z.toFixed(5)}`,l=r.get(c);if(l!==void 0)return l;let d=Number.POSITIVE_INFINITY,f=0;return r.forEach((u,p)=>{const[v,x,h]=p.split(",").map(Number.parseFloat),y=new S.Vector3(v,x,h),g=a.distanceTo(y);g<d&&(d=g,f=u)}),f}}}const Pc=D.forwardRef(function({planetStats:t},r){const n=et(t.mass,t.radius),s=D.useMemo(()=>{const l=t.customColors||Rt(t.biome||"Rocky Highlands");return t.soilType&&n==="terrestrial"?{oceanFloor:Yt(l.oceanFloor||"#5D4037",t.soilType),beach:Yt(l.beach||"#8D6E63",t.soilType),regular:Yt(l.regular||"#A1887F",t.soilType),mountain:Yt(l.mountain||"#D7CCC8",t.soilType)}:l},[t.biome,t.customColors,t.soilType,n]),i=D.useMemo(()=>_c(t,n),[t,n]),{surfaceGeometry:a,surfaceMaterial:c}=D.useMemo(()=>{const l=new S.IcosahedronGeometry(t.radius,11),d=l.getAttribute("position"),f=[],u=[],p=[],v=Nc(t.soilTexture||"rough");for(let y=0;y<d.count;y++){const g=d.getX(y),C=d.getY(y),b=d.getZ(y),w=new S.Vector3(g,C,b),N=w.clone().normalize();let A=i.getHeight(N);const M=.5+Math.atan2(N.z,N.x)/(2*Math.PI),j=.5-Math.asin(N.y)/Math.PI;p.push(M,j),t.landmarks&&t.landmarks.length>0&&t.landmarks.forEach(_=>{Ec(N,_,t.radius)});const P=n==="terrestrial"?.08:.05,O=t.surfaceRoughness||.5,k=A*P*O*1.5;let R=0;if(n==="terrestrial"&&k>.05){const{scale:_,depth:W,pattern:T}=v;switch(T){case"cracks":R=Ic(N,_,W);break;case"layers":R=Dc(N,_,W);break;case"crystals":R=Oc(N,_,W);break;case"pores":R=Lc(N,_,W);break;case"grains":R=Fc(N,_,W);break;default:R=zc(N,_,W,v.irregularity)}t.soilType==="volcanic"?R*=1.5:t.soilType==="sandy"&&(R*=.7)}w.add(N.clone().multiplyScalar(k-R)),f.push(w);const L=t.waterLevel||0,z=kc(k,L),B=Bc(z,s,t,N,v);u.push(B)}for(let y=0;y<d.count;y++){const g=f[y];d.setXYZ(y,g.x,g.y,g.z)}d.needsUpdate=!0,l.computeVertexNormals();const x=new S.Float32BufferAttribute(new Float32Array(d.count*3),3);for(let y=0;y<u.length;y++)x.setXYZ(y,u[y].r,u[y].g,u[y].b);l.setAttribute("color",x),l.setAttribute("uv",new S.Float32BufferAttribute(new Float32Array(p),2));let h;return n==="terrestrial"?h=new S.MeshStandardMaterial({vertexColors:!0,roughness:.7,metalness:.1,flatShading:!1}):h=Vc(t),{surfaceGeometry:l,surfaceMaterial:h}},[t,n,s,i]);return o.jsx("mesh",{ref:r,geometry:a,material:c})});function Ic(e,t,r){const n=se(e.x*t*2,e.y*t*2,e.z*t*2),s=se(e.x*t*5,e.y*t*5,e.z*t*5);return(Math.abs(n)<.1?r*1.5:0)+(Math.abs(s)<.05?r*.8:0)}function Dc(e,t,r){const n=se(e.x*t*.5,e.y*t*.5,e.z*t*.5);return Math.sin(n*20)*r*.8}function Oc(e,t,r){const n=se(e.x*t*3,e.y*t*3,e.z*t*3);return n>.7||n<-.7?r*1.2:0}function Lc(e,t,r){return se(e.x*t*4,e.y*t*4,e.z*t*4)>.8?r*1.5:0}function Fc(e,t,r){const n=se(e.x*t*8,e.y*t*8,e.z*t*8),s=se(e.x*t*12,e.y*t*12,e.z*t*12);return n*s*r}function zc(e,t,r,n){return se(e.x*t,e.y*t,e.z*t)*r*n}function Bc(e,t,r,n,s){const i={[Me.OceanFloor]:t.oceanFloor,[Me.Beach]:t.beach,[Me.Regular]:t.regular,[Me.Mountain]:t.mountain},a=new S.Color(i[e]||t.regular);let c=a;if(r.soilType){const d={rocky:new S.Color(11770240),sandy:new S.Color(13808780),volcanic:new S.Color(3815994),organic:new S.Color(5082199),dusty:new S.Color(10506797),frozen:new S.Color(14745599),muddy:new S.Color(6373670)},f=d[r.soilType]||d.rocky,u={[Me.OceanFloor]:.3,[Me.Beach]:.6,[Me.Regular]:.7,[Me.Mountain]:.8};if(c=a.clone().lerp(f,u[e]||.5),e===Me.Mountain&&(se(n.x*50,n.y*50,n.z*50)*.1<0?c.multiplyScalar(.9):c.multiplyScalar(1.1),r.soilTexture)){const v=se(n.x*s.scale*2,n.y*s.scale*2,n.z*s.scale*2);r.soilTexture==="crystalline"&&v>.7?c.offsetHSL(0,0,.1):r.soilTexture==="cracked"&&Math.abs(v)<.05?c.multiplyScalar(.8):r.soilTexture==="layered"&&Math.sin(v*20)>.8&&c.offsetHSL(0,0,.05)}}const l=(Math.random()-.5)*.1;return c.r=Math.max(0,Math.min(1,c.r+l)),c.g=Math.max(0,Math.min(1,c.g+l)),c.b=Math.max(0,Math.min(1,c.b+l)),c}function Vc(e){const t=`
    varying vec2 vUv;
    varying vec3 vNormal;
    void main() {
      vUv = uv;
      vNormal = normalize(normalMatrix * normal);
      gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
    }
  `,r=`
    uniform vec3 color1;
    uniform vec3 color2;
    uniform vec3 color3;
    uniform float roughness;
    varying vec2 vUv;
    varying vec3 vNormal;
    float noise(vec2 st) {
      return fract(sin(dot(st.xy, vec2(12.9898, 78.233))) * 43758.5453123);
    }
    void main() {
      float bands = sin(vUv.y * 20.0) * 0.5 + 0.5;
      vec3 color = mix(color1, color2, bands);
      color = mix(color, color3, smoothstep(0.4, 0.6, abs(vNormal.y)));
      float noiseValue = noise(vUv * roughness * 10.0);
      color = mix(color, vec3(noiseValue), roughness * 0.2);
      gl_FragColor = vec4(color, 1.0);
    }
  `;let n,s,i;return e.temperature<100?(n=new S.Color(4620980),s=new S.Color(2003199),i=new S.Color(49151)):e.temperature>300?(n=new S.Color(13458524),s=new S.Color(15761536),i=new S.Color(16416882)):(n=new S.Color(10145074),s=new S.Color(7048739),i=new S.Color(5597999)),new S.ShaderMaterial({uniforms:{color1:{value:n},color2:{value:s},color3:{value:i},roughness:{value:e.surfaceRoughness||.5}},vertexShader:t,fragmentShader:r})}const $c=D.forwardRef(function({planetStats:t},r){const n=no(t.temperature),s=oo(t.temperature,t.liquidType||n.type),{liquidGeometry:i,liquidMaterial:a}=D.useMemo(()=>{const c=t.liquidEnabled!==!1&&(t.waterLevel||0)>0&&s,l={water:new S.Color(1996980),methane:new S.Color(8369109),nitrogen:new S.Color(9498256),ammonia:new S.Color(14204888),ethane:new S.Color(16766720)},d=l[t.liquidType]||l.water;t.liquidType==="water"&&(t.temperature<283?d.lerp(new S.Color(18347),.3):t.temperature>350&&d.lerp(new S.Color(25600),.2),t.salinity&&d.lerp(new S.Color(18347),t.salinity*.5));const f=new S.MeshPhysicalMaterial({color:d,transparent:!0,opacity:c?.8:0,roughness:.1,metalness:.2,envMapIntensity:.5,clearcoat:.5,clearcoatRoughness:.1,ior:1.4,transmission:.95}),u=c?Math.max(t.waterLevel||0,.5):t.waterLevel||0,p=t.radius*(1+u*.02),v=new S.IcosahedronGeometry(p,9),x=v.getAttribute("position");for(let h=0;h<x.count;h++){const y=x.getX(h),g=x.getY(h),C=x.getZ(h),b=new S.Vector3(y,g,C),w=b.clone().normalize(),N=se(w.x*10,w.y*10,w.z*10)*.005;b.add(w.clone().multiplyScalar(N)),x.setXYZ(h,b.x,b.y,b.z)}return x.needsUpdate=!0,v.computeVertexNormals(),{liquidGeometry:v,liquidMaterial:f}},[t,s]);return!i||!a?null:o.jsx("mesh",{ref:r,geometry:i,material:a})}),Hc=D.forwardRef(function({planetStats:t},r){const n=et(t.mass,t.radius),{atmosphereGeometry:s,atmosphereMaterial:i}=D.useMemo(()=>{const a=new S.IcosahedronGeometry(t.radius*1.1,9);let c;if(n==="terrestrial"){const l={water:new S.Color(8900331),co2:new S.Color(13882323),methane:new S.Color(10145074),snow:new S.Color(15792383),none:new S.Color(11393254)},d=l[t.precipitationCompound]||l.none;t.temperature<200?d.lerp(new S.Color(4620980),.3):t.temperature>350&&d.lerp(new S.Color(16752762),.3);const f=t.atmosphereStrength?t.atmosphereStrength*.4:.25;c=new S.MeshPhongMaterial({color:d,transparent:!0,opacity:f,side:S.DoubleSide,shininess:30,depthWrite:!1})}else c=new S.MeshPhongMaterial({color:16777215,transparent:!0,opacity:.15,side:S.DoubleSide,depthWrite:!1});return{atmosphereGeometry:a,atmosphereMaterial:c}},[t,n]);return o.jsx("mesh",{ref:r,geometry:s,material:i})}),Wc=D.forwardRef(function({planetStats:t},r){const n=D.useMemo(()=>{if(!t.cloudCount||t.cloudCount<=0)return[];const s=[],i=Math.min(t.cloudCount,100);for(let a=0;a<i;a++){const c=Math.random()*Math.PI*2,l=Math.random()*Math.PI,d=Math.sin(l)*Math.cos(c),f=Math.sin(l)*Math.sin(c),u=Math.cos(l),p=new S.Vector3(d,f,u).normalize(),v=.05+Math.random()*.15,x=`cloud-${a}`;s.push({key:x,position:p.multiplyScalar(t.radius*1.02),size:v})}return s},[t.cloudCount,t.radius]);return o.jsx("group",{ref:r,children:n.map(s=>o.jsxs("mesh",{position:[s.position.x,s.position.y,s.position.z],children:[o.jsx("planeGeometry",{args:[s.size,s.size]}),o.jsx("meshBasicMaterial",{color:"#ffffff",transparent:!0,opacity:.6,side:S.DoubleSide}),o.jsx("group",{rotation:[0,Math.PI,0]})]},s.key))})});function Uc(e,t){return e/(1.3333333333333333*Math.PI*Math.pow(t,3))>1?"terrestrial":"gaseous"}function Gc({planetStats:e}){const r=Uc(e.mass,e.radius)==="gaseous",s=(e.landmarks||[]).filter(a=>{if(!a.category){const c=["storm","vortex","band","spot","turbulent","cyclone","anticyclone","zonal_flow"];return r?c.includes(a.influence_type||""):!c.includes(a.influence_type||"")}return r?a.category==="gaseous":a.category==="terrestrial"}),i=D.useMemo(()=>s.map((a,c)=>{const{x:l,y:d,z:f}=a.coordinates,u=new S.Vector3(l,d,f).normalize().multiplyScalar(e.radius*1.02);let p="#22c55e";a.type.includes("Volcano")||a.type.includes("Storm")?p="#ef4444":a.type.includes("Ocean")||a.type.includes("Water")?p="#3b82f6":a.type.includes("Ice")||a.type.includes("Frozen")?p="#a5f3fc":(a.type.includes("Sand")||a.type.includes("Desert"))&&(p="#fcd34d");const v=a.visual_effect&&a.visual_effect!=="None";return o.jsxs("group",{position:[u.x,u.y,u.z],children:[o.jsxs("mesh",{children:[o.jsx("sphereGeometry",{args:[.03,16,16]}),o.jsx("meshStandardMaterial",{color:p})]}),v&&o.jsxs("mesh",{children:[o.jsx("sphereGeometry",{args:[.05,16,16]}),o.jsx("meshBasicMaterial",{color:p,transparent:!0,opacity:.3,depthWrite:!1})]}),o.jsx(ye.Html,{position:[0,.1,0],center:!0,distanceFactor:10,occlude:!0,children:o.jsx("div",{className:"bg-black/80 text-green-400 px-2 py-1 text-xs font-mono rounded border border-green-500/50 whitespace-nowrap",children:a.classification_id})})]},c)}),[s,e.radius]);return o.jsx(o.Fragment,{children:i})}function Kc({planetStats:e}){const t=et(e.mass,e.radius),[r,n]=D.useState(null),{raycaster:s,camera:i,gl:a}=Le.useThree(),c={surface:D.useRef(null),atmosphere:D.useRef(null),liquid:D.useRef(null),clouds:D.useRef(null),group:D.useRef(null)},l=d=>{if(d.stopPropagation(),!c.surface.current)return;const f=new S.Vector2(d.clientX/a.domElement.clientWidth*2-1,-(d.clientY/a.domElement.clientHeight)*2+1);s.setFromCamera(f,i);const u=s.intersectObject(c.surface.current);if(u.length>0){const p=u[0].point,v=p.clone().normalize(),x=p.length()-e.radius;let h="Mountain";x<-.05?h="Ocean Floor":x<0?h="Beach":x<.05&&(h="Lowland");const y=e.temperature,g=x*10,C=y-g,w=C-273;n({position:p,normalizedPosition:v,height:x,terrainType:h,temperature:C,relativeToWaterTemp:w})}};return Le.useFrame(()=>{c.surface.current&&(c.surface.current.rotation.y+=.001),c.atmosphere.current&&(c.atmosphere.current.rotation.y+=5e-4),c.liquid.current&&(c.liquid.current.rotation.y+=8e-4),c.clouds.current&&(c.clouds.current.rotation.y+=.0012)}),o.jsxs(o.Fragment,{children:[o.jsxs("group",{ref:c.group,onClick:l,children:[o.jsx(Pc,{planetStats:e,ref:c.surface}),t==="terrestrial"&&o.jsx($c,{planetStats:e,ref:c.liquid}),o.jsx(Hc,{planetStats:e,ref:c.atmosphere}),t==="terrestrial"&&e.cloudCount&&e.cloudCount>0&&o.jsx(Wc,{planetStats:e,ref:c.clouds}),e.landmarks&&e.landmarks.length>0&&o.jsx(Gc,{planetStats:e})]}),r&&o.jsx(ro,{pointInfo:r,planetStats:e})]})}function U(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function Fe(e,t=[]){let r=[];function n(i,a){const c=m.createContext(a),l=r.length;r=[...r,a];const d=u=>{var g;const{scope:p,children:v,...x}=u,h=((g=p==null?void 0:p[e])==null?void 0:g[l])||c,y=m.useMemo(()=>x,Object.values(x));return o.jsx(h.Provider,{value:y,children:v})};d.displayName=i+"Provider";function f(u,p){var h;const v=((h=p==null?void 0:p[e])==null?void 0:h[l])||c,x=m.useContext(v);if(x)return x;if(a!==void 0)return a;throw new Error(`\`${u}\` must be used within \`${i}\``)}return[d,f]}const s=()=>{const i=r.map(a=>m.createContext(a));return function(c){const l=(c==null?void 0:c[e])||i;return m.useMemo(()=>({[`__scope${e}`]:{...c,[e]:l}}),[c,l])}};return s.scopeName=e,[n,qc(s,...t)]}function qc(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=n.reduce((c,{useScope:l,scopeName:d})=>{const u=l(i)[`__scope${d}`];return{...c,...u}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return r.scopeName=t.scopeName,r}function io(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Lr(...e){return t=>{let r=!1;const n=e.map(s=>{const i=io(s,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<n.length;s++){const i=n[s];typeof i=="function"?i():io(e[s],null)}}}}function ne(...e){return m.useCallback(Lr(...e),e)}function ft(e){const t=Xc(e),r=m.forwardRef((n,s)=>{const{children:i,...a}=n,c=m.Children.toArray(i),l=c.find(Jc);if(l){const d=l.props.children,f=c.map(u=>u===l?m.Children.count(d)>1?m.Children.only(null):m.isValidElement(d)?d.props.children:null:u);return o.jsx(t,{...a,ref:s,children:m.isValidElement(d)?m.cloneElement(d,void 0,f):null})}return o.jsx(t,{...a,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}var Yc=ft("Slot");function Xc(e){const t=m.forwardRef((r,n)=>{const{children:s,...i}=r,a=m.isValidElement(s)?el(s):void 0,c=ne(a,n);if(m.isValidElement(s)){const l=Qc(i,s.props);return s.type!==m.Fragment&&(l.ref=c),m.cloneElement(s,l)}return m.Children.count(s)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Zc=Symbol("radix.slottable");function Jc(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Zc}function Qc(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...c)=>{const l=i(...c);return s(...c),l}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function el(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Xt(e){const t=e+"CollectionProvider",[r,n]=Fe(t),[s,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),a=h=>{const{scope:y,children:g}=h,C=D.useRef(null),b=D.useRef(new Map).current;return o.jsx(s,{scope:y,itemMap:b,collectionRef:C,children:g})};a.displayName=t;const c=e+"CollectionSlot",l=ft(c),d=D.forwardRef((h,y)=>{const{scope:g,children:C}=h,b=i(c,g),w=ne(y,b.collectionRef);return o.jsx(l,{ref:w,children:C})});d.displayName=c;const f=e+"CollectionItemSlot",u="data-radix-collection-item",p=ft(f),v=D.forwardRef((h,y)=>{const{scope:g,children:C,...b}=h,w=D.useRef(null),N=ne(y,w),A=i(f,g);return D.useEffect(()=>(A.itemMap.set(w,{ref:w,...b}),()=>void A.itemMap.delete(w))),o.jsx(p,{[u]:"",ref:N,children:C})});v.displayName=f;function x(h){const y=i(e+"CollectionConsumer",h);return D.useCallback(()=>{const C=y.collectionRef.current;if(!C)return[];const b=Array.from(C.querySelectorAll(`[${u}]`));return Array.from(y.itemMap.values()).sort((A,M)=>b.indexOf(A.ref.current)-b.indexOf(M.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:a,Slot:d,ItemSlot:v},x,n]}var le=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},tl=m[" useId ".trim().toString()]||(()=>{}),rl=0;function rt(e){const[t,r]=m.useState(tl());return le(()=>{r(n=>n??String(rl++))},[e]),t?`radix-${t}`:""}var nl=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],X=nl.reduce((e,t)=>{const r=ft(`Primitive.${t}`),n=m.forwardRef((s,i)=>{const{asChild:a,...c}=s,l=a?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(l,{...c,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function co(e,t){e&&Gt.flushSync(()=>e.dispatchEvent(t))}function Ae(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}var ol=m[" useInsertionEffect ".trim().toString()]||le;function nt({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[s,i,a]=sl({defaultProp:t,onChange:r}),c=e!==void 0,l=c?e:s;{const f=m.useRef(e!==void 0);m.useEffect(()=>{const u=f.current;u!==c&&console.warn(`${n} is changing from ${u?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=c},[c,n])}const d=m.useCallback(f=>{var u;if(c){const p=al(f)?f(e):f;p!==e&&((u=a.current)==null||u.call(a,p))}else i(f)},[c,e,i,a]);return[l,d]}function sl({defaultProp:e,onChange:t}){const[r,n]=m.useState(e),s=m.useRef(r),i=m.useRef(t);return ol(()=>{i.current=t},[t]),m.useEffect(()=>{var a;s.current!==r&&((a=i.current)==null||a.call(i,r),s.current=r)},[r,s]),[r,n,i]}function al(e){return typeof e=="function"}var il=m.createContext(void 0);function Mt(e){const t=m.useContext(il);return e||t||"ltr"}var Fr="rovingFocusGroup.onEntryFocus",cl={bubbles:!1,cancelable:!0},At="RovingFocusGroup",[zr,lo,ll]=Xt(At),[ul,Zt]=Fe(At,[ll]),[dl,fl]=ul(At),uo=m.forwardRef((e,t)=>o.jsx(zr.Provider,{scope:e.__scopeRovingFocusGroup,children:o.jsx(zr.Slot,{scope:e.__scopeRovingFocusGroup,children:o.jsx(ml,{...e,ref:t})})}));uo.displayName=At;var ml=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:i,currentTabStopId:a,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:l,onEntryFocus:d,preventScrollOnEntryFocus:f=!1,...u}=e,p=m.useRef(null),v=ne(t,p),x=Mt(i),[h,y]=nt({prop:a,defaultProp:c??null,onChange:l,caller:At}),[g,C]=m.useState(!1),b=Ae(d),w=lo(r),N=m.useRef(!1),[A,M]=m.useState(0);return m.useEffect(()=>{const j=p.current;if(j)return j.addEventListener(Fr,b),()=>j.removeEventListener(Fr,b)},[b]),o.jsx(dl,{scope:r,orientation:n,dir:x,loop:s,currentTabStopId:h,onItemFocus:m.useCallback(j=>y(j),[y]),onItemShiftTab:m.useCallback(()=>C(!0),[]),onFocusableItemAdd:m.useCallback(()=>M(j=>j+1),[]),onFocusableItemRemove:m.useCallback(()=>M(j=>j-1),[]),children:o.jsx(X.div,{tabIndex:g||A===0?-1:0,"data-orientation":n,...u,ref:v,style:{outline:"none",...e.style},onMouseDown:U(e.onMouseDown,()=>{N.current=!0}),onFocus:U(e.onFocus,j=>{const P=!N.current;if(j.target===j.currentTarget&&P&&!g){const O=new CustomEvent(Fr,cl);if(j.currentTarget.dispatchEvent(O),!O.defaultPrevented){const k=w().filter(_=>_.focusable),R=k.find(_=>_.active),L=k.find(_=>_.id===h),B=[R,L,...k].filter(Boolean).map(_=>_.ref.current);po(B,f)}}N.current=!1}),onBlur:U(e.onBlur,()=>C(!1))})})}),fo="RovingFocusGroupItem",mo=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:i,children:a,...c}=e,l=rt(),d=i||l,f=fl(fo,r),u=f.currentTabStopId===d,p=lo(r),{onFocusableItemAdd:v,onFocusableItemRemove:x,currentTabStopId:h}=f;return m.useEffect(()=>{if(n)return v(),()=>x()},[n,v,x]),o.jsx(zr.ItemSlot,{scope:r,id:d,focusable:n,active:s,children:o.jsx(X.span,{tabIndex:u?0:-1,"data-orientation":f.orientation,...c,ref:t,onMouseDown:U(e.onMouseDown,y=>{n?f.onItemFocus(d):y.preventDefault()}),onFocus:U(e.onFocus,()=>f.onItemFocus(d)),onKeyDown:U(e.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){f.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const g=gl(y,f.orientation,f.dir);if(g!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let b=p().filter(w=>w.focusable).map(w=>w.ref.current);if(g==="last")b.reverse();else if(g==="prev"||g==="next"){g==="prev"&&b.reverse();const w=b.indexOf(y.currentTarget);b=f.loop?vl(b,w+1):b.slice(w+1)}setTimeout(()=>po(b))}}),children:typeof a=="function"?a({isCurrentTabStop:u,hasTabStop:h!=null}):a})})});mo.displayName=fo;var pl={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function hl(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function gl(e,t,r){const n=hl(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return pl[n]}function po(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function vl(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var ho=uo,go=mo;function xl(e,t){return m.useReducer((r,n)=>t[r][n]??r,e)}var mt=e=>{const{present:t,children:r}=e,n=yl(t),s=typeof r=="function"?r({present:n.isPresent}):m.Children.only(r),i=ne(n.ref,bl(s));return typeof r=="function"||n.isPresent?m.cloneElement(s,{ref:i}):null};mt.displayName="Presence";function yl(e){const[t,r]=m.useState(),n=m.useRef(null),s=m.useRef(e),i=m.useRef("none"),a=e?"mounted":"unmounted",[c,l]=xl(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const d=Jt(n.current);i.current=c==="mounted"?d:"none"},[c]),le(()=>{const d=n.current,f=s.current;if(f!==e){const p=i.current,v=Jt(d);e?l("MOUNT"):v==="none"||(d==null?void 0:d.display)==="none"?l("UNMOUNT"):l(f&&p!==v?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,l]),le(()=>{if(t){let d;const f=t.ownerDocument.defaultView??window,u=v=>{const h=Jt(n.current).includes(v.animationName);if(v.target===t&&h&&(l("ANIMATION_END"),!s.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",d=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},p=v=>{v.target===t&&(i.current=Jt(n.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",u),t.addEventListener("animationend",u),()=>{f.clearTimeout(d),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",u),t.removeEventListener("animationend",u)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:m.useCallback(d=>{n.current=d?getComputedStyle(d):null,r(d)},[])}}function Jt(e){return(e==null?void 0:e.animationName)||"none"}function bl(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Qt="Tabs",[wl,ah]=Fe(Qt,[Zt]),vo=Zt(),[Cl,Br]=wl(Qt),xo=m.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:i,orientation:a="horizontal",dir:c,activationMode:l="automatic",...d}=e,f=Mt(c),[u,p]=nt({prop:n,onChange:s,defaultProp:i??"",caller:Qt});return o.jsx(Cl,{scope:r,baseId:rt(),value:u,onValueChange:p,orientation:a,dir:f,activationMode:l,children:o.jsx(X.div,{dir:f,"data-orientation":a,...d,ref:t})})});xo.displayName=Qt;var yo="TabsList",bo=m.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,i=Br(yo,r),a=vo(r);return o.jsx(ho,{asChild:!0,...a,orientation:i.orientation,dir:i.dir,loop:n,children:o.jsx(X.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:t})})});bo.displayName=yo;var wo="TabsTrigger",Co=m.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...i}=e,a=Br(wo,r),c=vo(r),l=Eo(a.baseId,n),d=jo(a.baseId,n),f=n===a.value;return o.jsx(go,{asChild:!0,...c,focusable:!s,active:f,children:o.jsx(X.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":d,"data-state":f?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...i,ref:t,onMouseDown:U(e.onMouseDown,u=>{!s&&u.button===0&&u.ctrlKey===!1?a.onValueChange(n):u.preventDefault()}),onKeyDown:U(e.onKeyDown,u=>{[" ","Enter"].includes(u.key)&&a.onValueChange(n)}),onFocus:U(e.onFocus,()=>{const u=a.activationMode!=="manual";!f&&!s&&u&&a.onValueChange(n)})})})});Co.displayName=wo;var No="TabsContent",ko=m.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:i,...a}=e,c=Br(No,r),l=Eo(c.baseId,n),d=jo(c.baseId,n),f=n===c.value,u=m.useRef(f);return m.useEffect(()=>{const p=requestAnimationFrame(()=>u.current=!1);return()=>cancelAnimationFrame(p)},[]),o.jsx(mt,{present:s||f,children:({present:p})=>o.jsx(X.div,{"data-state":f?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":l,hidden:!p,id:d,tabIndex:0,...a,ref:t,style:{...e.style,animationDuration:u.current?"0s":void 0},children:p&&i})})});ko.displayName=No;function Eo(e,t){return`${e}-trigger-${t}`}function jo(e,t){return`${e}-content-${t}`}var Nl=xo,So=bo,To=Co,Ro=ko;function Mo(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=Mo(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Ao(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=Mo(e))&&(n&&(n+=" "),n+=t);return n}const Vr="-",kl=e=>{const t=jl(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:a=>{const c=a.split(Vr);return c[0]===""&&c.length!==1&&c.shift(),_o(c,t)||El(a)},getConflictingClassGroupIds:(a,c)=>{const l=r[a]||[];return c&&n[a]?[...l,...n[a]]:l}}},_o=(e,t)=>{var a;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?_o(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(Vr);return(a=t.validators.find(({validator:c})=>c(i)))==null?void 0:a.classGroupId},Po=/^\[(.+)\]$/,El=e=>{if(Po.test(e)){const t=Po.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},jl=e=>{const{theme:t,classGroups:r}=e,n={nextPart:new Map,validators:[]};for(const s in r)$r(r[s],n,s,t);return n},$r=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:Io(t,s);i.classGroupId=r;return}if(typeof s=="function"){if(Sl(s)){$r(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,a])=>{$r(a,Io(t,i),r,n)})})},Io=(e,t)=>{let r=e;return t.split(Vr).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},Sl=e=>e.isThemeGetter,Tl=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(i,a)=>{r.set(i,a),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let a=r.get(i);if(a!==void 0)return a;if((a=n.get(i))!==void 0)return s(i,a),a},set(i,a){r.has(i)?r.set(i,a):s(i,a)}}},Hr="!",Wr=":",Rl=Wr.length,Ml=e=>{const{prefix:t,experimentalParseClassName:r}=e;let n=s=>{const i=[];let a=0,c=0,l=0,d;for(let x=0;x<s.length;x++){let h=s[x];if(a===0&&c===0){if(h===Wr){i.push(s.slice(l,x)),l=x+Rl;continue}if(h==="/"){d=x;continue}}h==="["?a++:h==="]"?a--:h==="("?c++:h===")"&&c--}const f=i.length===0?s:s.substring(l),u=Al(f),p=u!==f,v=d&&d>l?d-l:void 0;return{modifiers:i,hasImportantModifier:p,baseClassName:u,maybePostfixModifierPosition:v}};if(t){const s=t+Wr,i=n;n=a=>a.startsWith(s)?i(a.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:a,maybePostfixModifierPosition:void 0}}if(r){const s=n;n=i=>r({className:i,parseClassName:s})}return n},Al=e=>e.endsWith(Hr)?e.substring(0,e.length-1):e.startsWith(Hr)?e.substring(1):e,_l=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const s=[];let i=[];return n.forEach(a=>{a[0]==="["||t[a]?(s.push(...i.sort(),a),i=[]):i.push(a)}),s.push(...i.sort()),s}},Pl=e=>({cache:Tl(e.cacheSize),parseClassName:Ml(e),sortModifiers:_l(e),...kl(e)}),Il=/\s+/,Dl=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s,sortModifiers:i}=t,a=[],c=e.trim().split(Il);let l="";for(let d=c.length-1;d>=0;d-=1){const f=c[d],{isExternal:u,modifiers:p,hasImportantModifier:v,baseClassName:x,maybePostfixModifierPosition:h}=r(f);if(u){l=f+(l.length>0?" "+l:l);continue}let y=!!h,g=n(y?x.substring(0,h):x);if(!g){if(!y){l=f+(l.length>0?" "+l:l);continue}if(g=n(x),!g){l=f+(l.length>0?" "+l:l);continue}y=!1}const C=i(p).join(":"),b=v?C+Hr:C,w=b+g;if(a.includes(w))continue;a.push(w);const N=s(g,y);for(let A=0;A<N.length;++A){const M=N[A];a.push(b+M)}l=f+(l.length>0?" "+l:l)}return l};function Ol(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=Do(t))&&(n&&(n+=" "),n+=r);return n}const Do=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=Do(e[n]))&&(r&&(r+=" "),r+=t);return r};function Ll(e,...t){let r,n,s,i=a;function a(l){const d=t.reduce((f,u)=>u(f),e());return r=Pl(d),n=r.cache.get,s=r.cache.set,i=c,c(l)}function c(l){const d=n(l);if(d)return d;const f=Dl(l,r);return s(l,f),f}return function(){return i(Ol.apply(null,arguments))}}const ce=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},Oo=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Lo=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Fl=/^\d+\/\d+$/,zl=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Bl=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Vl=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,$l=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Hl=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,pt=e=>Fl.test(e),Z=e=>!!e&&!Number.isNaN(Number(e)),We=e=>!!e&&Number.isInteger(Number(e)),Ur=e=>e.endsWith("%")&&Z(e.slice(0,-1)),ze=e=>zl.test(e),Wl=()=>!0,Ul=e=>Bl.test(e)&&!Vl.test(e),Fo=()=>!1,Gl=e=>$l.test(e),Kl=e=>Hl.test(e),ql=e=>!V(e)&&!$(e),Yl=e=>ht(e,Ho,Fo),V=e=>Oo.test(e),ot=e=>ht(e,Wo,Ul),Gr=e=>ht(e,eu,Z),zo=e=>ht(e,Vo,Fo),Xl=e=>ht(e,$o,Kl),er=e=>ht(e,Uo,Gl),$=e=>Lo.test(e),_t=e=>gt(e,Wo),Zl=e=>gt(e,tu),Bo=e=>gt(e,Vo),Jl=e=>gt(e,Ho),Ql=e=>gt(e,$o),tr=e=>gt(e,Uo,!0),ht=(e,t,r)=>{const n=Oo.exec(e);return n?n[1]?t(n[1]):r(n[2]):!1},gt=(e,t,r=!1)=>{const n=Lo.exec(e);return n?n[1]?t(n[1]):r:!1},Vo=e=>e==="position"||e==="percentage",$o=e=>e==="image"||e==="url",Ho=e=>e==="length"||e==="size"||e==="bg-size",Wo=e=>e==="length",eu=e=>e==="number",tu=e=>e==="family-name",Uo=e=>e==="shadow",ru=Ll(()=>{const e=ce("color"),t=ce("font"),r=ce("text"),n=ce("font-weight"),s=ce("tracking"),i=ce("leading"),a=ce("breakpoint"),c=ce("container"),l=ce("spacing"),d=ce("radius"),f=ce("shadow"),u=ce("inset-shadow"),p=ce("text-shadow"),v=ce("drop-shadow"),x=ce("blur"),h=ce("perspective"),y=ce("aspect"),g=ce("ease"),C=ce("animate"),b=()=>["auto","avoid","all","avoid-page","page","left","right","column"],w=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],N=()=>[...w(),$,V],A=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto","contain","none"],j=()=>[$,V,l],P=()=>[pt,"full","auto",...j()],O=()=>[We,"none","subgrid",$,V],k=()=>["auto",{span:["full",We,$,V]},We,$,V],R=()=>[We,"auto",$,V],L=()=>["auto","min","max","fr",$,V],z=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],B=()=>["start","end","center","stretch","center-safe","end-safe"],_=()=>["auto",...j()],W=()=>[pt,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...j()],T=()=>[e,$,V],I=()=>[...w(),Bo,zo,{position:[$,V]}],E=()=>["no-repeat",{repeat:["","x","y","space","round"]}],H=()=>["auto","cover","contain",Jl,Yl,{size:[$,V]}],q=()=>[Ur,_t,ot],Y=()=>["","none","full",d,$,V],te=()=>["",Z,_t,ot],ae=()=>["solid","dashed","dotted","double"],ie=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],F=()=>[Z,Ur,Bo,zo],G=()=>["","none",x,$,V],J=()=>["none",Z,$,V],Q=()=>["none",Z,$,V],re=()=>[Z,$,V],oe=()=>[pt,"full",...j()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[ze],breakpoint:[ze],color:[Wl],container:[ze],"drop-shadow":[ze],ease:["in","out","in-out"],font:[ql],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[ze],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[ze],shadow:[ze],spacing:["px",Z],text:[ze],"text-shadow":[ze],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",pt,V,$,y]}],container:["container"],columns:[{columns:[Z,V,$,c]}],"break-after":[{"break-after":b()}],"break-before":[{"break-before":b()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:N()}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:P()}],"inset-x":[{"inset-x":P()}],"inset-y":[{"inset-y":P()}],start:[{start:P()}],end:[{end:P()}],top:[{top:P()}],right:[{right:P()}],bottom:[{bottom:P()}],left:[{left:P()}],visibility:["visible","invisible","collapse"],z:[{z:[We,"auto",$,V]}],basis:[{basis:[pt,"full","auto",c,...j()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Z,pt,"auto","initial","none",V]}],grow:[{grow:["",Z,$,V]}],shrink:[{shrink:["",Z,$,V]}],order:[{order:[We,"first","last","none",$,V]}],"grid-cols":[{"grid-cols":O()}],"col-start-end":[{col:k()}],"col-start":[{"col-start":R()}],"col-end":[{"col-end":R()}],"grid-rows":[{"grid-rows":O()}],"row-start-end":[{row:k()}],"row-start":[{"row-start":R()}],"row-end":[{"row-end":R()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":L()}],"auto-rows":[{"auto-rows":L()}],gap:[{gap:j()}],"gap-x":[{"gap-x":j()}],"gap-y":[{"gap-y":j()}],"justify-content":[{justify:[...z(),"normal"]}],"justify-items":[{"justify-items":[...B(),"normal"]}],"justify-self":[{"justify-self":["auto",...B()]}],"align-content":[{content:["normal",...z()]}],"align-items":[{items:[...B(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...B(),{baseline:["","last"]}]}],"place-content":[{"place-content":z()}],"place-items":[{"place-items":[...B(),"baseline"]}],"place-self":[{"place-self":["auto",...B()]}],p:[{p:j()}],px:[{px:j()}],py:[{py:j()}],ps:[{ps:j()}],pe:[{pe:j()}],pt:[{pt:j()}],pr:[{pr:j()}],pb:[{pb:j()}],pl:[{pl:j()}],m:[{m:_()}],mx:[{mx:_()}],my:[{my:_()}],ms:[{ms:_()}],me:[{me:_()}],mt:[{mt:_()}],mr:[{mr:_()}],mb:[{mb:_()}],ml:[{ml:_()}],"space-x":[{"space-x":j()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":j()}],"space-y-reverse":["space-y-reverse"],size:[{size:W()}],w:[{w:[c,"screen",...W()]}],"min-w":[{"min-w":[c,"screen","none",...W()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[a]},...W()]}],h:[{h:["screen",...W()]}],"min-h":[{"min-h":["screen","none",...W()]}],"max-h":[{"max-h":["screen",...W()]}],"font-size":[{text:["base",r,_t,ot]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,$,Gr]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Ur,V]}],"font-family":[{font:[Zl,V,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,$,V]}],"line-clamp":[{"line-clamp":[Z,"none",$,Gr]}],leading:[{leading:[i,...j()]}],"list-image":[{"list-image":["none",$,V]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",$,V]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:T()}],"text-color":[{text:T()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ae(),"wavy"]}],"text-decoration-thickness":[{decoration:[Z,"from-font","auto",$,ot]}],"text-decoration-color":[{decoration:T()}],"underline-offset":[{"underline-offset":[Z,"auto",$,V]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:j()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",$,V]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",$,V]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:I()}],"bg-repeat":[{bg:E()}],"bg-size":[{bg:H()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},We,$,V],radial:["",$,V],conic:[We,$,V]},Ql,Xl]}],"bg-color":[{bg:T()}],"gradient-from-pos":[{from:q()}],"gradient-via-pos":[{via:q()}],"gradient-to-pos":[{to:q()}],"gradient-from":[{from:T()}],"gradient-via":[{via:T()}],"gradient-to":[{to:T()}],rounded:[{rounded:Y()}],"rounded-s":[{"rounded-s":Y()}],"rounded-e":[{"rounded-e":Y()}],"rounded-t":[{"rounded-t":Y()}],"rounded-r":[{"rounded-r":Y()}],"rounded-b":[{"rounded-b":Y()}],"rounded-l":[{"rounded-l":Y()}],"rounded-ss":[{"rounded-ss":Y()}],"rounded-se":[{"rounded-se":Y()}],"rounded-ee":[{"rounded-ee":Y()}],"rounded-es":[{"rounded-es":Y()}],"rounded-tl":[{"rounded-tl":Y()}],"rounded-tr":[{"rounded-tr":Y()}],"rounded-br":[{"rounded-br":Y()}],"rounded-bl":[{"rounded-bl":Y()}],"border-w":[{border:te()}],"border-w-x":[{"border-x":te()}],"border-w-y":[{"border-y":te()}],"border-w-s":[{"border-s":te()}],"border-w-e":[{"border-e":te()}],"border-w-t":[{"border-t":te()}],"border-w-r":[{"border-r":te()}],"border-w-b":[{"border-b":te()}],"border-w-l":[{"border-l":te()}],"divide-x":[{"divide-x":te()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":te()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ae(),"hidden","none"]}],"divide-style":[{divide:[...ae(),"hidden","none"]}],"border-color":[{border:T()}],"border-color-x":[{"border-x":T()}],"border-color-y":[{"border-y":T()}],"border-color-s":[{"border-s":T()}],"border-color-e":[{"border-e":T()}],"border-color-t":[{"border-t":T()}],"border-color-r":[{"border-r":T()}],"border-color-b":[{"border-b":T()}],"border-color-l":[{"border-l":T()}],"divide-color":[{divide:T()}],"outline-style":[{outline:[...ae(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Z,$,V]}],"outline-w":[{outline:["",Z,_t,ot]}],"outline-color":[{outline:T()}],shadow:[{shadow:["","none",f,tr,er]}],"shadow-color":[{shadow:T()}],"inset-shadow":[{"inset-shadow":["none",u,tr,er]}],"inset-shadow-color":[{"inset-shadow":T()}],"ring-w":[{ring:te()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:T()}],"ring-offset-w":[{"ring-offset":[Z,ot]}],"ring-offset-color":[{"ring-offset":T()}],"inset-ring-w":[{"inset-ring":te()}],"inset-ring-color":[{"inset-ring":T()}],"text-shadow":[{"text-shadow":["none",p,tr,er]}],"text-shadow-color":[{"text-shadow":T()}],opacity:[{opacity:[Z,$,V]}],"mix-blend":[{"mix-blend":[...ie(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ie()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Z]}],"mask-image-linear-from-pos":[{"mask-linear-from":F()}],"mask-image-linear-to-pos":[{"mask-linear-to":F()}],"mask-image-linear-from-color":[{"mask-linear-from":T()}],"mask-image-linear-to-color":[{"mask-linear-to":T()}],"mask-image-t-from-pos":[{"mask-t-from":F()}],"mask-image-t-to-pos":[{"mask-t-to":F()}],"mask-image-t-from-color":[{"mask-t-from":T()}],"mask-image-t-to-color":[{"mask-t-to":T()}],"mask-image-r-from-pos":[{"mask-r-from":F()}],"mask-image-r-to-pos":[{"mask-r-to":F()}],"mask-image-r-from-color":[{"mask-r-from":T()}],"mask-image-r-to-color":[{"mask-r-to":T()}],"mask-image-b-from-pos":[{"mask-b-from":F()}],"mask-image-b-to-pos":[{"mask-b-to":F()}],"mask-image-b-from-color":[{"mask-b-from":T()}],"mask-image-b-to-color":[{"mask-b-to":T()}],"mask-image-l-from-pos":[{"mask-l-from":F()}],"mask-image-l-to-pos":[{"mask-l-to":F()}],"mask-image-l-from-color":[{"mask-l-from":T()}],"mask-image-l-to-color":[{"mask-l-to":T()}],"mask-image-x-from-pos":[{"mask-x-from":F()}],"mask-image-x-to-pos":[{"mask-x-to":F()}],"mask-image-x-from-color":[{"mask-x-from":T()}],"mask-image-x-to-color":[{"mask-x-to":T()}],"mask-image-y-from-pos":[{"mask-y-from":F()}],"mask-image-y-to-pos":[{"mask-y-to":F()}],"mask-image-y-from-color":[{"mask-y-from":T()}],"mask-image-y-to-color":[{"mask-y-to":T()}],"mask-image-radial":[{"mask-radial":[$,V]}],"mask-image-radial-from-pos":[{"mask-radial-from":F()}],"mask-image-radial-to-pos":[{"mask-radial-to":F()}],"mask-image-radial-from-color":[{"mask-radial-from":T()}],"mask-image-radial-to-color":[{"mask-radial-to":T()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":w()}],"mask-image-conic-pos":[{"mask-conic":[Z]}],"mask-image-conic-from-pos":[{"mask-conic-from":F()}],"mask-image-conic-to-pos":[{"mask-conic-to":F()}],"mask-image-conic-from-color":[{"mask-conic-from":T()}],"mask-image-conic-to-color":[{"mask-conic-to":T()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:I()}],"mask-repeat":[{mask:E()}],"mask-size":[{mask:H()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",$,V]}],filter:[{filter:["","none",$,V]}],blur:[{blur:G()}],brightness:[{brightness:[Z,$,V]}],contrast:[{contrast:[Z,$,V]}],"drop-shadow":[{"drop-shadow":["","none",v,tr,er]}],"drop-shadow-color":[{"drop-shadow":T()}],grayscale:[{grayscale:["",Z,$,V]}],"hue-rotate":[{"hue-rotate":[Z,$,V]}],invert:[{invert:["",Z,$,V]}],saturate:[{saturate:[Z,$,V]}],sepia:[{sepia:["",Z,$,V]}],"backdrop-filter":[{"backdrop-filter":["","none",$,V]}],"backdrop-blur":[{"backdrop-blur":G()}],"backdrop-brightness":[{"backdrop-brightness":[Z,$,V]}],"backdrop-contrast":[{"backdrop-contrast":[Z,$,V]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Z,$,V]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Z,$,V]}],"backdrop-invert":[{"backdrop-invert":["",Z,$,V]}],"backdrop-opacity":[{"backdrop-opacity":[Z,$,V]}],"backdrop-saturate":[{"backdrop-saturate":[Z,$,V]}],"backdrop-sepia":[{"backdrop-sepia":["",Z,$,V]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":j()}],"border-spacing-x":[{"border-spacing-x":j()}],"border-spacing-y":[{"border-spacing-y":j()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",$,V]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Z,"initial",$,V]}],ease:[{ease:["linear","initial",g,$,V]}],delay:[{delay:[Z,$,V]}],animate:[{animate:["none",C,$,V]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[h,$,V]}],"perspective-origin":[{"perspective-origin":N()}],rotate:[{rotate:J()}],"rotate-x":[{"rotate-x":J()}],"rotate-y":[{"rotate-y":J()}],"rotate-z":[{"rotate-z":J()}],scale:[{scale:Q()}],"scale-x":[{"scale-x":Q()}],"scale-y":[{"scale-y":Q()}],"scale-z":[{"scale-z":Q()}],"scale-3d":["scale-3d"],skew:[{skew:re()}],"skew-x":[{"skew-x":re()}],"skew-y":[{"skew-y":re()}],transform:[{transform:[$,V,"","none","gpu","cpu"]}],"transform-origin":[{origin:N()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:oe()}],"translate-x":[{"translate-x":oe()}],"translate-y":[{"translate-y":oe()}],"translate-z":[{"translate-z":oe()}],"translate-none":["translate-none"],accent:[{accent:T()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:T()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",$,V]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":j()}],"scroll-mx":[{"scroll-mx":j()}],"scroll-my":[{"scroll-my":j()}],"scroll-ms":[{"scroll-ms":j()}],"scroll-me":[{"scroll-me":j()}],"scroll-mt":[{"scroll-mt":j()}],"scroll-mr":[{"scroll-mr":j()}],"scroll-mb":[{"scroll-mb":j()}],"scroll-ml":[{"scroll-ml":j()}],"scroll-p":[{"scroll-p":j()}],"scroll-px":[{"scroll-px":j()}],"scroll-py":[{"scroll-py":j()}],"scroll-ps":[{"scroll-ps":j()}],"scroll-pe":[{"scroll-pe":j()}],"scroll-pt":[{"scroll-pt":j()}],"scroll-pr":[{"scroll-pr":j()}],"scroll-pb":[{"scroll-pb":j()}],"scroll-pl":[{"scroll-pl":j()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",$,V]}],fill:[{fill:["none",...T()]}],"stroke-w":[{stroke:[Z,_t,ot,Gr]}],stroke:[{stroke:["none",...T()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}});function ee(...e){return ru(Ao(e))}const Go=Nl,Kr=m.forwardRef(({className:e,...t},r)=>o.jsx(So,{ref:r,className:ee("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Kr.displayName=So.displayName;const Ue=m.forwardRef(({className:e,...t},r)=>o.jsx(To,{ref:r,className:ee("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Ue.displayName=To.displayName;const Ge=m.forwardRef(({className:e,...t},r)=>o.jsx(Ro,{ref:r,className:ee("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Ge.displayName=Ro.displayName;const fe=m.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:ee("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));fe.displayName="Card";const me=m.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:ee("flex flex-col space-y-1.5 p-6",e),...t}));me.displayName="CardHeader";const pe=m.forwardRef(({className:e,...t},r)=>o.jsx("h3",{ref:r,className:ee("text-2xl font-semibold leading-none tracking-tight",e),...t}));pe.displayName="CardTitle";const nu=m.forwardRef(({className:e,...t},r)=>o.jsx("p",{ref:r,className:ee("text-sm text-muted-foreground",e),...t}));nu.displayName="CardDescription";const he=m.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:ee("p-6 pt-0",e),...t}));he.displayName="CardContent";const ou=m.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:ee("flex items-center p-6 pt-0",e),...t}));ou.displayName="CardFooter";var su="Label",Ko=m.forwardRef((e,t)=>o.jsx(X.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));Ko.displayName=su;var qo=Ko;const Yo=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Xo=Ao,qr=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return Xo(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:i}=t,a=Object.keys(s).map(d=>{const f=r==null?void 0:r[d],u=i==null?void 0:i[d];if(f===null)return null;const p=Yo(f)||Yo(u);return s[d][p]}),c=r&&Object.entries(r).reduce((d,f)=>{let[u,p]=f;return p===void 0||(d[u]=p),d},{}),l=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((d,f)=>{let{class:u,className:p,...v}=f;return Object.entries(v).every(x=>{let[h,y]=x;return Array.isArray(y)?y.includes({...i,...c}[h]):{...i,...c}[h]===y})?[...d,u,p]:d},[]);return Xo(e,a,l,r==null?void 0:r.class,r==null?void 0:r.className)},au=qr("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),K=m.forwardRef(({className:e,...t},r)=>o.jsx(qo,{ref:r,className:ee(au(),e),...t}));K.displayName=qo.displayName;function rr(e,[t,r]){return Math.min(r,Math.max(t,e))}function Yr(e){const t=m.useRef({value:e,previous:e});return m.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function Xr(e){const[t,r]=m.useState(void 0);return le(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let a,c;if("borderBoxSize"in i){const l=i.borderBoxSize,d=Array.isArray(l)?l[0]:l;a=d.inlineSize,c=d.blockSize}else a=e.offsetWidth,c=e.offsetHeight;r({width:a,height:c})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var Zo=["PageUp","PageDown"],Jo=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Qo={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},vt="Slider",[Zr,iu,cu]=Xt(vt),[es,ch]=Fe(vt,[cu]),[lu,nr]=es(vt),ts=m.forwardRef((e,t)=>{const{name:r,min:n=0,max:s=100,step:i=1,orientation:a="horizontal",disabled:c=!1,minStepsBetweenThumbs:l=0,defaultValue:d=[n],value:f,onValueChange:u=()=>{},onValueCommit:p=()=>{},inverted:v=!1,form:x,...h}=e,y=m.useRef(new Set),g=m.useRef(0),b=a==="horizontal"?uu:du,[w=[],N]=nt({prop:f,defaultProp:d,onChange:k=>{var L;(L=[...y.current][g.current])==null||L.focus(),u(k)}}),A=m.useRef(w);function M(k){const R=gu(w,k);O(k,R)}function j(k){O(k,g.current)}function P(){const k=A.current[g.current];w[g.current]!==k&&p(w)}function O(k,R,{commit:L}={commit:!1}){const z=bu(i),B=wu(Math.round((k-n)/i)*i+n,z),_=rr(B,[n,s]);N((W=[])=>{const T=pu(W,_,R);if(yu(T,l*i)){g.current=T.indexOf(_);const I=String(T)!==String(W);return I&&L&&p(T),I?T:W}else return W})}return o.jsx(lu,{scope:e.__scopeSlider,name:r,disabled:c,min:n,max:s,valueIndexToChangeRef:g,thumbs:y.current,values:w,orientation:a,form:x,children:o.jsx(Zr.Provider,{scope:e.__scopeSlider,children:o.jsx(Zr.Slot,{scope:e.__scopeSlider,children:o.jsx(b,{"aria-disabled":c,"data-disabled":c?"":void 0,...h,ref:t,onPointerDown:U(h.onPointerDown,()=>{c||(A.current=w)}),min:n,max:s,inverted:v,onSlideStart:c?void 0:M,onSlideMove:c?void 0:j,onSlideEnd:c?void 0:P,onHomeKeyDown:()=>!c&&O(n,0,{commit:!0}),onEndKeyDown:()=>!c&&O(s,w.length-1,{commit:!0}),onStepKeyDown:({event:k,direction:R})=>{if(!c){const B=Zo.includes(k.key)||k.shiftKey&&Jo.includes(k.key)?10:1,_=g.current,W=w[_],T=i*B*R;O(W+T,_,{commit:!0})}}})})})})});ts.displayName=vt;var[rs,ns]=es(vt,{startEdge:"left",endEdge:"right",size:"width",direction:1}),uu=m.forwardRef((e,t)=>{const{min:r,max:n,dir:s,inverted:i,onSlideStart:a,onSlideMove:c,onSlideEnd:l,onStepKeyDown:d,...f}=e,[u,p]=m.useState(null),v=ne(t,b=>p(b)),x=m.useRef(void 0),h=Mt(s),y=h==="ltr",g=y&&!i||!y&&i;function C(b){const w=x.current||u.getBoundingClientRect(),N=[0,w.width],M=en(N,g?[r,n]:[n,r]);return x.current=w,M(b-w.left)}return o.jsx(rs,{scope:e.__scopeSlider,startEdge:g?"left":"right",endEdge:g?"right":"left",direction:g?1:-1,size:"width",children:o.jsx(os,{dir:h,"data-orientation":"horizontal",...f,ref:v,style:{...f.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:b=>{const w=C(b.clientX);a==null||a(w)},onSlideMove:b=>{const w=C(b.clientX);c==null||c(w)},onSlideEnd:()=>{x.current=void 0,l==null||l()},onStepKeyDown:b=>{const N=Qo[g?"from-left":"from-right"].includes(b.key);d==null||d({event:b,direction:N?-1:1})}})})}),du=m.forwardRef((e,t)=>{const{min:r,max:n,inverted:s,onSlideStart:i,onSlideMove:a,onSlideEnd:c,onStepKeyDown:l,...d}=e,f=m.useRef(null),u=ne(t,f),p=m.useRef(void 0),v=!s;function x(h){const y=p.current||f.current.getBoundingClientRect(),g=[0,y.height],b=en(g,v?[n,r]:[r,n]);return p.current=y,b(h-y.top)}return o.jsx(rs,{scope:e.__scopeSlider,startEdge:v?"bottom":"top",endEdge:v?"top":"bottom",size:"height",direction:v?1:-1,children:o.jsx(os,{"data-orientation":"vertical",...d,ref:u,style:{...d.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:h=>{const y=x(h.clientY);i==null||i(y)},onSlideMove:h=>{const y=x(h.clientY);a==null||a(y)},onSlideEnd:()=>{p.current=void 0,c==null||c()},onStepKeyDown:h=>{const g=Qo[v?"from-bottom":"from-top"].includes(h.key);l==null||l({event:h,direction:g?-1:1})}})})}),os=m.forwardRef((e,t)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:s,onSlideEnd:i,onHomeKeyDown:a,onEndKeyDown:c,onStepKeyDown:l,...d}=e,f=nr(vt,r);return o.jsx(X.span,{...d,ref:t,onKeyDown:U(e.onKeyDown,u=>{u.key==="Home"?(a(u),u.preventDefault()):u.key==="End"?(c(u),u.preventDefault()):Zo.concat(Jo).includes(u.key)&&(l(u),u.preventDefault())}),onPointerDown:U(e.onPointerDown,u=>{const p=u.target;p.setPointerCapture(u.pointerId),u.preventDefault(),f.thumbs.has(p)?p.focus():n(u)}),onPointerMove:U(e.onPointerMove,u=>{u.target.hasPointerCapture(u.pointerId)&&s(u)}),onPointerUp:U(e.onPointerUp,u=>{const p=u.target;p.hasPointerCapture(u.pointerId)&&(p.releasePointerCapture(u.pointerId),i(u))})})}),ss="SliderTrack",as=m.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,s=nr(ss,r);return o.jsx(X.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...n,ref:t})});as.displayName=ss;var Jr="SliderRange",is=m.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,s=nr(Jr,r),i=ns(Jr,r),a=m.useRef(null),c=ne(t,a),l=s.values.length,d=s.values.map(p=>us(p,s.min,s.max)),f=l>1?Math.min(...d):0,u=100-Math.max(...d);return o.jsx(X.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...n,ref:c,style:{...e.style,[i.startEdge]:f+"%",[i.endEdge]:u+"%"}})});is.displayName=Jr;var Qr="SliderThumb",cs=m.forwardRef((e,t)=>{const r=iu(e.__scopeSlider),[n,s]=m.useState(null),i=ne(t,c=>s(c)),a=m.useMemo(()=>n?r().findIndex(c=>c.ref.current===n):-1,[r,n]);return o.jsx(fu,{...e,ref:i,index:a})}),fu=m.forwardRef((e,t)=>{const{__scopeSlider:r,index:n,name:s,...i}=e,a=nr(Qr,r),c=ns(Qr,r),[l,d]=m.useState(null),f=ne(t,C=>d(C)),u=l?a.form||!!l.closest("form"):!0,p=Xr(l),v=a.values[n],x=v===void 0?0:us(v,a.min,a.max),h=hu(n,a.values.length),y=p==null?void 0:p[c.size],g=y?vu(y,x,c.direction):0;return m.useEffect(()=>{if(l)return a.thumbs.add(l),()=>{a.thumbs.delete(l)}},[l,a.thumbs]),o.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[c.startEdge]:`calc(${x}% + ${g}px)`},children:[o.jsx(Zr.ItemSlot,{scope:e.__scopeSlider,children:o.jsx(X.span,{role:"slider","aria-label":e["aria-label"]||h,"aria-valuemin":a.min,"aria-valuenow":v,"aria-valuemax":a.max,"aria-orientation":a.orientation,"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,tabIndex:a.disabled?void 0:0,...i,ref:f,style:v===void 0?{display:"none"}:e.style,onFocus:U(e.onFocus,()=>{a.valueIndexToChangeRef.current=n})})}),u&&o.jsx(ls,{name:s??(a.name?a.name+(a.values.length>1?"[]":""):void 0),form:a.form,value:v},n)]})});cs.displayName=Qr;var mu="RadioBubbleInput",ls=m.forwardRef(({__scopeSlider:e,value:t,...r},n)=>{const s=m.useRef(null),i=ne(s,n),a=Yr(t);return m.useEffect(()=>{const c=s.current;if(!c)return;const l=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(l,"value").set;if(a!==t&&f){const u=new Event("input",{bubbles:!0});f.call(c,t),c.dispatchEvent(u)}},[a,t]),o.jsx(X.input,{style:{display:"none"},...r,ref:i,defaultValue:t})});ls.displayName=mu;function pu(e=[],t,r){const n=[...e];return n[r]=t,n.sort((s,i)=>s-i)}function us(e,t,r){const i=100/(r-t)*(e-t);return rr(i,[0,100])}function hu(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function gu(e,t){if(e.length===1)return 0;const r=e.map(s=>Math.abs(s-t)),n=Math.min(...r);return r.indexOf(n)}function vu(e,t,r){const n=e/2,i=en([0,50],[0,n]);return(n-i(t)*r)*r}function xu(e){return e.slice(0,-1).map((t,r)=>e[r+1]-t)}function yu(e,t){if(t>0){const r=xu(e);return Math.min(...r)>=t}return!0}function en(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function bu(e){return(String(e).split(".")[1]||"").length}function wu(e,t){const r=Math.pow(10,t);return Math.round(e*r)/r}var ds=ts,Cu=as,Nu=is,ku=cs;const Ee=m.forwardRef(({className:e,...t},r)=>o.jsxs(ds,{ref:r,className:ee("relative flex w-full touch-none select-none items-center",e),...t,children:[o.jsx(Cu,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:o.jsx(Nu,{className:"absolute h-full bg-primary"})}),o.jsx(ku,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));Ee.displayName=ds.displayName;var or="Switch",[Eu,lh]=Fe(or),[ju,Su]=Eu(or),fs=m.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:s,defaultChecked:i,required:a,disabled:c,value:l="on",onCheckedChange:d,form:f,...u}=e,[p,v]=m.useState(null),x=ne(t,b=>v(b)),h=m.useRef(!1),y=p?f||!!p.closest("form"):!0,[g,C]=nt({prop:s,defaultProp:i??!1,onChange:d,caller:or});return o.jsxs(ju,{scope:r,checked:g,disabled:c,children:[o.jsx(X.button,{type:"button",role:"switch","aria-checked":g,"aria-required":a,"data-state":gs(g),"data-disabled":c?"":void 0,disabled:c,value:l,...u,ref:x,onClick:U(e.onClick,b=>{C(w=>!w),y&&(h.current=b.isPropagationStopped(),h.current||b.stopPropagation())})}),y&&o.jsx(hs,{control:p,bubbles:!h.current,name:n,value:l,checked:g,required:a,disabled:c,form:f,style:{transform:"translateX(-100%)"}})]})});fs.displayName=or;var ms="SwitchThumb",ps=m.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,s=Su(ms,r);return o.jsx(X.span,{"data-state":gs(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:t})});ps.displayName=ms;var Tu="SwitchBubbleInput",hs=m.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...s},i)=>{const a=m.useRef(null),c=ne(a,i),l=Yr(r),d=Xr(t);return m.useEffect(()=>{const f=a.current;if(!f)return;const u=window.HTMLInputElement.prototype,v=Object.getOwnPropertyDescriptor(u,"checked").set;if(l!==r&&v){const x=new Event("click",{bubbles:n});v.call(f,r),f.dispatchEvent(x)}},[l,r,n]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:c,style:{...s.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});hs.displayName=Tu;function gs(e){return e?"checked":"unchecked"}var vs=fs,Ru=ps;const tn=m.forwardRef(({className:e,...t},r)=>o.jsx(vs,{className:ee("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:o.jsx(Ru,{className:ee("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));tn.displayName=vs.displayName;function Mu({planetStats:e,setPlanetStats:t}){var s;const r=et(e.mass,e.radius),n=(i,a)=>{t({...e,[i]:a})};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs(fe,{className:"bg-black/60 border-green-500/30 text-green-400",children:[o.jsx(me,{className:"pb-2",children:o.jsx(pe,{className:"text-lg tracking-wide",children:"MASS PROPERTIES"})}),o.jsxs(he,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx(K,{className:"text-green-300",children:"Mass (Earth masses)"}),o.jsx("span",{className:"font-bold",children:e.mass.toFixed(2)})]}),o.jsx(Ee,{value:[e.mass],min:.1,max:15,step:.1,onValueChange:i=>n("mass",i[0]),className:"[&_[role=slider]]:bg-green-500"})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx(K,{className:"text-green-300",children:"Radius (Earth radii)"}),o.jsx("span",{className:"font-bold",children:e.radius.toFixed(2)})]}),o.jsx(Ee,{value:[e.radius],min:.1,max:10,step:.1,onValueChange:i=>n("radius",i[0]),className:"[&_[role=slider]]:bg-green-500"})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx(K,{className:"text-green-300",children:"Density (g/cmÂ³)"}),o.jsx("span",{className:"font-bold",children:((s=e.density)==null?void 0:s.toFixed(2))||"N/A"})]}),o.jsx("p",{className:"text-xs text-green-500/70",children:"Calculated from mass and radius"})]})]})]}),o.jsxs(fe,{className:"bg-black/60 border-green-500/30 text-green-400",children:[o.jsx(me,{className:"pb-2",children:o.jsx(pe,{className:"text-lg tracking-wide",children:"THERMAL PROPERTIES"})}),o.jsx(he,{className:"space-y-4",children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx(K,{className:"text-green-300",children:"Temperature (K)"}),o.jsxs("span",{className:"font-bold",children:[e.temperature," K (",(e.temperature-273.15).toFixed(1),"Â°C)"]})]}),o.jsx(Ee,{value:[e.temperature],min:50,max:700,step:1,onValueChange:i=>n("temperature",i[0]),className:"[&_[role=slider]]:bg-green-500"})]})})]}),o.jsxs(fe,{className:"bg-black/60 border-green-500/30 text-green-400",children:[o.jsx(me,{className:"pb-2",children:o.jsx(pe,{className:"text-lg tracking-wide",children:"CLASSIFICATION"})}),o.jsxs(he,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx(K,{className:"text-green-300",children:"Planet Type"}),o.jsx("span",{className:"text-sm capitalize font-bold",children:r})]}),o.jsx("p",{className:"text-xs text-green-500/70",children:r==="gaseous"?"Gas giants have mass > 7 Earth masses or radius > 2.5 Earth radii":"Terrestrial planets have smaller mass and radius"})]}),o.jsx("div",{className:"space-y-3",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx(K,{className:"text-green-300",children:"Has Rings"}),o.jsx(tn,{checked:e.hasRings,onCheckedChange:i=>n("hasRings",i),className:"data-[state=checked]:bg-green-600"})]})})]})]})]})}function Au(e,t=globalThis==null?void 0:globalThis.document){const r=Ae(e);m.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var _u="DismissableLayer",rn="dismissableLayer.update",Pu="dismissableLayer.pointerDownOutside",Iu="dismissableLayer.focusOutside",xs,ys=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),nn=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:a,onDismiss:c,...l}=e,d=m.useContext(ys),[f,u]=m.useState(null),p=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,v]=m.useState({}),x=ne(t,M=>u(M)),h=Array.from(d.layers),[y]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),g=h.indexOf(y),C=f?h.indexOf(f):-1,b=d.layersWithOutsidePointerEventsDisabled.size>0,w=C>=g,N=Lu(M=>{const j=M.target,P=[...d.branches].some(O=>O.contains(j));!w||P||(s==null||s(M),a==null||a(M),M.defaultPrevented||c==null||c())},p),A=Fu(M=>{const j=M.target;[...d.branches].some(O=>O.contains(j))||(i==null||i(M),a==null||a(M),M.defaultPrevented||c==null||c())},p);return Au(M=>{C===d.layers.size-1&&(n==null||n(M),!M.defaultPrevented&&c&&(M.preventDefault(),c()))},p),m.useEffect(()=>{if(f)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(xs=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(f)),d.layers.add(f),bs(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=xs)}},[f,p,r,d]),m.useEffect(()=>()=>{f&&(d.layers.delete(f),d.layersWithOutsidePointerEventsDisabled.delete(f),bs())},[f,d]),m.useEffect(()=>{const M=()=>v({});return document.addEventListener(rn,M),()=>document.removeEventListener(rn,M)},[]),o.jsx(X.div,{...l,ref:x,style:{pointerEvents:b?w?"auto":"none":void 0,...e.style},onFocusCapture:U(e.onFocusCapture,A.onFocusCapture),onBlurCapture:U(e.onBlurCapture,A.onBlurCapture),onPointerDownCapture:U(e.onPointerDownCapture,N.onPointerDownCapture)})});nn.displayName=_u;var Du="DismissableLayerBranch",Ou=m.forwardRef((e,t)=>{const r=m.useContext(ys),n=m.useRef(null),s=ne(t,n);return m.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),o.jsx(X.div,{...e,ref:s})});Ou.displayName=Du;function Lu(e,t=globalThis==null?void 0:globalThis.document){const r=Ae(e),n=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const i=c=>{if(c.target&&!n.current){let l=function(){ws(Pu,r,d,{discrete:!0})};const d={originalEvent:c};c.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=l,t.addEventListener("click",s.current,{once:!0})):l()}else t.removeEventListener("click",s.current);n.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function Fu(e,t=globalThis==null?void 0:globalThis.document){const r=Ae(e),n=m.useRef(!1);return m.useEffect(()=>{const s=i=>{i.target&&!n.current&&ws(Iu,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function bs(){const e=new CustomEvent(rn);document.dispatchEvent(e)}function ws(e,t,r,{discrete:n}){const s=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?co(s,i):s.dispatchEvent(i)}var on=0;function Cs(){m.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Ns()),document.body.insertAdjacentElement("beforeend",e[1]??Ns()),on++,()=>{on===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),on--}},[])}function Ns(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var sn="focusScope.autoFocusOnMount",an="focusScope.autoFocusOnUnmount",ks={bubbles:!1,cancelable:!0},zu="FocusScope",cn=m.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...a}=e,[c,l]=m.useState(null),d=Ae(s),f=Ae(i),u=m.useRef(null),p=ne(t,h=>l(h)),v=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(n){let h=function(b){if(v.paused||!c)return;const w=b.target;c.contains(w)?u.current=w:Ke(u.current,{select:!0})},y=function(b){if(v.paused||!c)return;const w=b.relatedTarget;w!==null&&(c.contains(w)||Ke(u.current,{select:!0}))},g=function(b){if(document.activeElement===document.body)for(const N of b)N.removedNodes.length>0&&Ke(c)};document.addEventListener("focusin",h),document.addEventListener("focusout",y);const C=new MutationObserver(g);return c&&C.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",h),document.removeEventListener("focusout",y),C.disconnect()}}},[n,c,v.paused]),m.useEffect(()=>{if(c){Ss.add(v);const h=document.activeElement;if(!c.contains(h)){const g=new CustomEvent(sn,ks);c.addEventListener(sn,d),c.dispatchEvent(g),g.defaultPrevented||(Bu(Uu(Es(c)),{select:!0}),document.activeElement===h&&Ke(c))}return()=>{c.removeEventListener(sn,d),setTimeout(()=>{const g=new CustomEvent(an,ks);c.addEventListener(an,f),c.dispatchEvent(g),g.defaultPrevented||Ke(h??document.body,{select:!0}),c.removeEventListener(an,f),Ss.remove(v)},0)}}},[c,d,f,v]);const x=m.useCallback(h=>{if(!r&&!n||v.paused)return;const y=h.key==="Tab"&&!h.altKey&&!h.ctrlKey&&!h.metaKey,g=document.activeElement;if(y&&g){const C=h.currentTarget,[b,w]=Vu(C);b&&w?!h.shiftKey&&g===w?(h.preventDefault(),r&&Ke(b,{select:!0})):h.shiftKey&&g===b&&(h.preventDefault(),r&&Ke(w,{select:!0})):g===C&&h.preventDefault()}},[r,n,v.paused]);return o.jsx(X.div,{tabIndex:-1,...a,ref:p,onKeyDown:x})});cn.displayName=zu;function Bu(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Ke(n,{select:t}),document.activeElement!==r)return}function Vu(e){const t=Es(e),r=js(t,e),n=js(t.reverse(),e);return[r,n]}function Es(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function js(e,t){for(const r of e)if(!$u(r,{upTo:t}))return r}function $u(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Hu(e){return e instanceof HTMLInputElement&&"select"in e}function Ke(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&Hu(e)&&t&&e.select()}}var Ss=Wu();function Wu(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=Ts(e,t),e.unshift(t)},remove(t){var r;e=Ts(e,t),(r=e[0])==null||r.resume()}}}function Ts(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function Uu(e){return e.filter(t=>t.tagName!=="A")}const Gu=["top","right","bottom","left"],qe=Math.min,be=Math.max,sr=Math.round,ar=Math.floor,_e=e=>({x:e,y:e}),Ku={left:"right",right:"left",bottom:"top",top:"bottom"},qu={start:"end",end:"start"};function ln(e,t,r){return be(e,qe(t,r))}function Be(e,t){return typeof e=="function"?e(t):e}function Ve(e){return e.split("-")[0]}function xt(e){return e.split("-")[1]}function un(e){return e==="x"?"y":"x"}function dn(e){return e==="y"?"height":"width"}function $e(e){return["top","bottom"].includes(Ve(e))?"y":"x"}function fn(e){return un($e(e))}function Yu(e,t,r){r===void 0&&(r=!1);const n=xt(e),s=fn(e),i=dn(s);let a=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(a=ir(a)),[a,ir(a)]}function Xu(e){const t=ir(e);return[mn(e),t,mn(t)]}function mn(e){return e.replace(/start|end/g,t=>qu[t])}function Zu(e,t,r){const n=["left","right"],s=["right","left"],i=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return r?t?s:n:t?n:s;case"left":case"right":return t?i:a;default:return[]}}function Ju(e,t,r,n){const s=xt(e);let i=Zu(Ve(e),r==="start",n);return s&&(i=i.map(a=>a+"-"+s),t&&(i=i.concat(i.map(mn)))),i}function ir(e){return e.replace(/left|right|bottom|top/g,t=>Ku[t])}function Qu(e){return{top:0,right:0,bottom:0,left:0,...e}}function Rs(e){return typeof e!="number"?Qu(e):{top:e,right:e,bottom:e,left:e}}function cr(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function Ms(e,t,r){let{reference:n,floating:s}=e;const i=$e(t),a=fn(t),c=dn(a),l=Ve(t),d=i==="y",f=n.x+n.width/2-s.width/2,u=n.y+n.height/2-s.height/2,p=n[c]/2-s[c]/2;let v;switch(l){case"top":v={x:f,y:n.y-s.height};break;case"bottom":v={x:f,y:n.y+n.height};break;case"right":v={x:n.x+n.width,y:u};break;case"left":v={x:n.x-s.width,y:u};break;default:v={x:n.x,y:n.y}}switch(xt(t)){case"start":v[a]-=p*(r&&d?-1:1);break;case"end":v[a]+=p*(r&&d?-1:1);break}return v}const ed=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:i=[],platform:a}=r,c=i.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(t));let d=await a.getElementRects({reference:e,floating:t,strategy:s}),{x:f,y:u}=Ms(d,n,l),p=n,v={},x=0;for(let h=0;h<c.length;h++){const{name:y,fn:g}=c[h],{x:C,y:b,data:w,reset:N}=await g({x:f,y:u,initialPlacement:n,placement:p,strategy:s,middlewareData:v,rects:d,platform:a,elements:{reference:e,floating:t}});f=C??f,u=b??u,v={...v,[y]:{...v[y],...w}},N&&x<=50&&(x++,typeof N=="object"&&(N.placement&&(p=N.placement),N.rects&&(d=N.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:s}):N.rects),{x:f,y:u}=Ms(d,p,l)),h=-1)}return{x:f,y:u,placement:p,strategy:s,middlewareData:v}};async function Pt(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:i,rects:a,elements:c,strategy:l}=e,{boundary:d="clippingAncestors",rootBoundary:f="viewport",elementContext:u="floating",altBoundary:p=!1,padding:v=0}=Be(t,e),x=Rs(v),y=c[p?u==="floating"?"reference":"floating":u],g=cr(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(y)))==null||r?y:y.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(c.floating)),boundary:d,rootBoundary:f,strategy:l})),C=u==="floating"?{x:n,y:s,width:a.floating.width,height:a.floating.height}:a.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c.floating)),w=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},N=cr(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:C,offsetParent:b,strategy:l}):C);return{top:(g.top-N.top+x.top)/w.y,bottom:(N.bottom-g.bottom+x.bottom)/w.y,left:(g.left-N.left+x.left)/w.x,right:(N.right-g.right+x.right)/w.x}}const td=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:i,platform:a,elements:c,middlewareData:l}=t,{element:d,padding:f=0}=Be(e,t)||{};if(d==null)return{};const u=Rs(f),p={x:r,y:n},v=fn(s),x=dn(v),h=await a.getDimensions(d),y=v==="y",g=y?"top":"left",C=y?"bottom":"right",b=y?"clientHeight":"clientWidth",w=i.reference[x]+i.reference[v]-p[v]-i.floating[x],N=p[v]-i.reference[v],A=await(a.getOffsetParent==null?void 0:a.getOffsetParent(d));let M=A?A[b]:0;(!M||!await(a.isElement==null?void 0:a.isElement(A)))&&(M=c.floating[b]||i.floating[x]);const j=w/2-N/2,P=M/2-h[x]/2-1,O=qe(u[g],P),k=qe(u[C],P),R=O,L=M-h[x]-k,z=M/2-h[x]/2+j,B=ln(R,z,L),_=!l.arrow&&xt(s)!=null&&z!==B&&i.reference[x]/2-(z<R?O:k)-h[x]/2<0,W=_?z<R?z-R:z-L:0;return{[v]:p[v]+W,data:{[v]:B,centerOffset:z-B-W,..._&&{alignmentOffset:W}},reset:_}}}),rd=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:i,rects:a,initialPlacement:c,platform:l,elements:d}=t,{mainAxis:f=!0,crossAxis:u=!0,fallbackPlacements:p,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:h=!0,...y}=Be(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const g=Ve(s),C=$e(c),b=Ve(c)===c,w=await(l.isRTL==null?void 0:l.isRTL(d.floating)),N=p||(b||!h?[ir(c)]:Xu(c)),A=x!=="none";!p&&A&&N.push(...Ju(c,h,x,w));const M=[c,...N],j=await Pt(t,y),P=[];let O=((n=i.flip)==null?void 0:n.overflows)||[];if(f&&P.push(j[g]),u){const B=Yu(s,a,w);P.push(j[B[0]],j[B[1]])}if(O=[...O,{placement:s,overflows:P}],!P.every(B=>B<=0)){var k,R;const B=(((k=i.flip)==null?void 0:k.index)||0)+1,_=M[B];if(_){var L;const T=u==="alignment"?C!==$e(_):!1,I=((L=O[0])==null?void 0:L.overflows[0])>0;if(!T||I)return{data:{index:B,overflows:O},reset:{placement:_}}}let W=(R=O.filter(T=>T.overflows[0]<=0).sort((T,I)=>T.overflows[1]-I.overflows[1])[0])==null?void 0:R.placement;if(!W)switch(v){case"bestFit":{var z;const T=(z=O.filter(I=>{if(A){const E=$e(I.placement);return E===C||E==="y"}return!0}).map(I=>[I.placement,I.overflows.filter(E=>E>0).reduce((E,H)=>E+H,0)]).sort((I,E)=>I[1]-E[1])[0])==null?void 0:z[0];T&&(W=T);break}case"initialPlacement":W=c;break}if(s!==W)return{reset:{placement:W}}}return{}}}};function As(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function _s(e){return Gu.some(t=>e[t]>=0)}const nd=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=Be(e,t);switch(n){case"referenceHidden":{const i=await Pt(t,{...s,elementContext:"reference"}),a=As(i,r.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:_s(a)}}}case"escaped":{const i=await Pt(t,{...s,altBoundary:!0}),a=As(i,r.floating);return{data:{escapedOffsets:a,escaped:_s(a)}}}default:return{}}}}};async function od(e,t){const{placement:r,platform:n,elements:s}=e,i=await(n.isRTL==null?void 0:n.isRTL(s.floating)),a=Ve(r),c=xt(r),l=$e(r)==="y",d=["left","top"].includes(a)?-1:1,f=i&&l?-1:1,u=Be(t,e);let{mainAxis:p,crossAxis:v,alignmentAxis:x}=typeof u=="number"?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return c&&typeof x=="number"&&(v=c==="end"?x*-1:x),l?{x:v*f,y:p*d}:{x:p*d,y:v*f}}const sd=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:i,placement:a,middlewareData:c}=t,l=await od(t,e);return a===((r=c.offset)==null?void 0:r.placement)&&(n=c.arrow)!=null&&n.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:a}}}}},ad=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:i=!0,crossAxis:a=!1,limiter:c={fn:y=>{let{x:g,y:C}=y;return{x:g,y:C}}},...l}=Be(e,t),d={x:r,y:n},f=await Pt(t,l),u=$e(Ve(s)),p=un(u);let v=d[p],x=d[u];if(i){const y=p==="y"?"top":"left",g=p==="y"?"bottom":"right",C=v+f[y],b=v-f[g];v=ln(C,v,b)}if(a){const y=u==="y"?"top":"left",g=u==="y"?"bottom":"right",C=x+f[y],b=x-f[g];x=ln(C,x,b)}const h=c.fn({...t,[p]:v,[u]:x});return{...h,data:{x:h.x-r,y:h.y-n,enabled:{[p]:i,[u]:a}}}}}},id=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:i,middlewareData:a}=t,{offset:c=0,mainAxis:l=!0,crossAxis:d=!0}=Be(e,t),f={x:r,y:n},u=$e(s),p=un(u);let v=f[p],x=f[u];const h=Be(c,t),y=typeof h=="number"?{mainAxis:h,crossAxis:0}:{mainAxis:0,crossAxis:0,...h};if(l){const b=p==="y"?"height":"width",w=i.reference[p]-i.floating[b]+y.mainAxis,N=i.reference[p]+i.reference[b]-y.mainAxis;v<w?v=w:v>N&&(v=N)}if(d){var g,C;const b=p==="y"?"width":"height",w=["top","left"].includes(Ve(s)),N=i.reference[u]-i.floating[b]+(w&&((g=a.offset)==null?void 0:g[u])||0)+(w?0:y.crossAxis),A=i.reference[u]+i.reference[b]+(w?0:((C=a.offset)==null?void 0:C[u])||0)-(w?y.crossAxis:0);x<N?x=N:x>A&&(x=A)}return{[p]:v,[u]:x}}}},cd=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:i,platform:a,elements:c}=t,{apply:l=()=>{},...d}=Be(e,t),f=await Pt(t,d),u=Ve(s),p=xt(s),v=$e(s)==="y",{width:x,height:h}=i.floating;let y,g;u==="top"||u==="bottom"?(y=u,g=p===(await(a.isRTL==null?void 0:a.isRTL(c.floating))?"start":"end")?"left":"right"):(g=u,y=p==="end"?"top":"bottom");const C=h-f.top-f.bottom,b=x-f.left-f.right,w=qe(h-f[y],C),N=qe(x-f[g],b),A=!t.middlewareData.shift;let M=w,j=N;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(j=b),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(M=C),A&&!p){const O=be(f.left,0),k=be(f.right,0),R=be(f.top,0),L=be(f.bottom,0);v?j=x-2*(O!==0||k!==0?O+k:be(f.left,f.right)):M=h-2*(R!==0||L!==0?R+L:be(f.top,f.bottom))}await l({...t,availableWidth:j,availableHeight:M});const P=await a.getDimensions(c.floating);return x!==P.width||h!==P.height?{reset:{rects:!0}}:{}}}};function lr(){return typeof window<"u"}function yt(e){return Ps(e)?(e.nodeName||"").toLowerCase():"#document"}function we(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Pe(e){var t;return(t=(Ps(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Ps(e){return lr()?e instanceof Node||e instanceof we(e).Node:!1}function je(e){return lr()?e instanceof Element||e instanceof we(e).Element:!1}function Ie(e){return lr()?e instanceof HTMLElement||e instanceof we(e).HTMLElement:!1}function Is(e){return!lr()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof we(e).ShadowRoot}function It(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=Se(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(s)}function ld(e){return["table","td","th"].includes(yt(e))}function ur(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function pn(e){const t=hn(),r=je(e)?Se(e):e;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function ud(e){let t=Ye(e);for(;Ie(t)&&!bt(t);){if(pn(t))return t;if(ur(t))return null;t=Ye(t)}return null}function hn(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function bt(e){return["html","body","#document"].includes(yt(e))}function Se(e){return we(e).getComputedStyle(e)}function dr(e){return je(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ye(e){if(yt(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Is(e)&&e.host||Pe(e);return Is(t)?t.host:t}function Ds(e){const t=Ye(e);return bt(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ie(t)&&It(t)?t:Ds(t)}function Dt(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=Ds(e),i=s===((n=e.ownerDocument)==null?void 0:n.body),a=we(s);if(i){const c=gn(a);return t.concat(a,a.visualViewport||[],It(s)?s:[],c&&r?Dt(c):[])}return t.concat(s,Dt(s,[],r))}function gn(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Os(e){const t=Se(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=Ie(e),i=s?e.offsetWidth:r,a=s?e.offsetHeight:n,c=sr(r)!==i||sr(n)!==a;return c&&(r=i,n=a),{width:r,height:n,$:c}}function vn(e){return je(e)?e:e.contextElement}function wt(e){const t=vn(e);if(!Ie(t))return _e(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:i}=Os(t);let a=(i?sr(r.width):r.width)/n,c=(i?sr(r.height):r.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!c||!Number.isFinite(c))&&(c=1),{x:a,y:c}}const dd=_e(0);function Ls(e){const t=we(e);return!hn()||!t.visualViewport?dd:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function fd(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==we(e)?!1:t}function st(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),i=vn(e);let a=_e(1);t&&(n?je(n)&&(a=wt(n)):a=wt(e));const c=fd(i,r,n)?Ls(i):_e(0);let l=(s.left+c.x)/a.x,d=(s.top+c.y)/a.y,f=s.width/a.x,u=s.height/a.y;if(i){const p=we(i),v=n&&je(n)?we(n):n;let x=p,h=gn(x);for(;h&&n&&v!==x;){const y=wt(h),g=h.getBoundingClientRect(),C=Se(h),b=g.left+(h.clientLeft+parseFloat(C.paddingLeft))*y.x,w=g.top+(h.clientTop+parseFloat(C.paddingTop))*y.y;l*=y.x,d*=y.y,f*=y.x,u*=y.y,l+=b,d+=w,x=we(h),h=gn(x)}}return cr({width:f,height:u,x:l,y:d})}function xn(e,t){const r=dr(e).scrollLeft;return t?t.left+r:st(Pe(e)).left+r}function Fs(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),s=n.left+t.scrollLeft-(r?0:xn(e,n)),i=n.top+t.scrollTop;return{x:s,y:i}}function md(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const i=s==="fixed",a=Pe(n),c=t?ur(t.floating):!1;if(n===a||c&&i)return r;let l={scrollLeft:0,scrollTop:0},d=_e(1);const f=_e(0),u=Ie(n);if((u||!u&&!i)&&((yt(n)!=="body"||It(a))&&(l=dr(n)),Ie(n))){const v=st(n);d=wt(n),f.x=v.x+n.clientLeft,f.y=v.y+n.clientTop}const p=a&&!u&&!i?Fs(a,l,!0):_e(0);return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-l.scrollLeft*d.x+f.x+p.x,y:r.y*d.y-l.scrollTop*d.y+f.y+p.y}}function pd(e){return Array.from(e.getClientRects())}function hd(e){const t=Pe(e),r=dr(e),n=e.ownerDocument.body,s=be(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=be(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let a=-r.scrollLeft+xn(e);const c=-r.scrollTop;return Se(n).direction==="rtl"&&(a+=be(t.clientWidth,n.clientWidth)-s),{width:s,height:i,x:a,y:c}}function gd(e,t){const r=we(e),n=Pe(e),s=r.visualViewport;let i=n.clientWidth,a=n.clientHeight,c=0,l=0;if(s){i=s.width,a=s.height;const d=hn();(!d||d&&t==="fixed")&&(c=s.offsetLeft,l=s.offsetTop)}return{width:i,height:a,x:c,y:l}}function vd(e,t){const r=st(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,i=Ie(e)?wt(e):_e(1),a=e.clientWidth*i.x,c=e.clientHeight*i.y,l=s*i.x,d=n*i.y;return{width:a,height:c,x:l,y:d}}function zs(e,t,r){let n;if(t==="viewport")n=gd(e,r);else if(t==="document")n=hd(Pe(e));else if(je(t))n=vd(t,r);else{const s=Ls(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return cr(n)}function Bs(e,t){const r=Ye(e);return r===t||!je(r)||bt(r)?!1:Se(r).position==="fixed"||Bs(r,t)}function xd(e,t){const r=t.get(e);if(r)return r;let n=Dt(e,[],!1).filter(c=>je(c)&&yt(c)!=="body"),s=null;const i=Se(e).position==="fixed";let a=i?Ye(e):e;for(;je(a)&&!bt(a);){const c=Se(a),l=pn(a);!l&&c.position==="fixed"&&(s=null),(i?!l&&!s:!l&&c.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||It(a)&&!l&&Bs(e,a))?n=n.filter(f=>f!==a):s=c,a=Ye(a)}return t.set(e,n),n}function yd(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const a=[...r==="clippingAncestors"?ur(t)?[]:xd(t,this._c):[].concat(r),n],c=a[0],l=a.reduce((d,f)=>{const u=zs(t,f,s);return d.top=be(u.top,d.top),d.right=qe(u.right,d.right),d.bottom=qe(u.bottom,d.bottom),d.left=be(u.left,d.left),d},zs(t,c,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function bd(e){const{width:t,height:r}=Os(e);return{width:t,height:r}}function wd(e,t,r){const n=Ie(t),s=Pe(t),i=r==="fixed",a=st(e,!0,i,t);let c={scrollLeft:0,scrollTop:0};const l=_e(0);function d(){l.x=xn(s)}if(n||!n&&!i)if((yt(t)!=="body"||It(s))&&(c=dr(t)),n){const v=st(t,!0,i,t);l.x=v.x+t.clientLeft,l.y=v.y+t.clientTop}else s&&d();i&&!n&&s&&d();const f=s&&!n&&!i?Fs(s,c):_e(0),u=a.left+c.scrollLeft-l.x-f.x,p=a.top+c.scrollTop-l.y-f.y;return{x:u,y:p,width:a.width,height:a.height}}function yn(e){return Se(e).position==="static"}function Vs(e,t){if(!Ie(e)||Se(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Pe(e)===r&&(r=r.ownerDocument.body),r}function $s(e,t){const r=we(e);if(ur(e))return r;if(!Ie(e)){let s=Ye(e);for(;s&&!bt(s);){if(je(s)&&!yn(s))return s;s=Ye(s)}return r}let n=Vs(e,t);for(;n&&ld(n)&&yn(n);)n=Vs(n,t);return n&&bt(n)&&yn(n)&&!pn(n)?r:n||ud(e)||r}const Cd=async function(e){const t=this.getOffsetParent||$s,r=this.getDimensions,n=await r(e.floating);return{reference:wd(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Nd(e){return Se(e).direction==="rtl"}const kd={convertOffsetParentRelativeRectToViewportRelativeRect:md,getDocumentElement:Pe,getClippingRect:yd,getOffsetParent:$s,getElementRects:Cd,getClientRects:pd,getDimensions:bd,getScale:wt,isElement:je,isRTL:Nd};function Hs(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Ed(e,t){let r=null,n;const s=Pe(e);function i(){var c;clearTimeout(n),(c=r)==null||c.disconnect(),r=null}function a(c,l){c===void 0&&(c=!1),l===void 0&&(l=1),i();const d=e.getBoundingClientRect(),{left:f,top:u,width:p,height:v}=d;if(c||t(),!p||!v)return;const x=ar(u),h=ar(s.clientWidth-(f+p)),y=ar(s.clientHeight-(u+v)),g=ar(f),b={rootMargin:-x+"px "+-h+"px "+-y+"px "+-g+"px",threshold:be(0,qe(1,l))||1};let w=!0;function N(A){const M=A[0].intersectionRatio;if(M!==l){if(!w)return a();M?a(!1,M):n=setTimeout(()=>{a(!1,1e-7)},1e3)}M===1&&!Hs(d,e.getBoundingClientRect())&&a(),w=!1}try{r=new IntersectionObserver(N,{...b,root:s.ownerDocument})}catch{r=new IntersectionObserver(N,b)}r.observe(e)}return a(!0),i}function jd(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,d=vn(e),f=s||i?[...d?Dt(d):[],...Dt(t)]:[];f.forEach(g=>{s&&g.addEventListener("scroll",r,{passive:!0}),i&&g.addEventListener("resize",r)});const u=d&&c?Ed(d,r):null;let p=-1,v=null;a&&(v=new ResizeObserver(g=>{let[C]=g;C&&C.target===d&&v&&(v.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var b;(b=v)==null||b.observe(t)})),r()}),d&&!l&&v.observe(d),v.observe(t));let x,h=l?st(e):null;l&&y();function y(){const g=st(e);h&&!Hs(h,g)&&r(),h=g,x=requestAnimationFrame(y)}return r(),()=>{var g;f.forEach(C=>{s&&C.removeEventListener("scroll",r),i&&C.removeEventListener("resize",r)}),u==null||u(),(g=v)==null||g.disconnect(),v=null,l&&cancelAnimationFrame(x)}}const Sd=sd,Td=ad,Rd=rd,Md=cd,Ad=nd,Ws=td,_d=id,Pd=(e,t,r)=>{const n=new Map,s={platform:kd,...r},i={...s.platform,_c:n};return ed(e,t,{...s,platform:i})};var fr=typeof document<"u"?D.useLayoutEffect:D.useEffect;function mr(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!mr(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const i=s[n];if(!(i==="_owner"&&e.$$typeof)&&!mr(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function Us(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Gs(e,t){const r=Us(e);return Math.round(t*r)/r}function bn(e){const t=m.useRef(e);return fr(()=>{t.current=e}),t}function Id(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:i,floating:a}={},transform:c=!0,whileElementsMounted:l,open:d}=e,[f,u]=m.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[p,v]=m.useState(n);mr(p,n)||v(n);const[x,h]=m.useState(null),[y,g]=m.useState(null),C=m.useCallback(T=>{T!==A.current&&(A.current=T,h(T))},[]),b=m.useCallback(T=>{T!==M.current&&(M.current=T,g(T))},[]),w=i||x,N=a||y,A=m.useRef(null),M=m.useRef(null),j=m.useRef(f),P=l!=null,O=bn(l),k=bn(s),R=bn(d),L=m.useCallback(()=>{if(!A.current||!M.current)return;const T={placement:t,strategy:r,middleware:p};k.current&&(T.platform=k.current),Pd(A.current,M.current,T).then(I=>{const E={...I,isPositioned:R.current!==!1};z.current&&!mr(j.current,E)&&(j.current=E,Gt.flushSync(()=>{u(E)}))})},[p,t,r,k,R]);fr(()=>{d===!1&&j.current.isPositioned&&(j.current.isPositioned=!1,u(T=>({...T,isPositioned:!1})))},[d]);const z=m.useRef(!1);fr(()=>(z.current=!0,()=>{z.current=!1}),[]),fr(()=>{if(w&&(A.current=w),N&&(M.current=N),w&&N){if(O.current)return O.current(w,N,L);L()}},[w,N,L,O,P]);const B=m.useMemo(()=>({reference:A,floating:M,setReference:C,setFloating:b}),[C,b]),_=m.useMemo(()=>({reference:w,floating:N}),[w,N]),W=m.useMemo(()=>{const T={position:r,left:0,top:0};if(!_.floating)return T;const I=Gs(_.floating,f.x),E=Gs(_.floating,f.y);return c?{...T,transform:"translate("+I+"px, "+E+"px)",...Us(_.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:I,top:E}},[r,c,_.floating,f.x,f.y]);return m.useMemo(()=>({...f,update:L,refs:B,elements:_,floatingStyles:W}),[f,L,B,_,W])}const Dd=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?Ws({element:n.current,padding:s}).fn(r):{}:n?Ws({element:n,padding:s}).fn(r):{}}}},Od=(e,t)=>({...Sd(e),options:[e,t]}),Ld=(e,t)=>({...Td(e),options:[e,t]}),Fd=(e,t)=>({..._d(e),options:[e,t]}),zd=(e,t)=>({...Rd(e),options:[e,t]}),Bd=(e,t)=>({...Md(e),options:[e,t]}),Vd=(e,t)=>({...Ad(e),options:[e,t]}),$d=(e,t)=>({...Dd(e),options:[e,t]});var Hd="Arrow",Ks=m.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...i}=e;return o.jsx(X.svg,{...i,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});Ks.displayName=Hd;var Wd=Ks,wn="Popper",[qs,pr]=Fe(wn),[Ud,Ys]=qs(wn),Xs=e=>{const{__scopePopper:t,children:r}=e,[n,s]=m.useState(null);return o.jsx(Ud,{scope:t,anchor:n,onAnchorChange:s,children:r})};Xs.displayName=wn;var Zs="PopperAnchor",Js=m.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,i=Ys(Zs,r),a=m.useRef(null),c=ne(t,a);return m.useEffect(()=>{i.onAnchorChange((n==null?void 0:n.current)||a.current)}),n?null:o.jsx(X.div,{...s,ref:c})});Js.displayName=Zs;var Cn="PopperContent",[Gd,Kd]=qs(Cn),Qs=m.forwardRef((e,t)=>{var F,G,J,Q,re,oe;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:i="center",alignOffset:a=0,arrowPadding:c=0,avoidCollisions:l=!0,collisionBoundary:d=[],collisionPadding:f=0,sticky:u="partial",hideWhenDetached:p=!1,updatePositionStrategy:v="optimized",onPlaced:x,...h}=e,y=Ys(Cn,r),[g,C]=m.useState(null),b=ne(t,Ce=>C(Ce)),[w,N]=m.useState(null),A=Xr(w),M=(A==null?void 0:A.width)??0,j=(A==null?void 0:A.height)??0,P=n+(i!=="center"?"-"+i:""),O=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},k=Array.isArray(d)?d:[d],R=k.length>0,L={padding:O,boundary:k.filter(Yd),altBoundary:R},{refs:z,floatingStyles:B,placement:_,isPositioned:W,middlewareData:T}=Id({strategy:"fixed",placement:P,whileElementsMounted:(...Ce)=>jd(...Ce,{animationFrame:v==="always"}),elements:{reference:y.anchor},middleware:[Od({mainAxis:s+j,alignmentAxis:a}),l&&Ld({mainAxis:!0,crossAxis:!1,limiter:u==="partial"?Fd():void 0,...L}),l&&zd({...L}),Bd({...L,apply:({elements:Ce,rects:Oe,availableWidth:Ht,availableHeight:Wt})=>{const{width:Ut,height:sh}=Oe.reference,Ar=Ce.floating.style;Ar.setProperty("--radix-popper-available-width",`${Ht}px`),Ar.setProperty("--radix-popper-available-height",`${Wt}px`),Ar.setProperty("--radix-popper-anchor-width",`${Ut}px`),Ar.setProperty("--radix-popper-anchor-height",`${sh}px`)}}),w&&$d({element:w,padding:c}),Xd({arrowWidth:M,arrowHeight:j}),p&&Vd({strategy:"referenceHidden",...L})]}),[I,E]=ra(_),H=Ae(x);le(()=>{W&&(H==null||H())},[W,H]);const q=(F=T.arrow)==null?void 0:F.x,Y=(G=T.arrow)==null?void 0:G.y,te=((J=T.arrow)==null?void 0:J.centerOffset)!==0,[ae,ie]=m.useState();return le(()=>{g&&ie(window.getComputedStyle(g).zIndex)},[g]),o.jsx("div",{ref:z.setFloating,"data-radix-popper-content-wrapper":"",style:{...B,transform:W?B.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ae,"--radix-popper-transform-origin":[(Q=T.transformOrigin)==null?void 0:Q.x,(re=T.transformOrigin)==null?void 0:re.y].join(" "),...((oe=T.hide)==null?void 0:oe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:o.jsx(Gd,{scope:r,placedSide:I,onArrowChange:N,arrowX:q,arrowY:Y,shouldHideArrow:te,children:o.jsx(X.div,{"data-side":I,"data-align":E,...h,ref:b,style:{...h.style,animation:W?void 0:"none"}})})})});Qs.displayName=Cn;var ea="PopperArrow",qd={top:"bottom",right:"left",bottom:"top",left:"right"},ta=m.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,i=Kd(ea,n),a=qd[i.placedSide];return o.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:o.jsx(Wd,{...s,ref:r,style:{...s.style,display:"block"}})})});ta.displayName=ea;function Yd(e){return e!==null}var Xd=e=>({name:"transformOrigin",options:e,fn(t){var y,g,C;const{placement:r,rects:n,middlewareData:s}=t,a=((y=s.arrow)==null?void 0:y.centerOffset)!==0,c=a?0:e.arrowWidth,l=a?0:e.arrowHeight,[d,f]=ra(r),u={start:"0%",center:"50%",end:"100%"}[f],p=(((g=s.arrow)==null?void 0:g.x)??0)+c/2,v=(((C=s.arrow)==null?void 0:C.y)??0)+l/2;let x="",h="";return d==="bottom"?(x=a?u:`${p}px`,h=`${-l}px`):d==="top"?(x=a?u:`${p}px`,h=`${n.floating.height+l}px`):d==="right"?(x=`${-l}px`,h=a?u:`${v}px`):d==="left"&&(x=`${n.floating.width+l}px`,h=a?u:`${v}px`),{data:{x,y:h}}}});function ra(e){const[t,r="center"]=e.split("-");return[t,r]}var na=Xs,oa=Js,sa=Qs,aa=ta,Zd="Portal",Nn=m.forwardRef((e,t)=>{var c;const{container:r,...n}=e,[s,i]=m.useState(!1);le(()=>i(!0),[]);const a=r||s&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return a?Xn.createPortal(o.jsx(X.div,{...n,ref:t}),a):null});Nn.displayName=Zd;var ia=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Jd="VisuallyHidden",Qd=m.forwardRef((e,t)=>o.jsx(X.span,{...e,ref:t,style:{...ia,...e.style}}));Qd.displayName=Jd;var ef=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Ct=new WeakMap,hr=new WeakMap,gr={},kn=0,ca=function(e){return e&&(e.host||ca(e.parentNode))},tf=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=ca(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},rf=function(e,t,r,n){var s=tf(t,Array.isArray(e)?e:[e]);gr[r]||(gr[r]=new WeakMap);var i=gr[r],a=[],c=new Set,l=new Set(s),d=function(u){!u||c.has(u)||(c.add(u),d(u.parentNode))};s.forEach(d);var f=function(u){!u||l.has(u)||Array.prototype.forEach.call(u.children,function(p){if(c.has(p))f(p);else try{var v=p.getAttribute(n),x=v!==null&&v!=="false",h=(Ct.get(p)||0)+1,y=(i.get(p)||0)+1;Ct.set(p,h),i.set(p,y),a.push(p),h===1&&x&&hr.set(p,!0),y===1&&p.setAttribute(r,"true"),x||p.setAttribute(n,"true")}catch(g){console.error("aria-hidden: cannot operate on ",p,g)}})};return f(t),c.clear(),kn++,function(){a.forEach(function(u){var p=Ct.get(u)-1,v=i.get(u)-1;Ct.set(u,p),i.set(u,v),p||(hr.has(u)||u.removeAttribute(n),hr.delete(u)),v||u.removeAttribute(r)}),kn--,kn||(Ct=new WeakMap,Ct=new WeakMap,hr=new WeakMap,gr={})}},la=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=ef(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),rf(n,s,r,"aria-hidden")):function(){return null}},De=function(){return De=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},De.apply(this,arguments)};function ua(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function nf(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}typeof SuppressedError=="function"&&SuppressedError;var vr="right-scroll-bar-position",xr="width-before-scroll-bar",of="with-scroll-bars-hidden",sf="--removed-body-scroll-bar-size";function En(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function af(e,t){var r=D.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var cf=typeof window<"u"?m.useLayoutEffect:m.useEffect,da=new WeakMap;function lf(e,t){var r=af(null,function(n){return e.forEach(function(s){return En(s,n)})});return cf(function(){var n=da.get(r);if(n){var s=new Set(n),i=new Set(e),a=r.current;s.forEach(function(c){i.has(c)||En(c,null)}),i.forEach(function(c){s.has(c)||En(c,a)})}da.set(r,e)},[e]),r}function uf(e){return e}function df(e,t){t===void 0&&(t=uf);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var a=t(i,n);return r.push(a),function(){r=r.filter(function(c){return c!==a})}},assignSyncMedium:function(i){for(n=!0;r.length;){var a=r;r=[],a.forEach(i)}r={push:function(c){return i(c)},filter:function(){return r}}},assignMedium:function(i){n=!0;var a=[];if(r.length){var c=r;r=[],c.forEach(i),a=r}var l=function(){var f=a;a=[],f.forEach(i)},d=function(){return Promise.resolve().then(l)};d(),r={push:function(f){a.push(f),d()},filter:function(f){return a=a.filter(f),r}}}};return s}function ff(e){e===void 0&&(e={});var t=df(null);return t.options=De({async:!0,ssr:!1},e),t}var fa=function(e){var t=e.sideCar,r=ua(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return m.createElement(n,De({},r))};fa.isSideCarExport=!0;function mf(e,t){return e.useMedium(t),fa}var ma=ff(),jn=function(){},yr=m.forwardRef(function(e,t){var r=m.useRef(null),n=m.useState({onScrollCapture:jn,onWheelCapture:jn,onTouchMoveCapture:jn}),s=n[0],i=n[1],a=e.forwardProps,c=e.children,l=e.className,d=e.removeScrollBar,f=e.enabled,u=e.shards,p=e.sideCar,v=e.noIsolation,x=e.inert,h=e.allowPinchZoom,y=e.as,g=y===void 0?"div":y,C=e.gapMode,b=ua(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),w=p,N=lf([r,t]),A=De(De({},b),s);return m.createElement(m.Fragment,null,f&&m.createElement(w,{sideCar:ma,removeScrollBar:d,shards:u,noIsolation:v,inert:x,setCallbacks:i,allowPinchZoom:!!h,lockRef:r,gapMode:C}),a?m.cloneElement(m.Children.only(c),De(De({},A),{ref:N})):m.createElement(g,De({},A,{className:l,ref:N}),c))});yr.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},yr.classNames={fullWidth:xr,zeroRight:vr};var pf=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function hf(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=pf();return t&&e.setAttribute("nonce",t),e}function gf(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function vf(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var xf=function(){var e=0,t=null;return{add:function(r){e==0&&(t=hf())&&(gf(t,r),vf(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},yf=function(){var e=xf();return function(t,r){m.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},pa=function(){var e=yf(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},bf={left:0,top:0,right:0,gap:0},Sn=function(e){return parseInt(e||"",10)||0},wf=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Sn(r),Sn(n),Sn(s)]},Cf=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return bf;var t=wf(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},Nf=pa(),Nt="data-scroll-locked",kf=function(e,t,r,n){var s=e.left,i=e.top,a=e.right,c=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(of,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(c,"px ").concat(n,`;
  }
  body[`).concat(Nt,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(c,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(vr,` {
    right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(xr,` {
    margin-right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(vr," .").concat(vr,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(xr," .").concat(xr,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Nt,`] {
    `).concat(sf,": ").concat(c,`px;
  }
`)},ha=function(){var e=parseInt(document.body.getAttribute(Nt)||"0",10);return isFinite(e)?e:0},Ef=function(){m.useEffect(function(){return document.body.setAttribute(Nt,(ha()+1).toString()),function(){var e=ha()-1;e<=0?document.body.removeAttribute(Nt):document.body.setAttribute(Nt,e.toString())}},[])},jf=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;Ef();var i=m.useMemo(function(){return Cf(s)},[s]);return m.createElement(Nf,{styles:kf(i,!t,s,r?"":"!important")})},Tn=!1;if(typeof window<"u")try{var br=Object.defineProperty({},"passive",{get:function(){return Tn=!0,!0}});window.addEventListener("test",br,br),window.removeEventListener("test",br,br)}catch{Tn=!1}var kt=Tn?{passive:!1}:!1,Sf=function(e){return e.tagName==="TEXTAREA"},ga=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!Sf(e)&&r[t]==="visible")},Tf=function(e){return ga(e,"overflowY")},Rf=function(e){return ga(e,"overflowX")},va=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=xa(e,n);if(s){var i=ya(e,n),a=i[1],c=i[2];if(a>c)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},Mf=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},Af=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},xa=function(e,t){return e==="v"?Tf(t):Rf(t)},ya=function(e,t){return e==="v"?Mf(t):Af(t)},_f=function(e,t){return e==="h"&&t==="rtl"?-1:1},Pf=function(e,t,r,n,s){var i=_f(e,window.getComputedStyle(t).direction),a=i*n,c=r.target,l=t.contains(c),d=!1,f=a>0,u=0,p=0;do{var v=ya(e,c),x=v[0],h=v[1],y=v[2],g=h-y-i*x;(x||g)&&xa(e,c)&&(u+=g,p+=x),c instanceof ShadowRoot?c=c.host:c=c.parentNode}while(!l&&c!==document.body||l&&(t.contains(c)||t===c));return(f&&Math.abs(u)<1||!f&&Math.abs(p)<1)&&(d=!0),d},wr=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},ba=function(e){return[e.deltaX,e.deltaY]},wa=function(e){return e&&"current"in e?e.current:e},If=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Df=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Of=0,Et=[];function Lf(e){var t=m.useRef([]),r=m.useRef([0,0]),n=m.useRef(),s=m.useState(Of++)[0],i=m.useState(pa)[0],a=m.useRef(e);m.useEffect(function(){a.current=e},[e]),m.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var h=nf([e.lockRef.current],(e.shards||[]).map(wa),!0).filter(Boolean);return h.forEach(function(y){return y.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),h.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var c=m.useCallback(function(h,y){if("touches"in h&&h.touches.length===2||h.type==="wheel"&&h.ctrlKey)return!a.current.allowPinchZoom;var g=wr(h),C=r.current,b="deltaX"in h?h.deltaX:C[0]-g[0],w="deltaY"in h?h.deltaY:C[1]-g[1],N,A=h.target,M=Math.abs(b)>Math.abs(w)?"h":"v";if("touches"in h&&M==="h"&&A.type==="range")return!1;var j=va(M,A);if(!j)return!0;if(j?N=M:(N=M==="v"?"h":"v",j=va(M,A)),!j)return!1;if(!n.current&&"changedTouches"in h&&(b||w)&&(n.current=N),!N)return!0;var P=n.current||N;return Pf(P,y,h,P==="h"?b:w)},[]),l=m.useCallback(function(h){var y=h;if(!(!Et.length||Et[Et.length-1]!==i)){var g="deltaY"in y?ba(y):wr(y),C=t.current.filter(function(N){return N.name===y.type&&(N.target===y.target||y.target===N.shadowParent)&&If(N.delta,g)})[0];if(C&&C.should){y.cancelable&&y.preventDefault();return}if(!C){var b=(a.current.shards||[]).map(wa).filter(Boolean).filter(function(N){return N.contains(y.target)}),w=b.length>0?c(y,b[0]):!a.current.noIsolation;w&&y.cancelable&&y.preventDefault()}}},[]),d=m.useCallback(function(h,y,g,C){var b={name:h,delta:y,target:g,should:C,shadowParent:Ff(g)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(w){return w!==b})},1)},[]),f=m.useCallback(function(h){r.current=wr(h),n.current=void 0},[]),u=m.useCallback(function(h){d(h.type,ba(h),h.target,c(h,e.lockRef.current))},[]),p=m.useCallback(function(h){d(h.type,wr(h),h.target,c(h,e.lockRef.current))},[]);m.useEffect(function(){return Et.push(i),e.setCallbacks({onScrollCapture:u,onWheelCapture:u,onTouchMoveCapture:p}),document.addEventListener("wheel",l,kt),document.addEventListener("touchmove",l,kt),document.addEventListener("touchstart",f,kt),function(){Et=Et.filter(function(h){return h!==i}),document.removeEventListener("wheel",l,kt),document.removeEventListener("touchmove",l,kt),document.removeEventListener("touchstart",f,kt)}},[]);var v=e.removeScrollBar,x=e.inert;return m.createElement(m.Fragment,null,x?m.createElement(i,{styles:Df(s)}):null,v?m.createElement(jf,{gapMode:e.gapMode}):null)}function Ff(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const zf=mf(ma,Lf);var Rn=m.forwardRef(function(e,t){return m.createElement(yr,De({},e,{ref:t,sideCar:zf}))});Rn.classNames=yr.classNames;var Bf=[" ","Enter","ArrowUp","ArrowDown"],Vf=[" ","Enter"],at="Select",[Cr,Nr,$f]=Xt(at),[jt,uh]=Fe(at,[$f,pr]),kr=pr(),[Hf,Xe]=jt(at),[Wf,Uf]=jt(at),Ca=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:i,value:a,defaultValue:c,onValueChange:l,dir:d,name:f,autoComplete:u,disabled:p,required:v,form:x}=e,h=kr(t),[y,g]=m.useState(null),[C,b]=m.useState(null),[w,N]=m.useState(!1),A=Mt(d),[M,j]=nt({prop:n,defaultProp:s??!1,onChange:i,caller:at}),[P,O]=nt({prop:a,defaultProp:c,onChange:l,caller:at}),k=m.useRef(null),R=y?x||!!y.closest("form"):!0,[L,z]=m.useState(new Set),B=Array.from(L).map(_=>_.props.value).join(";");return o.jsx(na,{...h,children:o.jsxs(Hf,{required:v,scope:t,trigger:y,onTriggerChange:g,valueNode:C,onValueNodeChange:b,valueNodeHasChildren:w,onValueNodeHasChildrenChange:N,contentId:rt(),value:P,onValueChange:O,open:M,onOpenChange:j,dir:A,triggerPointerDownPosRef:k,disabled:p,children:[o.jsx(Cr.Provider,{scope:t,children:o.jsx(Wf,{scope:e.__scopeSelect,onNativeOptionAdd:m.useCallback(_=>{z(W=>new Set(W).add(_))},[]),onNativeOptionRemove:m.useCallback(_=>{z(W=>{const T=new Set(W);return T.delete(_),T})},[]),children:r})}),R?o.jsxs(Ga,{"aria-hidden":!0,required:v,tabIndex:-1,name:f,autoComplete:u,value:P,onChange:_=>O(_.target.value),disabled:p,form:x,children:[P===void 0?o.jsx("option",{value:""}):null,Array.from(L)]},B):null]})})};Ca.displayName=at;var Na="SelectTrigger",ka=m.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,i=kr(r),a=Xe(Na,r),c=a.disabled||n,l=ne(t,a.onTriggerChange),d=Nr(r),f=m.useRef("touch"),[u,p,v]=qa(h=>{const y=d().filter(b=>!b.disabled),g=y.find(b=>b.value===a.value),C=Ya(y,h,g);C!==void 0&&a.onValueChange(C.value)}),x=h=>{c||(a.onOpenChange(!0),v()),h&&(a.triggerPointerDownPosRef.current={x:Math.round(h.pageX),y:Math.round(h.pageY)})};return o.jsx(oa,{asChild:!0,...i,children:o.jsx(X.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":Ka(a.value)?"":void 0,...s,ref:l,onClick:U(s.onClick,h=>{h.currentTarget.focus(),f.current!=="mouse"&&x(h)}),onPointerDown:U(s.onPointerDown,h=>{f.current=h.pointerType;const y=h.target;y.hasPointerCapture(h.pointerId)&&y.releasePointerCapture(h.pointerId),h.button===0&&h.ctrlKey===!1&&h.pointerType==="mouse"&&(x(h),h.preventDefault())}),onKeyDown:U(s.onKeyDown,h=>{const y=u.current!=="";!(h.ctrlKey||h.altKey||h.metaKey)&&h.key.length===1&&p(h.key),!(y&&h.key===" ")&&Bf.includes(h.key)&&(x(),h.preventDefault())})})})});ka.displayName=Na;var Ea="SelectValue",ja=m.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:i,placeholder:a="",...c}=e,l=Xe(Ea,r),{onValueNodeHasChildrenChange:d}=l,f=i!==void 0,u=ne(t,l.onValueNodeChange);return le(()=>{d(f)},[d,f]),o.jsx(X.span,{...c,ref:u,style:{pointerEvents:"none"},children:Ka(l.value)?o.jsx(o.Fragment,{children:a}):i})});ja.displayName=Ea;var Gf="SelectIcon",Sa=m.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return o.jsx(X.span,{"aria-hidden":!0,...s,ref:t,children:n||"â¼"})});Sa.displayName=Gf;var Kf="SelectPortal",Ta=e=>o.jsx(Nn,{asChild:!0,...e});Ta.displayName=Kf;var it="SelectContent",Ra=m.forwardRef((e,t)=>{const r=Xe(it,e.__scopeSelect),[n,s]=m.useState();if(le(()=>{s(new DocumentFragment)},[]),!r.open){const i=n;return i?Gt.createPortal(o.jsx(Ma,{scope:e.__scopeSelect,children:o.jsx(Cr.Slot,{scope:e.__scopeSelect,children:o.jsx("div",{children:e.children})})}),i):null}return o.jsx(Aa,{...e,ref:t})});Ra.displayName=it;var Te=10,[Ma,Ze]=jt(it),qf="SelectContentImpl",Yf=ft("SelectContent.RemoveScroll"),Aa=m.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:a,side:c,sideOffset:l,align:d,alignOffset:f,arrowPadding:u,collisionBoundary:p,collisionPadding:v,sticky:x,hideWhenDetached:h,avoidCollisions:y,...g}=e,C=Xe(it,r),[b,w]=m.useState(null),[N,A]=m.useState(null),M=ne(t,F=>w(F)),[j,P]=m.useState(null),[O,k]=m.useState(null),R=Nr(r),[L,z]=m.useState(!1),B=m.useRef(!1);m.useEffect(()=>{if(b)return la(b)},[b]),Cs();const _=m.useCallback(F=>{const[G,...J]=R().map(oe=>oe.ref.current),[Q]=J.slice(-1),re=document.activeElement;for(const oe of F)if(oe===re||(oe==null||oe.scrollIntoView({block:"nearest"}),oe===G&&N&&(N.scrollTop=0),oe===Q&&N&&(N.scrollTop=N.scrollHeight),oe==null||oe.focus(),document.activeElement!==re))return},[R,N]),W=m.useCallback(()=>_([j,b]),[_,j,b]);m.useEffect(()=>{L&&W()},[L,W]);const{onOpenChange:T,triggerPointerDownPosRef:I}=C;m.useEffect(()=>{if(b){let F={x:0,y:0};const G=Q=>{var re,oe;F={x:Math.abs(Math.round(Q.pageX)-(((re=I.current)==null?void 0:re.x)??0)),y:Math.abs(Math.round(Q.pageY)-(((oe=I.current)==null?void 0:oe.y)??0))}},J=Q=>{F.x<=10&&F.y<=10?Q.preventDefault():b.contains(Q.target)||T(!1),document.removeEventListener("pointermove",G),I.current=null};return I.current!==null&&(document.addEventListener("pointermove",G),document.addEventListener("pointerup",J,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",G),document.removeEventListener("pointerup",J,{capture:!0})}}},[b,T,I]),m.useEffect(()=>{const F=()=>T(!1);return window.addEventListener("blur",F),window.addEventListener("resize",F),()=>{window.removeEventListener("blur",F),window.removeEventListener("resize",F)}},[T]);const[E,H]=qa(F=>{const G=R().filter(re=>!re.disabled),J=G.find(re=>re.ref.current===document.activeElement),Q=Ya(G,F,J);Q&&setTimeout(()=>Q.ref.current.focus())}),q=m.useCallback((F,G,J)=>{const Q=!B.current&&!J;(C.value!==void 0&&C.value===G||Q)&&(P(F),Q&&(B.current=!0))},[C.value]),Y=m.useCallback(()=>b==null?void 0:b.focus(),[b]),te=m.useCallback((F,G,J)=>{const Q=!B.current&&!J;(C.value!==void 0&&C.value===G||Q)&&k(F)},[C.value]),ae=n==="popper"?Mn:_a,ie=ae===Mn?{side:c,sideOffset:l,align:d,alignOffset:f,arrowPadding:u,collisionBoundary:p,collisionPadding:v,sticky:x,hideWhenDetached:h,avoidCollisions:y}:{};return o.jsx(Ma,{scope:r,content:b,viewport:N,onViewportChange:A,itemRefCallback:q,selectedItem:j,onItemLeave:Y,itemTextRefCallback:te,focusSelectedItem:W,selectedItemText:O,position:n,isPositioned:L,searchRef:E,children:o.jsx(Rn,{as:Yf,allowPinchZoom:!0,children:o.jsx(cn,{asChild:!0,trapped:C.open,onMountAutoFocus:F=>{F.preventDefault()},onUnmountAutoFocus:U(s,F=>{var G;(G=C.trigger)==null||G.focus({preventScroll:!0}),F.preventDefault()}),children:o.jsx(nn,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:F=>F.preventDefault(),onDismiss:()=>C.onOpenChange(!1),children:o.jsx(ae,{role:"listbox",id:C.contentId,"data-state":C.open?"open":"closed",dir:C.dir,onContextMenu:F=>F.preventDefault(),...g,...ie,onPlaced:()=>z(!0),ref:M,style:{display:"flex",flexDirection:"column",outline:"none",...g.style},onKeyDown:U(g.onKeyDown,F=>{const G=F.ctrlKey||F.altKey||F.metaKey;if(F.key==="Tab"&&F.preventDefault(),!G&&F.key.length===1&&H(F.key),["ArrowUp","ArrowDown","Home","End"].includes(F.key)){let Q=R().filter(re=>!re.disabled).map(re=>re.ref.current);if(["ArrowUp","End"].includes(F.key)&&(Q=Q.slice().reverse()),["ArrowUp","ArrowDown"].includes(F.key)){const re=F.target,oe=Q.indexOf(re);Q=Q.slice(oe+1)}setTimeout(()=>_(Q)),F.preventDefault()}})})})})})})});Aa.displayName=qf;var Xf="SelectItemAlignedPosition",_a=m.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,i=Xe(it,r),a=Ze(it,r),[c,l]=m.useState(null),[d,f]=m.useState(null),u=ne(t,M=>f(M)),p=Nr(r),v=m.useRef(!1),x=m.useRef(!0),{viewport:h,selectedItem:y,selectedItemText:g,focusSelectedItem:C}=a,b=m.useCallback(()=>{if(i.trigger&&i.valueNode&&c&&d&&h&&y&&g){const M=i.trigger.getBoundingClientRect(),j=d.getBoundingClientRect(),P=i.valueNode.getBoundingClientRect(),O=g.getBoundingClientRect();if(i.dir!=="rtl"){const re=O.left-j.left,oe=P.left-re,Ce=M.left-oe,Oe=M.width+Ce,Ht=Math.max(Oe,j.width),Wt=window.innerWidth-Te,Ut=rr(oe,[Te,Math.max(Te,Wt-Ht)]);c.style.minWidth=Oe+"px",c.style.left=Ut+"px"}else{const re=j.right-O.right,oe=window.innerWidth-P.right-re,Ce=window.innerWidth-M.right-oe,Oe=M.width+Ce,Ht=Math.max(Oe,j.width),Wt=window.innerWidth-Te,Ut=rr(oe,[Te,Math.max(Te,Wt-Ht)]);c.style.minWidth=Oe+"px",c.style.right=Ut+"px"}const k=p(),R=window.innerHeight-Te*2,L=h.scrollHeight,z=window.getComputedStyle(d),B=parseInt(z.borderTopWidth,10),_=parseInt(z.paddingTop,10),W=parseInt(z.borderBottomWidth,10),T=parseInt(z.paddingBottom,10),I=B+_+L+T+W,E=Math.min(y.offsetHeight*5,I),H=window.getComputedStyle(h),q=parseInt(H.paddingTop,10),Y=parseInt(H.paddingBottom,10),te=M.top+M.height/2-Te,ae=R-te,ie=y.offsetHeight/2,F=y.offsetTop+ie,G=B+_+F,J=I-G;if(G<=te){const re=k.length>0&&y===k[k.length-1].ref.current;c.style.bottom="0px";const oe=d.clientHeight-h.offsetTop-h.offsetHeight,Ce=Math.max(ae,ie+(re?Y:0)+oe+W),Oe=G+Ce;c.style.height=Oe+"px"}else{const re=k.length>0&&y===k[0].ref.current;c.style.top="0px";const Ce=Math.max(te,B+h.offsetTop+(re?q:0)+ie)+J;c.style.height=Ce+"px",h.scrollTop=G-te+h.offsetTop}c.style.margin=`${Te}px 0`,c.style.minHeight=E+"px",c.style.maxHeight=R+"px",n==null||n(),requestAnimationFrame(()=>v.current=!0)}},[p,i.trigger,i.valueNode,c,d,h,y,g,i.dir,n]);le(()=>b(),[b]);const[w,N]=m.useState();le(()=>{d&&N(window.getComputedStyle(d).zIndex)},[d]);const A=m.useCallback(M=>{M&&x.current===!0&&(b(),C==null||C(),x.current=!1)},[b,C]);return o.jsx(Jf,{scope:r,contentWrapper:c,shouldExpandOnScrollRef:v,onScrollButtonChange:A,children:o.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:w},children:o.jsx(X.div,{...s,ref:u,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});_a.displayName=Xf;var Zf="SelectPopperPosition",Mn=m.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=Te,...i}=e,a=kr(r);return o.jsx(sa,{...a,...i,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Mn.displayName=Zf;var[Jf,An]=jt(it,{}),_n="SelectViewport",Pa=m.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,i=Ze(_n,r),a=An(_n,r),c=ne(t,i.onViewportChange),l=m.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),o.jsx(Cr.Slot,{scope:r,children:o.jsx(X.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:U(s.onScroll,d=>{const f=d.currentTarget,{contentWrapper:u,shouldExpandOnScrollRef:p}=a;if(p!=null&&p.current&&u){const v=Math.abs(l.current-f.scrollTop);if(v>0){const x=window.innerHeight-Te*2,h=parseFloat(u.style.minHeight),y=parseFloat(u.style.height),g=Math.max(h,y);if(g<x){const C=g+v,b=Math.min(x,C),w=C-b;u.style.height=b+"px",u.style.bottom==="0px"&&(f.scrollTop=w>0?w:0,u.style.justifyContent="flex-end")}}}l.current=f.scrollTop})})})]})});Pa.displayName=_n;var Ia="SelectGroup",[Qf,em]=jt(Ia),tm=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=rt();return o.jsx(Qf,{scope:r,id:s,children:o.jsx(X.div,{role:"group","aria-labelledby":s,...n,ref:t})})});tm.displayName=Ia;var Da="SelectLabel",Oa=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=em(Da,r);return o.jsx(X.div,{id:s.id,...n,ref:t})});Oa.displayName=Da;var Er="SelectItem",[rm,La]=jt(Er),Fa=m.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:i,...a}=e,c=Xe(Er,r),l=Ze(Er,r),d=c.value===n,[f,u]=m.useState(i??""),[p,v]=m.useState(!1),x=ne(t,C=>{var b;return(b=l.itemRefCallback)==null?void 0:b.call(l,C,n,s)}),h=rt(),y=m.useRef("touch"),g=()=>{s||(c.onValueChange(n),c.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(rm,{scope:r,value:n,disabled:s,textId:h,isSelected:d,onItemTextChange:m.useCallback(C=>{u(b=>b||((C==null?void 0:C.textContent)??"").trim())},[]),children:o.jsx(Cr.ItemSlot,{scope:r,value:n,disabled:s,textValue:f,children:o.jsx(X.div,{role:"option","aria-labelledby":h,"data-highlighted":p?"":void 0,"aria-selected":d&&p,"data-state":d?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...a,ref:x,onFocus:U(a.onFocus,()=>v(!0)),onBlur:U(a.onBlur,()=>v(!1)),onClick:U(a.onClick,()=>{y.current!=="mouse"&&g()}),onPointerUp:U(a.onPointerUp,()=>{y.current==="mouse"&&g()}),onPointerDown:U(a.onPointerDown,C=>{y.current=C.pointerType}),onPointerMove:U(a.onPointerMove,C=>{var b;y.current=C.pointerType,s?(b=l.onItemLeave)==null||b.call(l):y.current==="mouse"&&C.currentTarget.focus({preventScroll:!0})}),onPointerLeave:U(a.onPointerLeave,C=>{var b;C.currentTarget===document.activeElement&&((b=l.onItemLeave)==null||b.call(l))}),onKeyDown:U(a.onKeyDown,C=>{var w;((w=l.searchRef)==null?void 0:w.current)!==""&&C.key===" "||(Vf.includes(C.key)&&g(),C.key===" "&&C.preventDefault())})})})})});Fa.displayName=Er;var Ot="SelectItemText",za=m.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...i}=e,a=Xe(Ot,r),c=Ze(Ot,r),l=La(Ot,r),d=Uf(Ot,r),[f,u]=m.useState(null),p=ne(t,g=>u(g),l.onItemTextChange,g=>{var C;return(C=c.itemTextRefCallback)==null?void 0:C.call(c,g,l.value,l.disabled)}),v=f==null?void 0:f.textContent,x=m.useMemo(()=>o.jsx("option",{value:l.value,disabled:l.disabled,children:v},l.value),[l.disabled,l.value,v]),{onNativeOptionAdd:h,onNativeOptionRemove:y}=d;return le(()=>(h(x),()=>y(x)),[h,y,x]),o.jsxs(o.Fragment,{children:[o.jsx(X.span,{id:l.textId,...i,ref:p}),l.isSelected&&a.valueNode&&!a.valueNodeHasChildren?Gt.createPortal(i.children,a.valueNode):null]})});za.displayName=Ot;var Ba="SelectItemIndicator",Va=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return La(Ba,r).isSelected?o.jsx(X.span,{"aria-hidden":!0,...n,ref:t}):null});Va.displayName=Ba;var Pn="SelectScrollUpButton",$a=m.forwardRef((e,t)=>{const r=Ze(Pn,e.__scopeSelect),n=An(Pn,e.__scopeSelect),[s,i]=m.useState(!1),a=ne(t,n.onScrollButtonChange);return le(()=>{if(r.viewport&&r.isPositioned){let c=function(){const d=l.scrollTop>0;i(d)};const l=r.viewport;return c(),l.addEventListener("scroll",c),()=>l.removeEventListener("scroll",c)}},[r.viewport,r.isPositioned]),s?o.jsx(Wa,{...e,ref:a,onAutoScroll:()=>{const{viewport:c,selectedItem:l}=r;c&&l&&(c.scrollTop=c.scrollTop-l.offsetHeight)}}):null});$a.displayName=Pn;var In="SelectScrollDownButton",Ha=m.forwardRef((e,t)=>{const r=Ze(In,e.__scopeSelect),n=An(In,e.__scopeSelect),[s,i]=m.useState(!1),a=ne(t,n.onScrollButtonChange);return le(()=>{if(r.viewport&&r.isPositioned){let c=function(){const d=l.scrollHeight-l.clientHeight,f=Math.ceil(l.scrollTop)<d;i(f)};const l=r.viewport;return c(),l.addEventListener("scroll",c),()=>l.removeEventListener("scroll",c)}},[r.viewport,r.isPositioned]),s?o.jsx(Wa,{...e,ref:a,onAutoScroll:()=>{const{viewport:c,selectedItem:l}=r;c&&l&&(c.scrollTop=c.scrollTop+l.offsetHeight)}}):null});Ha.displayName=In;var Wa=m.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,i=Ze("SelectScrollButton",r),a=m.useRef(null),c=Nr(r),l=m.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return m.useEffect(()=>()=>l(),[l]),le(()=>{var f;const d=c().find(u=>u.ref.current===document.activeElement);(f=d==null?void 0:d.ref.current)==null||f.scrollIntoView({block:"nearest"})},[c]),o.jsx(X.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:U(s.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(n,50))}),onPointerMove:U(s.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),a.current===null&&(a.current=window.setInterval(n,50))}),onPointerLeave:U(s.onPointerLeave,()=>{l()})})}),nm="SelectSeparator",Ua=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return o.jsx(X.div,{"aria-hidden":!0,...n,ref:t})});Ua.displayName=nm;var Dn="SelectArrow",om=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=kr(r),i=Xe(Dn,r),a=Ze(Dn,r);return i.open&&a.position==="popper"?o.jsx(aa,{...s,...n,ref:t}):null});om.displayName=Dn;var sm="SelectBubbleInput",Ga=m.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const s=m.useRef(null),i=ne(n,s),a=Yr(t);return m.useEffect(()=>{const c=s.current;if(!c)return;const l=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(l,"value").set;if(a!==t&&f){const u=new Event("change",{bubbles:!0});f.call(c,t),c.dispatchEvent(u)}},[a,t]),o.jsx(X.select,{...r,style:{...ia,...r.style},ref:i,defaultValue:t})});Ga.displayName=sm;function Ka(e){return e===""||e===void 0}function qa(e){const t=Ae(e),r=m.useRef(""),n=m.useRef(0),s=m.useCallback(a=>{const c=r.current+a;t(c),function l(d){r.current=d,window.clearTimeout(n.current),d!==""&&(n.current=window.setTimeout(()=>l(""),1e3))}(c)},[t]),i=m.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,i]}function Ya(e,t,r){const s=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let a=am(e,Math.max(i,0));s.length===1&&(a=a.filter(d=>d!==r));const l=a.find(d=>d.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==r?l:void 0}function am(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var im=Ca,Xa=ka,cm=ja,lm=Sa,um=Ta,Za=Ra,dm=Pa,Ja=Oa,Qa=Fa,fm=za,mm=Va,ei=$a,ti=Ha,ri=Ua;/**
 * @license lucide-react v0.508.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pm=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),hm=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),ni=e=>{const t=hm(e);return t.charAt(0).toUpperCase()+t.slice(1)},oi=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),gm=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.508.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var vm={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.508.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xm=D.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:a,...c},l)=>D.createElement("svg",{ref:l,...vm,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:oi("lucide",s),...!i&&!gm(c)&&{"aria-hidden":"true"},...c},[...a.map(([d,f])=>D.createElement(d,f)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.508.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=(e,t)=>{const r=D.forwardRef(({className:n,...s},i)=>D.createElement(xm,{ref:i,iconNode:t,className:oi(`lucide-${pm(ni(e))}`,`lucide-${e}`,n),...s}));return r.displayName=ni(e),r};/**
 * @license lucide-react v0.508.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const si=ge("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.508.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const On=ge("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.508.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ym=ge("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.508.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bm=ge("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.508.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ln=ge("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.508.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wm=ge("circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.508.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cm=ge("cog",[["path",{d:"M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Z",key:"sobvz5"}],["path",{d:"M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",key:"11i496"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}]]);/**
 * @license lucide-react v0.508.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nm=ge("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.508.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const km=ge("download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.508.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Em=ge("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.508.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jm=ge("palette",[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]]);/**
 * @license lucide-react v0.508.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sm=ge("play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.508.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ai=ge("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.508.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ii=ge("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.508.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tm=ge("upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),ct=im,lt=cm,Je=m.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(Xa,{ref:n,className:ee("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,o.jsx(lm,{asChild:!0,children:o.jsx(On,{className:"h-4 w-4 opacity-50"})})]}));Je.displayName=Xa.displayName;const ci=m.forwardRef(({className:e,...t},r)=>o.jsx(ei,{ref:r,className:ee("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(bm,{className:"h-4 w-4"})}));ci.displayName=ei.displayName;const li=m.forwardRef(({className:e,...t},r)=>o.jsx(ti,{ref:r,className:ee("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(On,{className:"h-4 w-4"})}));li.displayName=ti.displayName;const Qe=m.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>o.jsx(um,{children:o.jsxs(Za,{ref:s,className:ee("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[o.jsx(ci,{}),o.jsx(dm,{className:ee("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),o.jsx(li,{})]})}));Qe.displayName=Za.displayName;const Rm=m.forwardRef(({className:e,...t},r)=>o.jsx(Ja,{ref:r,className:ee("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));Rm.displayName=Ja.displayName;const Re=m.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(Qa,{ref:n,className:ee("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(mm,{children:o.jsx(si,{className:"h-4 w-4"})})}),o.jsx(fm,{children:t})]}));Re.displayName=Qa.displayName;const Mm=m.forwardRef(({className:e,...t},r)=>o.jsx(ri,{ref:r,className:ee("-mx-1 my-1 h-px bg-muted",e),...t}));Mm.displayName=ri.displayName;function Am({planetStats:e,setPlanetStats:t,selectedBiome:r}){var l,d,f,u;const n=et(e.mass,e.radius),s=no(e.temperature),i=oo(e.temperature,e.liquidType||s.type),a=(p,v)=>{t({...e,[p]:v,...p==="liquidEnabled"&&v===!0?{waterLevel:Math.max(e.waterLevel||0,.5)}:{}})},c=p=>to(r,p);return o.jsxs("div",{className:"space-y-6",children:[o.jsxs(fe,{className:"bg-black/60 border-green-500/30 text-green-400",children:[o.jsx(me,{className:"pb-2",children:o.jsx(pe,{className:"text-lg tracking-wide",children:"SURFACE CONFIGURATION"})}),o.jsxs(he,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsx(K,{className:"text-green-300",children:"Surface Preset"}),o.jsxs(ct,{onValueChange:p=>{p!=="default"&&t({...e,...{ocean:{waterLevel:.95,liquidType:"water",atmosphereStrength:.8,cloudCount:70,biomassLevel:.6,surfaceRoughness:.3,liquidEnabled:!0,customColors:{oceanFloor:"#01579B",beach:"#0288D1",regular:"#29B6F6",mountain:"#81D4FA"}},desert:{waterLevel:.1,soilType:"dusty",atmosphereStrength:.4,cloudCount:10,biomassLevel:.05,surfaceRoughness:.7,temperature:310,liquidEnabled:!1},volcanic:{waterLevel:.3,soilType:"volcanic",atmosphereStrength:.7,cloudCount:40,biomassLevel:.1,surfaceRoughness:.9,volcanicActivity:.8,temperature:350,liquidEnabled:!0}}[p]})},children:[o.jsx(Je,{className:"bg-black border-green-500/30 text-green-400",children:o.jsx(lt,{placeholder:"Select a preset"})}),o.jsxs(Qe,{className:"bg-black border-green-500/30 text-green-400",children:[o.jsx(Re,{value:"default",children:"Default"}),o.jsx(Re,{value:"ocean",children:"Oceanic World"}),o.jsx(Re,{value:"desert",children:"Desert World"}),o.jsx(Re,{value:"volcanic",children:"Volcanic World"})]})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx(K,{className:"text-green-300",children:"Surface Roughness"}),o.jsx("span",{className:"font-bold",children:((l=e.surfaceRoughness)==null?void 0:l.toFixed(2))||"0.00"})]}),o.jsx(Ee,{value:[e.surfaceRoughness||0],min:c("surfaceRoughness")[0],max:c("surfaceRoughness")[1],step:.01,onValueChange:p=>a("surfaceRoughness",p[0]),className:"[&_[role=slider]]:bg-green-500"})]})]})]}),n==="terrestrial"&&o.jsxs(fe,{className:"bg-black/60 border-green-500/30 text-green-400",children:[o.jsx(me,{className:"pb-2",children:o.jsx(pe,{className:"text-lg tracking-wide",children:"TERRAIN COMPOSITION"})}),o.jsxs(he,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsx(K,{className:"text-green-300",children:"Soil Type"}),o.jsxs(ct,{value:e.soilType,onValueChange:p=>a("soilType",p),children:[o.jsx(Je,{className:"bg-black border-green-500/30 text-green-400",children:o.jsx(lt,{placeholder:"Select soil type"})}),o.jsx(Qe,{className:"bg-black border-green-500/30 text-green-400",children:["rocky","sandy","volcanic","organic","dusty","frozen","muddy"].map(p=>o.jsx(Re,{value:p,children:p.charAt(0).toUpperCase()+p.slice(1)},p))})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx(K,{className:"text-green-300",children:"Soil Texture"}),o.jsxs(ct,{value:e.soilTexture,onValueChange:p=>a("soilTexture",p),children:[o.jsx(Je,{className:"bg-black border-green-500/30 text-green-400",children:o.jsx(lt,{placeholder:"Select soil texture"})}),o.jsx(Qe,{className:"bg-black border-green-500/30 text-green-400",children:["smooth","rough","cracked","layered","porous","grainy","crystalline"].map(p=>o.jsx(Re,{value:p,children:p.charAt(0).toUpperCase()+p.slice(1)},p))})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx(K,{className:"text-green-300",children:"Mountain Height"}),o.jsx("span",{className:"font-bold",children:((d=e.mountainHeight)==null?void 0:d.toFixed(2))||"0.00"})]}),o.jsx(Ee,{value:[e.mountainHeight||0],min:0,max:1,step:.01,onValueChange:p=>a("mountainHeight",p[0]),className:"[&_[role=slider]]:bg-green-500"})]})]})]}),n==="terrestrial"&&o.jsxs(fe,{className:"bg-black/60 border-green-500/30 text-green-400",children:[o.jsx(me,{className:"pb-2",children:o.jsx(pe,{className:"text-lg tracking-wide",children:"HYDROSPHERE"})}),o.jsxs(he,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx(K,{className:"text-green-300",children:"Water Level"}),o.jsx("span",{className:"font-bold",children:((f=e.waterLevel)==null?void 0:f.toFixed(2))||"0.00"})]}),o.jsx(Ee,{value:[e.waterLevel||0],min:c("waterLevel")[0],max:c("waterLevel")[1],step:.01,onValueChange:p=>a("waterLevel",p[0]),className:"[&_[role=slider]]:bg-green-500"}),!i&&o.jsxs("div",{className:"flex items-center gap-2 text-amber-400 text-xs",children:[o.jsx(Ln,{className:"h-4 w-4"}),o.jsxs("span",{children:["Temperature is not suitable for ",e.liquidType||"water"," to exist as a liquid"]})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx(K,{className:"text-green-300",children:"Enable Liquid"}),o.jsx(tn,{checked:e.liquidEnabled!==!1,onCheckedChange:p=>a("liquidEnabled",p),className:"data-[state=checked]:bg-green-600"})]}),o.jsx("p",{className:"text-xs text-green-500/70",children:"When enabled, liquid will cover at least half the surface"})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx(K,{className:"text-green-300",children:"Liquid Type"}),o.jsxs(ct,{value:e.liquidType,onValueChange:p=>a("liquidType",p),children:[o.jsx(Je,{className:"bg-black border-green-500/30 text-green-400",children:o.jsx(lt,{placeholder:"Select liquid type"})}),o.jsx(Qe,{className:"bg-black border-green-500/30 text-green-400",children:["water","methane","nitrogen","ammonia","ethane"].map(p=>o.jsx(Re,{value:p,children:p.charAt(0).toUpperCase()+p.slice(1)},p))})]})]})]})]}),o.jsxs(fe,{className:"bg-black/60 border-green-500/30 text-green-400",children:[o.jsx(me,{className:"pb-2",children:o.jsx(pe,{className:"text-lg tracking-wide",children:"ATMOSPHERE"})}),o.jsxs(he,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx(K,{className:"text-green-300",children:"Atmosphere Strength"}),o.jsx("span",{className:"font-bold",children:((u=e.atmosphereStrength)==null?void 0:u.toFixed(2))||"0.00"})]}),o.jsx(Ee,{value:[e.atmosphereStrength||0],min:c("atmosphereStrength")[0],max:c("atmosphereStrength")[1],step:.01,onValueChange:p=>a("atmosphereStrength",p[0]),className:"[&_[role=slider]]:bg-green-500"})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx(K,{className:"text-green-300",children:"Cloud Count"}),o.jsx("span",{className:"font-bold",children:e.cloudCount||0})]}),o.jsx(Ee,{value:[e.cloudCount||0],min:c("cloudCount")[0],max:c("cloudCount")[1],step:1,onValueChange:p=>a("cloudCount",p[0]),className:"[&_[role=slider]]:bg-green-500"})]})]})]})]})}const ue=m.forwardRef(({className:e,type:t,...r},n)=>o.jsx("input",{type:t,className:ee("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...r}));ue.displayName="Input";const _m=qr("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ve=m.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},i)=>{const a=n?Yc:"button";return o.jsx(a,{className:ee(_m({variant:t,size:r,className:e})),ref:i,...s})});ve.displayName="Button";function Pm({planetStats:e,setPlanetStats:t,selectedBiome:r,setSelectedBiome:n,customColors:s,setCustomColors:i}){var f;const a=uc(),c=(u,p)=>{t({...e,[u]:p})},l=(u,p)=>{const v={...s,[u]:p};i(v),t({...e,customColors:v})},d=u=>to(r,u);return o.jsxs("div",{className:"space-y-6",children:[o.jsxs(fe,{className:"bg-black/60 border-green-500/30 text-green-400",children:[o.jsx(me,{className:"pb-2",children:o.jsx(pe,{className:"text-lg tracking-wide",children:"BIOME SELECTION"})}),o.jsx(he,{className:"space-y-4",children:o.jsxs("div",{className:"space-y-3",children:[o.jsx(K,{className:"text-green-300",children:"Biome Type"}),o.jsxs(ct,{value:r,onValueChange:n,children:[o.jsx(Je,{className:"bg-black border-green-500/30 text-green-400",children:o.jsx(lt,{placeholder:"Select biome"})}),o.jsx(Qe,{className:"bg-black border-green-500/30 text-green-400",children:a.map(u=>o.jsx(Re,{value:u,children:u},u))})]}),o.jsx("p",{className:"text-xs text-green-500/70",children:"Selecting a biome will adjust parameters to fit within biome ranges"})]})})]}),o.jsxs(fe,{className:"bg-black/60 border-green-500/30 text-green-400",children:[o.jsx(me,{className:"pb-2",children:o.jsx(pe,{className:"text-lg tracking-wide",children:"COLOR CUSTOMIZATION"})}),o.jsx(he,{className:"space-y-4",children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx(K,{className:"text-green-300",children:"Custom Colors"}),o.jsx(jm,{className:"h-4 w-4 text-green-400"})]}),o.jsx("p",{className:"text-xs text-green-500/70 mb-2",children:"Customize terrain colors for each height level"}),o.jsx("div",{className:"grid grid-cols-2 gap-3",children:["oceanFloor","beach","regular","mountain"].map(u=>o.jsxs(D.Fragment,{children:[o.jsx(K,{className:"text-xs text-green-300",children:u.replace(/([A-Z])/g," $1").replace(/^./,p=>p.toUpperCase())}),o.jsx(ue,{type:"color",value:s[u]||"#5D4037",onChange:p=>l(u,p.target.value),className:"h-8 p-1 bg-black border-green-500/30"})]},u))}),o.jsx(ve,{variant:"outline",size:"sm",className:"mt-3 w-full border-green-500/30 text-green-400 hover:bg-green-900/20",onClick:()=>i({oceanFloor:"",beach:"",regular:"",mountain:""}),children:"Reset to Biome Default Colors"})]})})]}),o.jsxs(fe,{className:"bg-black/60 border-green-500/30 text-green-400",children:[o.jsx(me,{className:"pb-2",children:o.jsx(pe,{className:"text-lg tracking-wide",children:"GEOLOGICAL ACTIVITY"})}),o.jsx(he,{className:"space-y-4",children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx(K,{className:"text-green-300",children:"Volcanic Activity"}),o.jsx("span",{className:"font-bold",children:((f=e.volcanicActivity)==null?void 0:f.toFixed(2))||"0.00"})]}),o.jsx(Ee,{value:[e.volcanicActivity||0],min:d("volcanicActivity")[0],max:d("volcanicActivity")[1],step:.01,onValueChange:u=>c("volcanicActivity",u[0]),className:"[&_[role=slider]]:bg-green-500"})]})})]})]})}const Im=qr("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Fn=m.forwardRef(({className:e,variant:t,...r},n)=>o.jsx("div",{ref:n,role:"alert",className:ee(Im({variant:t}),e),...r}));Fn.displayName="Alert";const Dm=m.forwardRef(({className:e,...t},r)=>o.jsx("h5",{ref:r,className:ee("mb-1 font-medium leading-none tracking-tight",e),...t}));Dm.displayName="AlertTitle";const zn=m.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:ee("text-sm [&_p]:leading-relaxed",e),...t}));zn.displayName="AlertDescription";function Om({landmark:e,planetStats:t}){const r=D.useRef(null),n=t.mass>7||t.radius>2.5,{geometry:s,material:i}=D.useMemo(()=>{const a=new S.PlaneGeometry(3,3,128,128),c=e.influence_type||"mountain",l=e.influence_radius||.5,d=e.influence_strength||.5,f=e.influence_roughness||.5,u=a.getAttribute("position"),p=new Float32Array(u.count*3);for(let x=0;x<u.count;x++){const h=u.getX(x),y=u.getY(x);u.getZ(x);const g=Math.sqrt(h*h+y*y),b=Math.max(0,1-g/(l*2))*d*2.5;let w=0,N=new S.Color(10586239);if(n){switch(c){case"storm":w=b*Math.exp(-g/(l*.5)),w+=b*.3*Math.sin(Math.atan2(y,h)*5+g*10),N=new S.Color(15037299);break;case"vortex":const P=Math.atan2(y,h);w=b*Math.sin(P*8+g*15)*Math.exp(-g/l),N=new S.Color(8508666);break;case"band":w=b*Math.sin(y*15),N=new S.Color(16766287);break;case"spot":const O=h/.7,k=Math.sqrt(O*O+y*y);w=b*(1-Math.min(1,k/l)),N=new S.Color(16747109);break;case"turbulent":w=b*se(h*10,y*10,0),w+=b*.5*se(h*20,y*20,0),N=new S.Color(9795021);break;case"cyclone":const R=Math.atan2(y,h),L=g*10+R*3;w=b*Math.sin(L)*Math.exp(-g/l),N=new S.Color(5227511);break;case"anticyclone":const z=Math.atan2(y,h),B=g*10-z*3;w=b*Math.sin(B)*Math.exp(-g/l),N=new S.Color(16773494);break;case"zonal_flow":w=b*Math.sin(y*20)*.5,w+=b*Math.sin(y*10+h*2)*.3,N=new S.Color(11457921);break;default:w=b*se(h*5,y*5,0)*.6,w+=b*.4*Math.sin(h*8+y*8),N=new S.Color(11583173)}w+=se(h*15,y*15,0)*b*.2}else switch(c){case"crater":g<l*.8?(w=-b*1.2,w+=se(h*10,y*10,0)*b*.1,N=new S.Color(9268835)):g<l*1.2&&(w=b*.8,N=new S.Color(10586239));break;case"mountain":w=b*1.5*Math.exp(-g/(l*.6)),w+=se(h*15,y*15,0)*b*.3,N=new S.Color(10586239),w>.5&&N.lerp(new S.Color(16777215),(w-.5)*2);break;case"volcano":if(g<l*.2)w=-b*.8,w+=se(h*20,y*20,0)*b*.1,N=new S.Color(4073251);else{w=b*1.8*Math.exp(-g/(l*.4)),w+=se(h*12,y*12,0)*b*.2;const L=Math.max(0,Math.min(1,w/1.5));N=new S.Color(6111287).lerp(new S.Color(12531212),L)}break;case"valley":case"canyon":const P=Math.abs(y);P<l*.3?(w=-b*1.2,w+=se(h*25,y*5,0)*b*.15,N=new S.Color(7951688)):P<l*.5&&(w=b*.4*(1-(P-l*.3)/(l*.2)),N=new S.Color(9268835));break;case"basin":w=-b*.8*Math.exp(-g/(l*1.5)),w+=se(h*8,y*8,0)*b*.15,N=new S.Color(9268835);break;case"dune":w=b*.8*Math.sin(g*8/l),w+=b*.3*Math.sin(h*12/l),N=new S.Color(14142664);break;case"glacier":w=b*.8*(1-Math.pow(g/l,1.5));const O=se(h*20,y*20,0);O>.7&&(w-=b*.4*(O-.7)*3),N=new S.Color(14743546);break;case"ocean_ridge":const k=Math.abs(y);w=b*.8*Math.exp(-k/(l*.2)),w+=se(h*15,y*5,0)*b*.2,N=new S.Color(166097);break;case"trench":const R=Math.abs(y);R<l*.2?(w=-b*1.5,w+=se(h*20,y*5,0)*b*.1,N=new S.Color(87963)):R<l*.4&&(w=-b*(1-(R-l*.2)/(l*.2)),N=new S.Color(166097));break;default:w=b*se(h*5,y*5,0)*.8,N=new S.Color(10586239)}const A=(t.surfaceRoughness||.5)*f,M=8+A*15,j=A*.4;w+=se(h*M,y*M,0)*j,u.setZ(x,w),p[x*3]=N.r,p[x*3+1]=N.g,p[x*3+2]=N.b}u.needsUpdate=!0,a.computeVertexNormals(),a.setAttribute("color",new S.BufferAttribute(p,3));let v=new S.MeshStandardMaterial({vertexColors:!0,roughness:.7,metalness:.1,flatShading:!1});if(n?v=new S.MeshStandardMaterial({vertexColors:!0,roughness:.3,metalness:.1,flatShading:!1,transparent:!0,opacity:.9}):c==="volcano"?(v.emissive.set("#ff2200"),v.emissiveIntensity=.2):(c==="glacier"||c==="trench"||c==="ocean_ridge")&&(v.roughness=.3,v.metalness=.2),t.soilType&&!n)switch(t.soilType){case"volcanic":v.roughness=.9,c!=="volcano"&&(v.emissive.set("#ff4400"),v.emissiveIntensity=.1);break;case"sandy":v.roughness=Math.min(v.roughness+.1,1);break;case"frozen":v.roughness=Math.max(v.roughness-.2,.1),v.metalness=Math.min(v.metalness+.1,1);break}return{geometry:a,material:v}},[e,t,n]);return o.jsx("div",{className:"w-full h-48 bg-black rounded-md overflow-hidden",children:o.jsxs(Le.Canvas,{camera:{position:[0,1.8,2.2],fov:45},children:[o.jsx("ambientLight",{intensity:.5}),o.jsx("pointLight",{position:[2,3,4],intensity:1.2}),o.jsx("directionalLight",{position:[-2,2,1],intensity:.8,castShadow:!0}),o.jsx("mesh",{ref:r,rotation:[-Math.PI/4,0,0],geometry:s,material:i,receiveShadow:!0,castShadow:!0}),o.jsx(ye.OrbitControls,{enableZoom:!0,enablePan:!0,enableRotate:!0}),o.jsx("gridHelper",{args:[6,10,"#444444","#222222"],position:[0,-.01,0]})]})})}function Lm({planetStats:e,setPlanetStats:t}){var j,P,O;const r=et(e.mass,e.radius),n=r==="gaseous",[s,i]=D.useState(r),[a,c]=D.useState({classification_id:"",type:"",visual_effect:"",image_link:"",coordinates:{x:0,y:0,z:0},influence_radius:.5,influence_strength:.7,influence_type:n?"storm":"mountain",category:n?"gaseous":"terrestrial",events:[]}),[l,d]=D.useState({id:"",type:"",description:"",duration:5,intensity:.5}),[f,u]=D.useState(-1),[p,v]=D.useState(!1),x=D.useMemo(()=>e.landmarks?e.landmarks.map(k=>{const R=n?k.category==="gaseous":k.category==="terrestrial";return{...k,isActive:R}}):[],[e.landmarks,n]);D.useEffect(()=>{if(s!==r&&(i(r),c(k=>({...k,influence_type:n?"storm":"mountain",category:n?"gaseous":"terrestrial"})),f>=0&&e.landmarks)){const k=e.landmarks[f];k&&((n?(k.category||"terrestrial")==="gaseous":(k.category||"terrestrial")==="terrestrial")||(u(-1),v(!0)))}},[r,s,f,e.landmarks,n]);const h=()=>{if(!a.classification_id||!a.type)return;const k={...a,category:n?"gaseous":"terrestrial"},R=[...e.landmarks||[],k];t({...e,landmarks:R}),c({classification_id:"",type:"",visual_effect:"",image_link:"",coordinates:{x:0,y:0,z:0},influence_radius:.5,influence_strength:.7,influence_type:n?"storm":"mountain",category:n?"gaseous":"terrestrial",events:[]})},y=k=>{if(!e.landmarks)return;const R=x[k],L=e.landmarks.findIndex(B=>B.classification_id===R.classification_id);if(L===-1)return;const z=[...e.landmarks];z.splice(L,1),t({...e,landmarks:z}),f===k?u(-1):f>k&&u(f-1)},g=(k,R)=>{c(k==="coordinates"?{...a,coordinates:{...a.coordinates,...R}}:{...a,[k]:R})},C=(k,R,L)=>{if(!e.landmarks)return;const z=x[k],B=e.landmarks.findIndex(W=>W.classification_id===z.classification_id);if(B===-1)return;const _=[...e.landmarks];R==="coordinates"?_[B]={..._[B],coordinates:{..._[B].coordinates,...L}}:_[B]={..._[B],[R]:L},t({...e,landmarks:_})},b=()=>{if(f===-1||!l.type||!l.description||!e.landmarks)return;const k=x[f],R=e.landmarks.findIndex(W=>W.classification_id===k.classification_id);if(R===-1)return;const L=[...e.landmarks],z=L[R],B=`EV-${Math.floor(Math.random()*900+100)}`,_={...l,id:B};L[R]={...z,events:[...z.events||[],_]},t({...e,landmarks:L}),d({id:"",type:"",description:"",duration:5,intensity:.5})},w=(k,R)=>{if(!e.landmarks)return;const L=x[k],z=e.landmarks.findIndex(T=>T.classification_id===L.classification_id);if(z===-1)return;const B=[...e.landmarks],_=B[z];if(!_.events)return;const W=[..._.events];W.splice(R,1),B[z]={..._,events:W},t({...e,landmarks:B})},N=()=>{const k=Math.random()*Math.PI*2,R=Math.random()*Math.PI,L=Math.sin(R)*Math.cos(k),z=Math.sin(R)*Math.sin(k),B=Math.cos(R);c({...a,coordinates:{x:Number.parseFloat(L.toFixed(2)),y:Number.parseFloat(z.toFixed(2)),z:Number.parseFloat(B.toFixed(2))}})},A=(k=n?"gaseous":"terrestrial")=>{if(k==="gaseous")return["storm","vortex","band","spot","turbulent","cyclone","anticyclone","zonal_flow"];{const R=["mountain","crater","valley","basin","canyon","dune"];return e.volcanicActivity&&e.volcanicActivity>.5&&R.push("volcano"),e.temperature<250&&R.push("glacier"),e.waterLevel&&e.waterLevel>.5&&R.push("ocean_ridge","trench"),R}},M=k=>({mountain:"Mountain Range",crater:"Impact Crater",valley:"Valley",basin:"Basin",canyon:"Canyon",trench:"Oceanic Trench",dune:"Dune Field",volcano:"Volcano",glacier:"Glacier",ocean_ridge:"Ocean Ridge",storm:"Storm System",vortex:"Vortex",band:"Cloud Band",spot:"Persistent Spot",turbulent:"Turbulent Region",cyclone:"Cyclonic Storm",anticyclone:"Anticyclonic System",zonal_flow:"Zonal Flow Pattern"})[k]||k.charAt(0).toUpperCase()+k.slice(1);return o.jsxs("div",{className:"space-y-6",children:[p&&o.jsxs(Fn,{variant:"default",className:"bg-amber-900/20 border-amber-500/50 text-amber-300",children:[o.jsx(Ln,{className:"h-4 w-4"}),o.jsxs(zn,{children:["Some landmarks are hidden because they don't match the current planet type (",n?"gaseous":"terrestrial",").",o.jsx(ve,{variant:"link",className:"p-0 h-auto text-amber-300 hover:text-amber-200",onClick:()=>v(!1),children:"Dismiss"})]})]}),o.jsxs(fe,{className:"bg-black/60 border-green-500/30 text-green-400",children:[o.jsx(me,{className:"pb-2",children:o.jsxs(pe,{className:"text-lg tracking-wide",children:["LANDMARK DATABASE (",n?"GASEOUS":"TERRESTRIAL"," PLANET)"]})}),o.jsx(he,{className:"space-y-4",children:o.jsxs("div",{className:"space-y-3",children:[o.jsx(K,{className:"text-green-300",children:"Current Landmarks"}),x.length===0?o.jsx("div",{className:"text-center py-4 border border-dashed border-green-500/30 rounded-md",children:o.jsx("p",{className:"text-green-500/70",children:"No landmarks registered"})}):o.jsx("div",{className:"space-y-3",children:x.map((k,R)=>{var L;return o.jsxs("div",{className:`border ${f===R?"border-green-400":"border-green-500/30"} rounded-md p-3 space-y-2 ${k.isActive?"":"opacity-50"}`,onClick:()=>u(R),children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"font-bold text-green-300",children:k.classification_id}),!k.isActive&&o.jsx("span",{className:"text-xs bg-amber-900/50 text-amber-300 px-1.5 py-0.5 rounded",children:k.category==="gaseous"?"GASEOUS":"TERRESTRIAL"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(ve,{variant:"ghost",size:"sm",onClick:z=>{z.stopPropagation(),u(R)},className:"h-6 w-6 p-0 text-green-400 hover:text-green-300 hover:bg-transparent",children:o.jsx(Em,{className:"h-4 w-4"})}),o.jsx(ve,{variant:"ghost",size:"sm",onClick:z=>{z.stopPropagation(),y(R)},className:"h-6 w-6 p-0 text-green-400 hover:text-red-400 hover:bg-transparent",children:o.jsx(ii,{className:"h-4 w-4"})})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1 text-xs",children:[o.jsx("span",{className:"text-green-500/70",children:"Type:"}),o.jsx("span",{children:k.type}),o.jsx("span",{className:"text-green-500/70",children:"Visual Effect:"}),o.jsx("span",{children:k.visual_effect||"None"}),o.jsx("span",{className:"text-green-500/70",children:"Coordinates:"}),o.jsxs("span",{children:["X: ",k.coordinates.x.toFixed(2),", Y: ",k.coordinates.y.toFixed(2),", Z:"," ",k.coordinates.z.toFixed(2)]}),o.jsx("span",{className:"text-green-500/70",children:"Events:"}),o.jsx("span",{children:((L=k.events)==null?void 0:L.length)||0})]})]},k.classification_id)})})]})})]}),f!==-1&&x[f]&&o.jsxs(fe,{className:"bg-black/60 border-green-500/30 text-green-400",children:[o.jsx(me,{className:"pb-2",children:o.jsxs(pe,{className:"text-lg tracking-wide flex items-center justify-between",children:[o.jsxs("span",{children:["LANDMARK DETAILS: ",x[f].classification_id]}),!x[f].isActive&&o.jsxs("span",{className:"text-xs bg-amber-900/50 text-amber-300 px-2 py-1 rounded",children:["INACTIVE (",(j=x[f].category)==null?void 0:j.toUpperCase(),")"]})]})}),o.jsx(he,{className:"space-y-4",children:o.jsxs(Go,{defaultValue:"info",children:[o.jsxs(Kr,{className:"bg-black border border-green-500/30",children:[o.jsx(Ue,{value:"info",className:"data-[state=active]:bg-green-900/20 data-[state=active]:text-green-300",children:"INFO"}),o.jsx(Ue,{value:"events",className:"data-[state=active]:bg-green-900/20 data-[state=active]:text-green-300",children:"EVENTS"}),o.jsx(Ue,{value:"terrain",className:"data-[state=active]:bg-green-900/20 data-[state=active]:text-green-300",children:"TERRAIN"})]}),o.jsx(Ge,{value:"info",className:"pt-4",children:o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(K,{className:"text-green-300",children:"Type"}),o.jsx("div",{className:"mt-1 p-2 bg-black/50 border border-green-500/30 rounded",children:x[f].type})]}),o.jsxs("div",{children:[o.jsx(K,{className:"text-green-300",children:"Visual Effect"}),o.jsx("div",{className:"mt-1 p-2 bg-black/50 border border-green-500/30 rounded",children:x[f].visual_effect||"None"})]}),o.jsxs("div",{className:"col-span-2",children:[o.jsx(K,{className:"text-green-300",children:"Coordinates"}),o.jsxs("div",{className:"mt-1 p-2 bg-black/50 border border-green-500/30 rounded",children:["X: ",x[f].coordinates.x.toFixed(2),", Y:"," ",x[f].coordinates.y.toFixed(2),", Z:"," ",x[f].coordinates.z.toFixed(2)]})]}),o.jsxs("div",{className:"col-span-2",children:[o.jsx(K,{className:"text-green-300",children:"Category"}),o.jsx("div",{className:"mt-1 p-2 bg-black/50 border border-green-500/30 rounded capitalize",children:x[f].category||(n?"gaseous":"terrestrial")})]})]})}),o.jsx(Ge,{value:"events",className:"pt-4",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(K,{className:"text-green-300",children:"Event List"}),!x[f].events||((P=x[f].events)==null?void 0:P.length)===0?o.jsx("div",{className:"text-center py-4 border border-dashed border-green-500/30 rounded-md",children:o.jsx("p",{className:"text-green-500/70",children:"No events registered for this landmark"})}):o.jsx("div",{className:"space-y-2",children:(O=x[f].events)==null?void 0:O.map((k,R)=>o.jsxs("div",{className:"border border-green-500/30 rounded-md p-2 text-xs",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("span",{className:"font-bold",children:[k.id,": ",k.type]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(ve,{variant:"ghost",size:"sm",className:"h-5 w-5 p-0 text-green-400 hover:text-green-300 hover:bg-transparent",children:o.jsx(Sm,{className:"h-3 w-3"})}),o.jsx(ve,{variant:"ghost",size:"sm",onClick:()=>w(f,R),className:"h-5 w-5 p-0 text-green-400 hover:text-red-400 hover:bg-transparent",children:o.jsx(ii,{className:"h-3 w-3"})})]})]}),o.jsx("div",{className:"mt-1",children:k.description}),k.duration&&o.jsxs("div",{className:"mt-1 text-green-500/70",children:["Duration: ",k.duration,"s"]}),k.intensity&&o.jsxs("div",{className:"text-green-500/70",children:["Intensity: ",k.intensity.toFixed(1)]})]},k.id))})]}),o.jsxs("div",{className:"space-y-2 pt-2 border-t border-green-500/30",children:[o.jsx(K,{className:"text-green-300",children:"Add New Event"}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx(K,{className:"text-xs",children:"Type"}),o.jsx(ue,{value:l.type,onChange:k=>d({...l,type:k.target.value}),className:"bg-black border-green-500/30 text-green-400",placeholder:"Lightning Strike"})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx(K,{className:"text-xs",children:"Duration (s)"}),o.jsx(ue,{type:"number",value:l.duration,onChange:k=>d({...l,duration:Number.parseFloat(k.target.value)}),className:"bg-black border-green-500/30 text-green-400",step:"0.5"})]}),o.jsxs("div",{className:"col-span-2 space-y-1",children:[o.jsx(K,{className:"text-xs",children:"Description"}),o.jsx(ue,{value:l.description,onChange:k=>d({...l,description:k.target.value}),className:"bg-black border-green-500/30 text-green-400",placeholder:"Brief description of the event"})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx(K,{className:"text-xs",children:"Intensity (0-1)"}),o.jsx(ue,{type:"number",value:l.intensity,onChange:k=>d({...l,intensity:Number.parseFloat(k.target.value)}),className:"bg-black border-green-500/30 text-green-400",min:"0",max:"1",step:"0.1"})]})]}),o.jsxs(ve,{onClick:b,className:"w-full mt-2 bg-green-700 hover:bg-green-600 text-black",children:[o.jsx(ai,{className:"h-4 w-4 mr-2"}),"Add Event"]})]})]})}),o.jsx(Ge,{value:"terrain",className:"pt-4",children:o.jsxs("div",{className:"space-y-4",children:[!x[f].isActive&&o.jsxs(Fn,{variant:"default",className:"bg-amber-900/20 border-amber-500/50 text-amber-300",children:[o.jsx(Ln,{className:"h-4 w-4"}),o.jsxs(zn,{children:["This landmark is inactive because it's a ",x[f].category," landmark on a ",n?"gaseous":"terrestrial"," planet. The terrain preview shows how it would appear on a ",x[f].category," planet."]})]}),o.jsx(Om,{landmark:x[f],planetStats:e}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx(K,{className:"text-xs",children:"Influence Type"}),o.jsxs(ct,{value:x[f].influence_type||(n?"storm":"mountain"),onValueChange:k=>C(f,"influence_type",k),children:[o.jsx(Je,{className:"bg-black border-green-500/30 text-green-400",children:o.jsx(lt,{placeholder:"Select type"})}),o.jsx(Qe,{className:"bg-black border-green-500/30 text-green-400",children:A(x[f].category).map(k=>o.jsx(Re,{value:k,children:M(k)},k))})]})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx(K,{className:"text-xs",children:"Influence Radius"}),o.jsx(ue,{type:"number",value:x[f].influence_radius||.5,onChange:k=>C(f,"influence_radius",Number.parseFloat(k.target.value)),className:"bg-black border-green-500/30 text-green-400",step:"0.1"})]}),o.jsxs("div",{className:"col-span-2 space-y-1",children:[o.jsx(K,{className:"text-xs",children:"Influence Strength"}),o.jsx(Ee,{defaultValue:[Number(x[f].influence_strength||.7)*100],max:100,step:1,onValueChange:k=>C(f,"influence_strength",k[0]/100),className:"text-green-400"}),o.jsx("div",{className:"text-xs text-green-500/70",children:(x[f].influence_strength||.7).toFixed(2)})]})]})]})})]})})]}),o.jsxs(fe,{className:"bg-black/60 border-green-500/30 text-green-400",children:[o.jsx(me,{className:"pb-2",children:o.jsxs(pe,{className:"text-lg tracking-wide",children:["ADD NEW ",n?"GASEOUS":"TERRESTRIAL"," LANDMARK"]})}),o.jsx(he,{className:"space-y-4",children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(K,{className:"text-green-300",children:"Classification ID"}),o.jsx(ue,{value:a.classification_id,onChange:k=>g("classification_id",k.target.value),className:"bg-black border-green-500/30 text-green-400",placeholder:"LM-001"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(K,{className:"text-green-300",children:"Type"}),o.jsx(ue,{value:a.type,onChange:k=>g("type",k.target.value),className:"bg-black border-green-500/30 text-green-400",placeholder:n?"Storm System":"Mountain Range"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(K,{className:"text-green-300",children:"Visual Effect"}),o.jsx(ue,{value:a.visual_effect,onChange:k=>g("visual_effect",k.target.value),className:"bg-black border-green-500/30 text-green-400",placeholder:n?"Lightning":"Glowing"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(K,{className:"text-green-300",children:"Image Link"}),o.jsx(ue,{value:a.image_link,onChange:k=>g("image_link",k.target.value),className:"bg-black border-green-500/30 text-green-400",placeholder:"https://example.com/image.jpg"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx(K,{className:"text-green-300",children:"Coordinates"}),o.jsx(ve,{variant:"outline",size:"sm",onClick:N,className:"h-6 text-xs border-green-500/30 text-green-400 hover:bg-green-900/20",children:"Random"})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx(K,{className:"text-xs",children:"X"}),o.jsx(ue,{type:"number",value:a.coordinates.x,onChange:k=>g("coordinates",{x:Number.parseFloat(k.target.value)}),className:"bg-black border-green-500/30 text-green-400",step:"0.1"})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx(K,{className:"text-xs",children:"Y"}),o.jsx(ue,{type:"number",value:a.coordinates.y,onChange:k=>g("coordinates",{y:Number.parseFloat(k.target.value)}),className:"bg-black border-green-500/30 text-green-400",step:"0.1"})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx(K,{className:"text-xs",children:"Z"}),o.jsx(ue,{type:"number",value:a.coordinates.z,onChange:k=>g("coordinates",{z:Number.parseFloat(k.target.value)}),className:"bg-black border-green-500/30 text-green-400",step:"0.1"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(K,{className:"text-green-300",children:"Influence Radius"}),o.jsx(ue,{type:"number",value:a.influence_radius||.5,onChange:k=>g("influence_radius",Number.parseFloat(k.target.value)),className:"bg-black border-green-500/30 text-green-400",step:"0.1"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(K,{className:"text-green-300",children:"Influence Strength"}),o.jsx(ue,{type:"number",value:a.influence_strength||.7,onChange:k=>g("influence_strength",Number.parseFloat(k.target.value)),className:"bg-black border-green-500/30 text-green-400",step:"0.1"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(K,{className:"text-green-300",children:"Influence Type"}),o.jsxs(ct,{value:a.influence_type||(n?"storm":"mountain"),onValueChange:k=>g("influence_type",k),children:[o.jsx(Je,{className:"bg-black border-green-500/30 text-green-400",children:o.jsx(lt,{placeholder:"Select type"})}),o.jsx(Qe,{className:"bg-black border-green-500/30 text-green-400",children:A().map(k=>o.jsx(Re,{value:k,children:M(k)},k))})]})]}),o.jsxs(ve,{onClick:h,className:"w-full mt-2 bg-green-700 hover:bg-green-600 text-black",children:[o.jsx(ai,{className:"h-4 w-4 mr-2"}),"Add ",n?"Gaseous":"Terrestrial"," Landmark"]})]})})]})]})}const ui=m.forwardRef(({className:e,...t},r)=>o.jsx("textarea",{className:ee("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));ui.displayName="Textarea";var Bn,di;function Fm(){if(di)return Bn;di=1;var e=Object.defineProperty,t=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,n=Object.prototype.hasOwnProperty,s=(g,C)=>{for(var b in C)e(g,b,{get:C[b],enumerable:!0})},i=(g,C,b,w)=>{if(C&&typeof C=="object"||typeof C=="function")for(let N of r(C))!n.call(g,N)&&N!==b&&e(g,N,{get:()=>C[N],enumerable:!(w=t(C,N))||w.enumerable});return g},a=g=>i(e({},"__esModule",{value:!0}),g),c=(g,C,b)=>new Promise((w,N)=>{var A=P=>{try{j(b.next(P))}catch(O){N(O)}},M=P=>{try{j(b.throw(P))}catch(O){N(O)}},j=P=>P.done?w(P.value):Promise.resolve(P.value).then(A,M);j((b=b.apply(g,C)).next())}),l={};s(l,{SessionContextProvider:()=>p,useSession:()=>h,useSessionContext:()=>v,useSupabaseClient:()=>x,useUser:()=>y}),Bn=a(l);var d=D,f=eo(),u=(0,d.createContext)({isLoading:!0,session:null,error:null,supabaseClient:{}}),p=({supabaseClient:g,initialSession:C=null,children:b})=>{const[w,N]=(0,d.useState)(C),[A,M]=(0,d.useState)(!C),[j,P]=(0,d.useState)();(0,d.useEffect)(()=>{!w&&C&&N(C)},[w,C]),(0,d.useEffect)(()=>{let k=!0;function R(){return c(this,null,function*(){const{data:{session:L},error:z}=yield g.auth.getSession();if(k){if(z){P(z),M(!1);return}N(L),M(!1)}})}return R(),()=>{k=!1}},[]),(0,d.useEffect)(()=>{const{data:{subscription:k}}=g.auth.onAuthStateChange((R,L)=>{L&&(R==="SIGNED_IN"||R==="TOKEN_REFRESHED"||R==="USER_UPDATED")&&N(L),R==="SIGNED_OUT"&&N(null)});return()=>{k.unsubscribe()}},[]);const O=(0,d.useMemo)(()=>A?{isLoading:!0,session:null,error:null,supabaseClient:g}:j?{isLoading:!1,session:null,error:j,supabaseClient:g}:{isLoading:!1,session:w,error:null,supabaseClient:g},[A,w,j]);return(0,f.jsx)(u.Provider,{value:O,children:b})},v=()=>{const g=(0,d.useContext)(u);if(g===void 0)throw new Error("useSessionContext must be used within a SessionContextProvider.");return g};function x(){const g=(0,d.useContext)(u);if(g===void 0)throw new Error("useSupabaseClient must be used within a SessionContextProvider.");return g.supabaseClient}var h=()=>{const g=(0,d.useContext)(u);if(g===void 0)throw new Error("useSession must be used within a SessionContextProvider.");return g.session},y=()=>{var g,C;const b=(0,d.useContext)(u);if(b===void 0)throw new Error("useUser must be used within a SessionContextProvider.");return(C=(g=b.session)==null?void 0:g.user)!=null?C:null};return Bn}var Vn=Fm();function zm({planetStats:e,setPlanetStats:t,classificationId:r,author:n,setSelectedBiome:s,setCustomColors:i}){const a=Vn.useSupabaseClient();Vn.useSession();const[c,l]=D.useState(""),d=async()=>{const u={};Object.entries(e).forEach(([C,b])=>{b!=null&&(typeof b=="number"?u[C]=Number(b.toFixed(2)):(typeof b=="boolean"||typeof b=="object"&&Array.isArray(b),u[C]=b))});const p=Object.entries(u).map(([C,b])=>typeof b=="object"?`${C}: ${JSON.stringify(b)}`:`${C}: ${b}`).join(`
`);l(p);const v=parseInt(r);if(isNaN(v))return;const{data:x,error:h}=await a.from("classifications").select("classificationConfiguration").eq("id",v).single();if(h||!(x!=null&&x.classificationConfiguration)){console.error("Failed to fetch existing configuration:",h);return}const y={...x.classificationConfiguration,exportedValue:u},{error:g}=await a.from("classifications").update({classificationConfiguration:y}).eq("id",v);g&&console.error("Failed to export config:",g)},f=()=>{try{const u=c.split(`
`).filter(x=>!x.trim().startsWith("//")&&x.trim()!==""),p={};u.forEach(x=>{if(!x.trim())return;const h=x.indexOf(":");if(h===-1)return;const y=x.substring(0,h).trim(),g=x.substring(h+1).trim();let C;if(g==="true"||g==="false")C=g==="true";else if(g.startsWith("[")||g.startsWith("{"))try{C=JSON.parse(g)}catch{C=g}else isNaN(Number(g))?C=g:C=Number(g);p[y]=C});const v=Ir(p);t(v),v.biome&&s(v.biome),v.customColors&&i(v.customColors)}catch(u){console.error("Error importing planet configuration:",u)}};return o.jsx("div",{className:"space-y-6",children:o.jsxs(fe,{className:"bg-black/60 border-green-500/30 text-green-400",children:[o.jsx(me,{className:"pb-2",children:o.jsx(pe,{className:"text-lg tracking-wide",children:"DATA TRANSFER"})}),o.jsxs(he,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsx(K,{className:"text-green-300",children:"Planet Configuration"}),o.jsx(ui,{value:c,onChange:u=>l(u.target.value),className:"h-64 font-mono text-xs bg-black border-green-500/30 text-green-400",placeholder:"Export or paste planet configuration here..."})]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs(ve,{variant:"outline",size:"sm",className:"flex-1 border-green-500/30 text-green-400 hover:bg-green-900/20",onClick:d,children:[o.jsx(km,{className:"h-4 w-4 mr-2"}),"Export"]}),o.jsxs(ve,{variant:"outline",size:"sm",className:"flex-1 border-green-500/30 text-green-400 hover:bg-green-900/20",onClick:f,children:[o.jsx(Tm,{className:"h-4 w-4 mr-2"}),"Import"]}),o.jsx(ve,{variant:"outline",size:"sm",className:"border-green-500/30 text-green-400 hover:bg-green-900/20",onClick:()=>navigator.clipboard.writeText(c),children:o.jsx(Nm,{className:"h-4 w-4"})})]}),o.jsx("p",{className:"text-xs text-green-500/70 mt-2",children:"You can import partial configurations (e.g., just mass and radius). Missing values will be filled with defaults."})]})]})})}function Bm({planetStats:e,setPlanetStats:t,classificationId:r="UNCLASSIFIED",author:n="UNKNOWN"}){var l,d,f,u;const[s,i]=D.useState(e.biome||"Rocky Highlands"),[a,c]=D.useState({oceanFloor:((l=e.customColors)==null?void 0:l.oceanFloor)||"",beach:((d=e.customColors)==null?void 0:d.beach)||"",regular:((f=e.customColors)==null?void 0:f.regular)||"",mountain:((u=e.customColors)==null?void 0:u.mountain)||""});return o.jsxs("div",{className:"absolute top-0 left-0 h-full w-96 bg-slate-800/90 text-blue-100 p-6 overflow-y-auto font-mono border-r border-slate-600/60",children:[o.jsx("h2",{className:"text-2xl font-bold mb-6 tracking-wider border-b border-slate-600/60 pb-2",children:"PLANET SETTINGS"}),o.jsx("div",{className:"mb-6 p-3 bg-slate-700/60 border border-slate-600/60 rounded-md hidden",children:o.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[o.jsx("div",{className:"text-slate-400",children:"CLASSIFICATION:"}),o.jsx("div",{children:r}),o.jsx("div",{className:"text-slate-400",children:"AUTHOR:"}),o.jsx("div",{children:n})]})}),o.jsxs(Go,{defaultValue:"physical",className:"space-y-6",children:[o.jsxs(Kr,{className:"grid w-full grid-cols-4 mb-6 bg-slate-700 border border-slate-600",children:[o.jsx(Ue,{value:"physical",className:"data-[state=active]:bg-cyan-800/40 data-[state=active]:text-cyan-50",children:"PHYSICAL"}),o.jsx(Ue,{value:"surface",className:"data-[state=active]:bg-cyan-800/40 data-[state=active]:text-cyan-50",children:"SURFACE"}),o.jsx(Ue,{value:"biome",className:"data-[state=active]:bg-cyan-800/40 data-[state=active]:text-cyan-50",children:"BIOME"}),o.jsx(Ue,{value:"landmarks",className:"data-[state=active]:bg-cyan-800/40 data-[state=active]:text-cyan-50",children:"LANDMARKS"})]}),o.jsxs(Ge,{value:"physical",children:[o.jsx(Mu,{planetStats:e,setPlanetStats:t}),o.jsx("div",{className:"mt-6",children:o.jsx(zm,{planetStats:e,setPlanetStats:t,classificationId:r,author:n,setSelectedBiome:i,setCustomColors:c})})]}),o.jsx(Ge,{value:"surface",children:o.jsx(Am,{planetStats:e,setPlanetStats:t,selectedBiome:s})}),o.jsx(Ge,{value:"biome",children:o.jsx(Pm,{planetStats:e,setPlanetStats:t,selectedBiome:s,setSelectedBiome:i,customColors:a,setCustomColors:c})}),o.jsx(Ge,{value:"landmarks",children:o.jsx(Lm,{planetStats:e,setPlanetStats:t})})]})]})}var $n=["Enter"," "],Vm=["ArrowDown","PageUp","Home"],fi=["ArrowUp","PageDown","End"],$m=[...Vm,...fi],Hm={ltr:[...$n,"ArrowRight"],rtl:[...$n,"ArrowLeft"]},Wm={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Lt="Menu",[Ft,Um,Gm]=Xt(Lt),[ut,mi]=Fe(Lt,[Gm,pr,Zt]),jr=pr(),pi=Zt(),[Km,dt]=ut(Lt),[qm,zt]=ut(Lt),hi=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:s,onOpenChange:i,modal:a=!0}=e,c=jr(t),[l,d]=m.useState(null),f=m.useRef(!1),u=Ae(i),p=Mt(s);return m.useEffect(()=>{const v=()=>{f.current=!0,document.addEventListener("pointerdown",x,{capture:!0,once:!0}),document.addEventListener("pointermove",x,{capture:!0,once:!0})},x=()=>f.current=!1;return document.addEventListener("keydown",v,{capture:!0}),()=>{document.removeEventListener("keydown",v,{capture:!0}),document.removeEventListener("pointerdown",x,{capture:!0}),document.removeEventListener("pointermove",x,{capture:!0})}},[]),o.jsx(na,{...c,children:o.jsx(Km,{scope:t,open:r,onOpenChange:u,content:l,onContentChange:d,children:o.jsx(qm,{scope:t,onClose:m.useCallback(()=>u(!1),[u]),isUsingKeyboardRef:f,dir:p,modal:a,children:n})})})};hi.displayName=Lt;var Ym="MenuAnchor",Hn=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=jr(r);return o.jsx(oa,{...s,...n,ref:t})});Hn.displayName=Ym;var Wn="MenuPortal",[Xm,gi]=ut(Wn,{forceMount:void 0}),vi=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:s}=e,i=dt(Wn,t);return o.jsx(Xm,{scope:t,forceMount:r,children:o.jsx(mt,{present:r||i.open,children:o.jsx(Nn,{asChild:!0,container:s,children:n})})})};vi.displayName=Wn;var Ne="MenuContent",[Zm,Un]=ut(Ne),xi=m.forwardRef((e,t)=>{const r=gi(Ne,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,i=dt(Ne,e.__scopeMenu),a=zt(Ne,e.__scopeMenu);return o.jsx(Ft.Provider,{scope:e.__scopeMenu,children:o.jsx(mt,{present:n||i.open,children:o.jsx(Ft.Slot,{scope:e.__scopeMenu,children:a.modal?o.jsx(Jm,{...s,ref:t}):o.jsx(Qm,{...s,ref:t})})})})}),Jm=m.forwardRef((e,t)=>{const r=dt(Ne,e.__scopeMenu),n=m.useRef(null),s=ne(t,n);return m.useEffect(()=>{const i=n.current;if(i)return la(i)},[]),o.jsx(Gn,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:U(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),Qm=m.forwardRef((e,t)=>{const r=dt(Ne,e.__scopeMenu);return o.jsx(Gn,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),ep=ft("MenuContent.ScrollLock"),Gn=m.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:c,onEntryFocus:l,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:u,onInteractOutside:p,onDismiss:v,disableOutsideScroll:x,...h}=e,y=dt(Ne,r),g=zt(Ne,r),C=jr(r),b=pi(r),w=Um(r),[N,A]=m.useState(null),M=m.useRef(null),j=ne(t,M,y.onContentChange),P=m.useRef(0),O=m.useRef(""),k=m.useRef(0),R=m.useRef(null),L=m.useRef("right"),z=m.useRef(0),B=x?Rn:m.Fragment,_=x?{as:ep,allowPinchZoom:!0}:void 0,W=I=>{var F,G;const E=O.current+I,H=w().filter(J=>!J.disabled),q=document.activeElement,Y=(F=H.find(J=>J.ref.current===q))==null?void 0:F.textValue,te=H.map(J=>J.textValue),ae=fp(te,E,Y),ie=(G=H.find(J=>J.textValue===ae))==null?void 0:G.ref.current;(function J(Q){O.current=Q,window.clearTimeout(P.current),Q!==""&&(P.current=window.setTimeout(()=>J(""),1e3))})(E),ie&&setTimeout(()=>ie.focus())};m.useEffect(()=>()=>window.clearTimeout(P.current),[]),Cs();const T=m.useCallback(I=>{var H,q;return L.current===((H=R.current)==null?void 0:H.side)&&pp(I,(q=R.current)==null?void 0:q.area)},[]);return o.jsx(Zm,{scope:r,searchRef:O,onItemEnter:m.useCallback(I=>{T(I)&&I.preventDefault()},[T]),onItemLeave:m.useCallback(I=>{var E;T(I)||((E=M.current)==null||E.focus(),A(null))},[T]),onTriggerLeave:m.useCallback(I=>{T(I)&&I.preventDefault()},[T]),pointerGraceTimerRef:k,onPointerGraceIntentChange:m.useCallback(I=>{R.current=I},[]),children:o.jsx(B,{..._,children:o.jsx(cn,{asChild:!0,trapped:s,onMountAutoFocus:U(i,I=>{var E;I.preventDefault(),(E=M.current)==null||E.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:o.jsx(nn,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:u,onInteractOutside:p,onDismiss:v,children:o.jsx(ho,{asChild:!0,...b,dir:g.dir,orientation:"vertical",loop:n,currentTabStopId:N,onCurrentTabStopIdChange:A,onEntryFocus:U(l,I=>{g.isUsingKeyboardRef.current||I.preventDefault()}),preventScrollOnEntryFocus:!0,children:o.jsx(sa,{role:"menu","aria-orientation":"vertical","data-state":Di(y.open),"data-radix-menu-content":"",dir:g.dir,...C,...h,ref:j,style:{outline:"none",...h.style},onKeyDown:U(h.onKeyDown,I=>{const H=I.target.closest("[data-radix-menu-content]")===I.currentTarget,q=I.ctrlKey||I.altKey||I.metaKey,Y=I.key.length===1;H&&(I.key==="Tab"&&I.preventDefault(),!q&&Y&&W(I.key));const te=M.current;if(I.target!==te||!$m.includes(I.key))return;I.preventDefault();const ie=w().filter(F=>!F.disabled).map(F=>F.ref.current);fi.includes(I.key)&&ie.reverse(),up(ie)}),onBlur:U(e.onBlur,I=>{I.currentTarget.contains(I.target)||(window.clearTimeout(P.current),O.current="")}),onPointerMove:U(e.onPointerMove,Vt(I=>{const E=I.target,H=z.current!==I.clientX;if(I.currentTarget.contains(E)&&H){const q=I.clientX>z.current?"right":"left";L.current=q,z.current=I.clientX}}))})})})})})})});xi.displayName=Ne;var tp="MenuGroup",Kn=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return o.jsx(X.div,{role:"group",...n,ref:t})});Kn.displayName=tp;var rp="MenuLabel",yi=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return o.jsx(X.div,{...n,ref:t})});yi.displayName=rp;var Sr="MenuItem",bi="menu.itemSelect",Tr=m.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...s}=e,i=m.useRef(null),a=zt(Sr,e.__scopeMenu),c=Un(Sr,e.__scopeMenu),l=ne(t,i),d=m.useRef(!1),f=()=>{const u=i.current;if(!r&&u){const p=new CustomEvent(bi,{bubbles:!0,cancelable:!0});u.addEventListener(bi,v=>n==null?void 0:n(v),{once:!0}),co(u,p),p.defaultPrevented?d.current=!1:a.onClose()}};return o.jsx(wi,{...s,ref:l,disabled:r,onClick:U(e.onClick,f),onPointerDown:u=>{var p;(p=e.onPointerDown)==null||p.call(e,u),d.current=!0},onPointerUp:U(e.onPointerUp,u=>{var p;d.current||(p=u.currentTarget)==null||p.click()}),onKeyDown:U(e.onKeyDown,u=>{const p=c.searchRef.current!=="";r||p&&u.key===" "||$n.includes(u.key)&&(u.currentTarget.click(),u.preventDefault())})})});Tr.displayName=Sr;var wi=m.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...i}=e,a=Un(Sr,r),c=pi(r),l=m.useRef(null),d=ne(t,l),[f,u]=m.useState(!1),[p,v]=m.useState("");return m.useEffect(()=>{const x=l.current;x&&v((x.textContent??"").trim())},[i.children]),o.jsx(Ft.ItemSlot,{scope:r,disabled:n,textValue:s??p,children:o.jsx(go,{asChild:!0,...c,focusable:!n,children:o.jsx(X.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:d,onPointerMove:U(e.onPointerMove,Vt(x=>{n?a.onItemLeave(x):(a.onItemEnter(x),x.defaultPrevented||x.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:U(e.onPointerLeave,Vt(x=>a.onItemLeave(x))),onFocus:U(e.onFocus,()=>u(!0)),onBlur:U(e.onBlur,()=>u(!1))})})})}),np="MenuCheckboxItem",Ci=m.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...s}=e;return o.jsx(Si,{scope:e.__scopeMenu,checked:r,children:o.jsx(Tr,{role:"menuitemcheckbox","aria-checked":Rr(r)?"mixed":r,...s,ref:t,"data-state":Yn(r),onSelect:U(s.onSelect,()=>n==null?void 0:n(Rr(r)?!0:!r),{checkForDefaultPrevented:!1})})})});Ci.displayName=np;var Ni="MenuRadioGroup",[op,sp]=ut(Ni,{value:void 0,onValueChange:()=>{}}),ki=m.forwardRef((e,t)=>{const{value:r,onValueChange:n,...s}=e,i=Ae(n);return o.jsx(op,{scope:e.__scopeMenu,value:r,onValueChange:i,children:o.jsx(Kn,{...s,ref:t})})});ki.displayName=Ni;var Ei="MenuRadioItem",ji=m.forwardRef((e,t)=>{const{value:r,...n}=e,s=sp(Ei,e.__scopeMenu),i=r===s.value;return o.jsx(Si,{scope:e.__scopeMenu,checked:i,children:o.jsx(Tr,{role:"menuitemradio","aria-checked":i,...n,ref:t,"data-state":Yn(i),onSelect:U(n.onSelect,()=>{var a;return(a=s.onValueChange)==null?void 0:a.call(s,r)},{checkForDefaultPrevented:!1})})})});ji.displayName=Ei;var qn="MenuItemIndicator",[Si,ap]=ut(qn,{checked:!1}),Ti=m.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...s}=e,i=ap(qn,r);return o.jsx(mt,{present:n||Rr(i.checked)||i.checked===!0,children:o.jsx(X.span,{...s,ref:t,"data-state":Yn(i.checked)})})});Ti.displayName=qn;var ip="MenuSeparator",Ri=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return o.jsx(X.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});Ri.displayName=ip;var cp="MenuArrow",Mi=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=jr(r);return o.jsx(aa,{...s,...n,ref:t})});Mi.displayName=cp;var lp="MenuSub",[jh,Ai]=ut(lp),Bt="MenuSubTrigger",_i=m.forwardRef((e,t)=>{const r=dt(Bt,e.__scopeMenu),n=zt(Bt,e.__scopeMenu),s=Ai(Bt,e.__scopeMenu),i=Un(Bt,e.__scopeMenu),a=m.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:l}=i,d={__scopeMenu:e.__scopeMenu},f=m.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return m.useEffect(()=>f,[f]),m.useEffect(()=>{const u=c.current;return()=>{window.clearTimeout(u),l(null)}},[c,l]),o.jsx(Hn,{asChild:!0,...d,children:o.jsx(wi,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":Di(r.open),...e,ref:Lr(t,s.onTriggerChange),onClick:u=>{var p;(p=e.onClick)==null||p.call(e,u),!(e.disabled||u.defaultPrevented)&&(u.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:U(e.onPointerMove,Vt(u=>{i.onItemEnter(u),!u.defaultPrevented&&!e.disabled&&!r.open&&!a.current&&(i.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{r.onOpenChange(!0),f()},100))})),onPointerLeave:U(e.onPointerLeave,Vt(u=>{var v,x;f();const p=(v=r.content)==null?void 0:v.getBoundingClientRect();if(p){const h=(x=r.content)==null?void 0:x.dataset.side,y=h==="right",g=y?-5:5,C=p[y?"left":"right"],b=p[y?"right":"left"];i.onPointerGraceIntentChange({area:[{x:u.clientX+g,y:u.clientY},{x:C,y:p.top},{x:b,y:p.top},{x:b,y:p.bottom},{x:C,y:p.bottom}],side:h}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(u),u.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:U(e.onKeyDown,u=>{var v;const p=i.searchRef.current!=="";e.disabled||p&&u.key===" "||Hm[n.dir].includes(u.key)&&(r.onOpenChange(!0),(v=r.content)==null||v.focus(),u.preventDefault())})})})});_i.displayName=Bt;var Pi="MenuSubContent",Ii=m.forwardRef((e,t)=>{const r=gi(Ne,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,i=dt(Ne,e.__scopeMenu),a=zt(Ne,e.__scopeMenu),c=Ai(Pi,e.__scopeMenu),l=m.useRef(null),d=ne(t,l);return o.jsx(Ft.Provider,{scope:e.__scopeMenu,children:o.jsx(mt,{present:n||i.open,children:o.jsx(Ft.Slot,{scope:e.__scopeMenu,children:o.jsx(Gn,{id:c.contentId,"aria-labelledby":c.triggerId,...s,ref:d,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{var u;a.isUsingKeyboardRef.current&&((u=l.current)==null||u.focus()),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:U(e.onFocusOutside,f=>{f.target!==c.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:U(e.onEscapeKeyDown,f=>{a.onClose(),f.preventDefault()}),onKeyDown:U(e.onKeyDown,f=>{var v;const u=f.currentTarget.contains(f.target),p=Wm[a.dir].includes(f.key);u&&p&&(i.onOpenChange(!1),(v=c.trigger)==null||v.focus(),f.preventDefault())})})})})})});Ii.displayName=Pi;function Di(e){return e?"open":"closed"}function Rr(e){return e==="indeterminate"}function Yn(e){return Rr(e)?"indeterminate":e?"checked":"unchecked"}function up(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function dp(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function fp(e,t,r){const s=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let a=dp(e,Math.max(i,0));s.length===1&&(a=a.filter(d=>d!==r));const l=a.find(d=>d.toLowerCase().startsWith(s.toLowerCase()));return l!==r?l:void 0}function mp(e,t){const{x:r,y:n}=e;let s=!1;for(let i=0,a=t.length-1;i<t.length;a=i++){const c=t[i],l=t[a],d=c.x,f=c.y,u=l.x,p=l.y;f>n!=p>n&&r<(u-d)*(n-f)/(p-f)+d&&(s=!s)}return s}function pp(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return mp(r,t)}function Vt(e){return t=>t.pointerType==="mouse"?e(t):void 0}var hp=hi,gp=Hn,vp=vi,xp=xi,yp=Kn,bp=yi,wp=Tr,Cp=Ci,Np=ki,kp=ji,Ep=Ti,jp=Ri,Sp=Mi,Tp=_i,Rp=Ii,Mr="DropdownMenu",[Mp,Sh]=Fe(Mr,[mi]),xe=mi(),[Ap,Oi]=Mp(Mr),Li=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:s,defaultOpen:i,onOpenChange:a,modal:c=!0}=e,l=xe(t),d=m.useRef(null),[f,u]=nt({prop:s,defaultProp:i??!1,onChange:a,caller:Mr});return o.jsx(Ap,{scope:t,triggerId:rt(),triggerRef:d,contentId:rt(),open:f,onOpenChange:u,onOpenToggle:m.useCallback(()=>u(p=>!p),[u]),modal:c,children:o.jsx(hp,{...l,open:f,onOpenChange:u,dir:n,modal:c,children:r})})};Li.displayName=Mr;var Fi="DropdownMenuTrigger",zi=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...s}=e,i=Oi(Fi,r),a=xe(r);return o.jsx(gp,{asChild:!0,...a,children:o.jsx(X.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:Lr(t,i.triggerRef),onPointerDown:U(e.onPointerDown,c=>{!n&&c.button===0&&c.ctrlKey===!1&&(i.onOpenToggle(),i.open||c.preventDefault())}),onKeyDown:U(e.onKeyDown,c=>{n||(["Enter"," "].includes(c.key)&&i.onOpenToggle(),c.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})})});zi.displayName=Fi;var _p="DropdownMenuPortal",Bi=e=>{const{__scopeDropdownMenu:t,...r}=e,n=xe(t);return o.jsx(vp,{...n,...r})};Bi.displayName=_p;var Vi="DropdownMenuContent",$i=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Oi(Vi,r),i=xe(r),a=m.useRef(!1);return o.jsx(xp,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...n,ref:t,onCloseAutoFocus:U(e.onCloseAutoFocus,c=>{var l;a.current||(l=s.triggerRef.current)==null||l.focus(),a.current=!1,c.preventDefault()}),onInteractOutside:U(e.onInteractOutside,c=>{const l=c.detail.originalEvent,d=l.button===0&&l.ctrlKey===!0,f=l.button===2||d;(!s.modal||f)&&(a.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});$i.displayName=Vi;var Pp="DropdownMenuGroup",Ip=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=xe(r);return o.jsx(yp,{...s,...n,ref:t})});Ip.displayName=Pp;var Dp="DropdownMenuLabel",Hi=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=xe(r);return o.jsx(bp,{...s,...n,ref:t})});Hi.displayName=Dp;var Op="DropdownMenuItem",Wi=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=xe(r);return o.jsx(wp,{...s,...n,ref:t})});Wi.displayName=Op;var Lp="DropdownMenuCheckboxItem",Ui=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=xe(r);return o.jsx(Cp,{...s,...n,ref:t})});Ui.displayName=Lp;var Fp="DropdownMenuRadioGroup",zp=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=xe(r);return o.jsx(Np,{...s,...n,ref:t})});zp.displayName=Fp;var Bp="DropdownMenuRadioItem",Gi=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=xe(r);return o.jsx(kp,{...s,...n,ref:t})});Gi.displayName=Bp;var Vp="DropdownMenuItemIndicator",Ki=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=xe(r);return o.jsx(Ep,{...s,...n,ref:t})});Ki.displayName=Vp;var $p="DropdownMenuSeparator",qi=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=xe(r);return o.jsx(jp,{...s,...n,ref:t})});qi.displayName=$p;var Hp="DropdownMenuArrow",Wp=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=xe(r);return o.jsx(Sp,{...s,...n,ref:t})});Wp.displayName=Hp;var Up="DropdownMenuSubTrigger",Yi=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=xe(r);return o.jsx(Tp,{...s,...n,ref:t})});Yi.displayName=Up;var Gp="DropdownMenuSubContent",Xi=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=xe(r);return o.jsx(Rp,{...s,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Xi.displayName=Gp;var Kp=Li,qp=zi,Yp=Bi,Zi=$i,Ji=Hi,Qi=Wi,ec=Ui,tc=Gi,rc=Ki,nc=qi,oc=Yi,sc=Xi;const Xp=Kp,Zp=qp,Jp=m.forwardRef(({className:e,inset:t,children:r,...n},s)=>o.jsxs(oc,{ref:s,className:ee("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...n,children:[r,o.jsx(ym,{className:"ml-auto h-4 w-4"})]}));Jp.displayName=oc.displayName;const Qp=m.forwardRef(({className:e,...t},r)=>o.jsx(sc,{ref:r,className:ee("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));Qp.displayName=sc.displayName;const ac=m.forwardRef(({className:e,sideOffset:t=4,...r},n)=>o.jsx(Yp,{children:o.jsx(Zi,{ref:n,sideOffset:t,className:ee("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));ac.displayName=Zi.displayName;const $t=m.forwardRef(({className:e,inset:t,...r},n)=>o.jsx(Qi,{ref:n,className:ee("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));$t.displayName=Qi.displayName;const eh=m.forwardRef(({className:e,children:t,checked:r,...n},s)=>o.jsxs(ec,{ref:s,className:ee("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(rc,{children:o.jsx(si,{className:"h-4 w-4"})})}),t]}));eh.displayName=ec.displayName;const th=m.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(tc,{ref:n,className:ee("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(rc,{children:o.jsx(wm,{className:"h-2 w-2 fill-current"})})}),t]}));th.displayName=tc.displayName;const rh=m.forwardRef(({className:e,inset:t,...r},n)=>o.jsx(Ji,{ref:n,className:ee("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));rh.displayName=Ji.displayName;const nh=m.forwardRef(({className:e,...t},r)=>o.jsx(nc,{ref:r,className:ee("-mx-1 my-1 h-px bg-muted",e),...t}));nh.displayName=nc.displayName;function oh({classificationId:e="UNCLASSIFIED",author:t="UNKNOWN",type:r,biome:n,planetConfiguration:s,classificationConfig:i,content:a}){const c=Vn.useSupabaseClient(),[l,d]=D.useState(!1),[f,u]=D.useState("detailed"),[p,v]=D.useState(()=>{const h=s?Ir(s):{...Pr,...n?{biome:n}:{},...r?{type:r}:{}};return(!h.landmarks||h.landmarks.length===0)&&(h.landmarks=Dr()),h});D.useEffect(()=>{const h=s?Ir(s):{...Pr,...n?{biome:n}:{},...r?{type:r}:{}};if(!h.landmarks||h.landmarks.length===0)h.landmarks=Dr();else{const y=h.landmarks.some(C=>C.category==="terrestrial"),g=h.landmarks.some(C=>C.category==="gaseous");if(!y||!g){const C=Dr();if(!y){const b=C.find(w=>w.category==="terrestrial");b&&h.landmarks.push(b)}if(!g){const b=C.find(w=>w.category==="gaseous");b&&h.landmarks.push(b)}}}v(h)},[s,n,r]),D.useEffect(()=>{(async()=>{var w;const y=Number.parseInt(e);if(isNaN(y))return;const{data:g,error:C}=await c.from("classifications").select("classificationConfiguration").eq("id",y).single();if(C||!((w=g==null?void 0:g.classificationConfiguration)!=null&&w.exportedValue))return;const{exportedValue:b}=g.classificationConfiguration;v(N=>({...N,...b.mass&&{mass:b.mass},...b.radius&&{radius:b.radius}}))})()},[e,c]),D.useEffect(()=>{v(h=>({...h,density:Cc(h.mass,h.radius)}))},[p.mass,p.radius]);const x=()=>{switch(f){case"detailed":return"Detailed View";case"stylized":return"Stylized View";case"simple":return"Simple View";case"standard":return"Standard Render";default:return"Detailed View"}};return o.jsxs("div",{className:"w-full h-screen relative overflow-hidden",children:[o.jsxs(Le.Canvas,{camera:{position:[0,0,10],fov:45},children:[o.jsx("ambientLight",{intensity:.4}),o.jsx("pointLight",{position:[10,10,10],intensity:2}),o.jsx("pointLight",{position:[-10,-10,-10],intensity:.5,color:"#b0c4de"}),o.jsx("directionalLight",{position:[5,5,5],intensity:1.5,castShadow:!0}),o.jsx(ye.Environment,{preset:"sunset"}),f==="detailed"&&o.jsx(wc,{planetStats:p}),f==="stylized"&&o.jsxs(o.Fragment,{children:[o.jsx(Rc,{planetStats:p}),o.jsx(Mc,{planetStats:p})]}),f==="simple"&&o.jsx(jc,{planetStats:p}),f==="standard"&&o.jsx(Kc,{planetStats:p}),o.jsx(ye.Stars,{radius:100,depth:50,count:5e3,factor:4,saturation:0,fade:!0,speed:1}),o.jsx(ye.OrbitControls,{enableZoom:!0,enablePan:!0,enableRotate:!0}),o.jsxs("mesh",{position:[0,0,-15],children:[o.jsx("sphereGeometry",{args:[5,32,32]}),o.jsx("meshBasicMaterial",{color:"#4060ff",transparent:!0,opacity:.03})]})]},f),o.jsxs("div",{className:"absolute top-4 right-4 flex gap-2",children:[o.jsxs(Xp,{children:[o.jsx(Zp,{asChild:!0,children:o.jsxs(ve,{variant:"outline",size:"sm",className:"bg-black/50 hover:bg-black/70 text-white",children:[x(),o.jsx(On,{className:"ml-2 h-4 w-4"})]})}),o.jsxs(ac,{className:"bg-black/80 border-slate-700 text-white",children:[o.jsx($t,{className:f==="detailed"?"bg-cyan-900/40":"hover:bg-slate-700/50",onClick:()=>u("detailed"),children:"Detailed View"}),o.jsx($t,{className:f==="stylized"?"bg-cyan-900/40":"hover:bg-slate-700/50",onClick:()=>u("stylized"),children:"Stylized View"}),o.jsx($t,{className:f==="simple"?"bg-cyan-900/40":"hover:bg-slate-700/50",onClick:()=>u("simple"),children:"Simple View"}),o.jsx($t,{className:f==="standard"?"bg-cyan-900/40":"hover:bg-slate-700/50",onClick:()=>u("standard"),children:"Standard Render"})]})]}),o.jsx(ve,{variant:"outline",size:"icon",className:"bg-black/50 hover:bg-black/70 text-white",onClick:()=>d(!l),children:o.jsx(Cm,{className:"h-4 w-4"})})]}),l&&o.jsx(Bm,{planetStats:p,setPlanetStats:v,classificationId:e,author:t})]})}ke.PlanetGenerator=oh,Object.defineProperty(ke,Symbol.toStringTag,{value:"Module"})});
