(function(ke,D){typeof exports=="object"&&typeof module<"u"?D(exports,require("react"),require("@react-three/fiber"),require("@react-three/drei"),require("three"),require("react-dom")):typeof define=="function"&&define.amd?define(["exports","react","@react-three/fiber","@react-three/drei","three","react-dom"],D):(ke=typeof globalThis<"u"?globalThis:ke||self,D(ke.PlanetGenerator={},ke.React,ke.fiber,ke.drei,ke.THREE,ke.ReactDOM))})(this,function(ke,D,Le,ye,cc,Xn){"use strict";function Pr(e){const t=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const r in e)if(r!=="default"){const n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:()=>e[r]})}}return t.default=e,Object.freeze(t)}const m=Pr(D),S=Pr(cc),Gt=Pr(Xn);var Kt={exports:{}},St={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zn;function lc(){if(Zn)return St;Zn=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(n,s,a){var i=null;if(a!==void 0&&(i=""+a),s.key!==void 0&&(i=""+s.key),"key"in s){a={};for(var c in s)c!=="key"&&(a[c]=s[c])}else a=s;return s=a.ref,{$$typeof:e,type:n,key:i,ref:s!==void 0?s:null,props:a}}return St.Fragment=t,St.jsx=r,St.jsxs=r,St}var Tt={};/**
 * @license React
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jn;function uc(){return Jn||(Jn=1,process.env.NODE_ENV!=="production"&&function(){function e(E){if(E==null)return null;if(typeof E=="function")return E.$$typeof===O?null:E.displayName||E.name||null;if(typeof E=="string")return E;switch(E){case h:return"Fragment";case g:return"Profiler";case x:return"StrictMode";case N:return"Suspense";case A:return"SuspenseList";case P:return"Activity"}if(typeof E=="object")switch(typeof E.tag=="number"&&console.error("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),E.$$typeof){case b:return"Portal";case y:return(E.displayName||"Context")+".Provider";case C:return(E._context.displayName||"Context")+".Consumer";case w:var H=E.render;return E=E.displayName,E||(E=H.displayName||H.name||"",E=E!==""?"ForwardRef("+E+")":"ForwardRef"),E;case R:return H=E.displayName||null,H!==null?H:e(E.type)||"Memo";case j:H=E._payload,E=E._init;try{return e(E(H))}catch{}}return null}function t(E){return""+E}function r(E){try{t(E);var H=!1}catch{H=!0}if(H){H=console;var q=H.error,Y=typeof Symbol=="function"&&Symbol.toStringTag&&E[Symbol.toStringTag]||E.constructor.name||"Object";return q.call(H,"The provided key is an unsupported type %s. This value must be coerced to a string before using it here.",Y),t(E)}}function n(E){if(E===h)return"<>";if(typeof E=="object"&&E!==null&&E.$$typeof===j)return"<...>";try{var H=e(E);return H?"<"+H+">":"<...>"}catch{return"<...>"}}function s(){var E=k.A;return E===null?null:E.getOwner()}function a(){return Error("react-stack-top-frame")}function i(E){if(M.call(E,"key")){var H=Object.getOwnPropertyDescriptor(E,"key").get;if(H&&H.isReactWarning)return!1}return E.key!==void 0}function c(E,H){function q(){V||(V=!0,console.error("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://react.dev/link/special-props)",H))}q.isReactWarning=!0,Object.defineProperty(E,"key",{get:q,configurable:!0})}function l(){var E=e(this.type);return _[E]||(_[E]=!0,console.error("Accessing element.ref was removed in React 19. ref is now a regular prop. It will be removed from the JSX Element type in a future release.")),E=this.props.ref,E!==void 0?E:null}function f(E,H,q,Y,te,ae,ie,F){return q=ae.ref,E={$$typeof:v,type:E,key:H,props:ae,_owner:te},(q!==void 0?q:null)!==null?Object.defineProperty(E,"ref",{enumerable:!1,get:l}):Object.defineProperty(E,"ref",{enumerable:!1,value:null}),E._store={},Object.defineProperty(E._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:0}),Object.defineProperty(E,"_debugInfo",{configurable:!1,enumerable:!1,writable:!0,value:null}),Object.defineProperty(E,"_debugStack",{configurable:!1,enumerable:!1,writable:!0,value:ie}),Object.defineProperty(E,"_debugTask",{configurable:!1,enumerable:!1,writable:!0,value:F}),Object.freeze&&(Object.freeze(E.props),Object.freeze(E)),E}function u(E,H,q,Y,te,ae,ie,F){var G=H.children;if(G!==void 0)if(Y)if(L(G)){for(Y=0;Y<G.length;Y++)d(G[Y]);Object.freeze&&Object.freeze(G)}else console.error("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else d(G);if(M.call(H,"key")){G=e(E);var J=Object.keys(H).filter(function(re){return re!=="key"});Y=0<J.length?"{key: someKey, "+J.join(": ..., ")+": ...}":"{key: someKey}",I[G+Y]||(J=0<J.length?"{"+J.join(": ..., ")+": ...}":"{}",console.error(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,Y,G,J,G),I[G+Y]=!0)}if(G=null,q!==void 0&&(r(q),G=""+q),i(H)&&(r(H.key),G=""+H.key),"key"in H){q={};for(var Q in H)Q!=="key"&&(q[Q]=H[Q])}else q=H;return G&&c(q,typeof E=="function"?E.displayName||E.name||"Unknown":E),f(E,G,ae,te,s(),q,ie,F)}function d(E){typeof E=="object"&&E!==null&&E.$$typeof===v&&E._store&&(E._store.validated=1)}var p=D,v=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),h=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),g=Symbol.for("react.profiler"),C=Symbol.for("react.consumer"),y=Symbol.for("react.context"),w=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),j=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),O=Symbol.for("react.client.reference"),k=p.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M=Object.prototype.hasOwnProperty,L=Array.isArray,z=console.createTask?console.createTask:function(){return null};p={"react-stack-bottom-frame":function(E){return E()}};var V,_={},B=p["react-stack-bottom-frame"].bind(p,a)(),T=z(n(a)),I={};Tt.Fragment=h,Tt.jsx=function(E,H,q,Y,te){var ae=1e4>k.recentlyCreatedOwnerStacks++;return u(E,H,q,!1,Y,te,ae?Error("react-stack-top-frame"):B,ae?z(n(E)):T)},Tt.jsxs=function(E,H,q,Y,te){var ae=1e4>k.recentlyCreatedOwnerStacks++;return u(E,H,q,!0,Y,te,ae?Error("react-stack-top-frame"):B,ae?z(n(E)):T)}}()),Tt}var Qn;function eo(){return Qn||(Qn=1,process.env.NODE_ENV==="production"?Kt.exports=lc():Kt.exports=uc()),Kt.exports}var o=eo();const qt={"Rocky Highlands":{temperature:[240,320],atmosphereStrength:[.3,.7],cloudCount:[10,60],waterHeight:[0,.2],surfaceRoughness:[.5,1],plateTectonics:[.4,.9],biomassLevel:[.01,.2],waterLevel:[.1,.3],salinity:[.1,.5],volcanicActivity:[.2,.8],surfaceDeposits:["Bedrock","Big Rocks","Surface Cracks"]},"Barren Wasteland":{temperature:[180,260],atmosphereStrength:[.1,.5],cloudCount:[0,10],waterHeight:[0,.05],surfaceRoughness:[.2,.8],plateTectonics:[.1,.5],biomassLevel:[0,.05],waterLevel:[0,.1],salinity:[0,.3],volcanicActivity:[0,.3],surfaceDeposits:["Dust Deposits","Surface Cracks"]},"Arid Dunes":{temperature:[250,330],atmosphereStrength:[.2,.6],cloudCount:[5,40],waterHeight:[0,.2],surfaceRoughness:[.3,.9],plateTectonics:[.1,.4],biomassLevel:[0,.1],waterLevel:[0,.2],salinity:[0,.4],volcanicActivity:[.1,.6],surfaceDeposits:["Sand","Unconsolidated Soil"]},"Frigid Expanse":{temperature:[120,240],atmosphereStrength:[.4,.9],cloudCount:[20,100],waterHeight:[.1,.5],surfaceRoughness:[.2,.6],plateTectonics:[.1,.3],biomassLevel:[0,.3],waterLevel:[.2,.8],salinity:[.2,.8],volcanicActivity:[0,.2],surfaceDeposits:["Ice Sheets","Frozen Lakes"]},"Volcanic Terrain":{temperature:[300,1200],atmosphereStrength:[.5,1.2],cloudCount:[15,70],waterHeight:[0,.1],surfaceRoughness:[.7,1.2],plateTectonics:[.5,1],biomassLevel:[.02,.1],waterLevel:[0,.2],salinity:[0,.2],volcanicActivity:[.5,1.2],surfaceDeposits:["Volcanic Ash","Lava Fields"]},"Basalt Plains":{temperature:[220,350],atmosphereStrength:[.3,.8],cloudCount:[10,50],waterHeight:[0,.3],surfaceRoughness:[.3,.7],plateTectonics:[.3,.7],biomassLevel:[0,.15],waterLevel:[0,.3],salinity:[.1,.4],volcanicActivity:[.2,.6],surfaceDeposits:["Basaltic Rock","Mineral Deposits"]},"Sediment Flats":{temperature:[260,310],atmosphereStrength:[.4,.7],cloudCount:[20,60],waterHeight:[.1,.4],surfaceRoughness:[.1,.4],plateTectonics:[.1,.4],biomassLevel:[.05,.3],waterLevel:[.2,.5],salinity:[.2,.6],volcanicActivity:[0,.3],surfaceDeposits:["Clay","Fine Sand","Sulfate-Rich Soil"]},"Cratered Terrain":{temperature:[200,300],atmosphereStrength:[.1,.6],cloudCount:[5,40],waterHeight:[0,.2],surfaceRoughness:[.4,.9],plateTectonics:[0,.3],biomassLevel:[0,.1],waterLevel:[0,.2],salinity:[0,.3],volcanicActivity:[0,.4],surfaceDeposits:["Regolith","Dust Deposits"]},"Tundra Basin":{temperature:[180,270],atmosphereStrength:[.4,.8],cloudCount:[30,80],waterHeight:[.2,.5],surfaceRoughness:[.2,.5],plateTectonics:[.1,.4],biomassLevel:[.1,.4],waterLevel:[.3,.6],salinity:[.1,.4],volcanicActivity:[0,.2],surfaceDeposits:["Permafrost","Pebbles","Rocky Terrain"]},"Temperate Highlands":{temperature:[270,310],atmosphereStrength:[.5,.9],cloudCount:[40,90],waterHeight:[.3,.6],surfaceRoughness:[.4,.8],plateTectonics:[.3,.7],biomassLevel:[.3,.8],waterLevel:[.3,.7],salinity:[.2,.5],volcanicActivity:[.1,.4],surfaceDeposits:["Mineral-Rich Soil","Loam"]},"Oceanic World":{temperature:[260,320],atmosphereStrength:[.6,1],cloudCount:[60,100],waterHeight:[.9,1],surfaceRoughness:[.1,.3],plateTectonics:[.2,.6],biomassLevel:[.4,.9],waterLevel:[.9,1],salinity:[.5,.9],volcanicActivity:[.1,.5],surfaceDeposits:["Deep Water","Sedimentary Layers"]},"Tropical Jungle":{temperature:[290,330],atmosphereStrength:[.7,1],cloudCount:[70,100],waterHeight:[.4,.7],surfaceRoughness:[.3,.7],plateTectonics:[.2,.5],biomassLevel:[.7,1],waterLevel:[.5,.8],salinity:[.2,.4],volcanicActivity:[.1,.3],surfaceDeposits:["Dense Vegetation","Wet Soil"]},"Flood Basin":{temperature:[270,320],atmosphereStrength:[.5,.9],cloudCount:[50,90],waterHeight:[.5,.8],surfaceRoughness:[.1,.3],plateTectonics:[.1,.3],biomassLevel:[.3,.7],waterLevel:[.6,.9],salinity:[.3,.6],volcanicActivity:[0,.2],surfaceDeposits:["Silt","Muddy Terrain"]},"Coral Reefs":{temperature:[280,310],atmosphereStrength:[.6,.9],cloudCount:[40,80],waterHeight:[.6,.9],surfaceRoughness:[.2,.5],plateTectonics:[.1,.4],biomassLevel:[.6,.9],waterLevel:[.7,.9],salinity:[.6,.9],volcanicActivity:[0,.2],surfaceDeposits:["Limestone","Organic Deposits"]},"Dune Fields":{temperature:[270,350],atmosphereStrength:[.2,.6],cloudCount:[10,50],waterHeight:[0,.1],surfaceRoughness:[.3,.7],plateTectonics:[0,.3],biomassLevel:[0,.1],waterLevel:[0,.1],salinity:[0,.3],volcanicActivity:[0,.3],surfaceDeposits:["Fine Sand","Wind-Driven Erosion"]}};function to(e,t){return!qt[e]||!qt[e][t]?{temperature:[50,400],atmosphereStrength:[0,1],cloudCount:[0,100],waterHeight:[0,1],surfaceRoughness:[0,2],plateTectonics:[0,1],biomassLevel:[0,1],waterLevel:[0,1],salinity:[0,1],volcanicActivity:[0,1]}[t]||[0,1]:qt[e][t]}function dc(){return Object.keys(qt)}const fc={"Rocky Highlands":{oceanFloor:"#3D2314",beach:"#8D6E63",regular:"#A1887F",mountain:"#E0E0E0"},"Barren Wasteland":{oceanFloor:"#3E2723",beach:"#5D4037",regular:"#795548",mountain:"#A1887F"},"Arid Dunes":{oceanFloor:"#B59677",beach:"#D7CDA5",regular:"#E6D7B3",mountain:"#F5EED5"},"Frigid Expanse":{oceanFloor:"#78909C",beach:"#B0BEC5",regular:"#ECEFF1",mountain:"#FFFFFF"},"Volcanic Terrain":{oceanFloor:"#1A1A1A",beach:"#3E2723",regular:"#5D4037",mountain:"#795548"},"Basalt Plains":{oceanFloor:"#212121",beach:"#424242",regular:"#616161",mountain:"#9E9E9E"},"Sediment Flats":{oceanFloor:"#6D4C41",beach:"#8D6E63",regular:"#BCAAA4",mountain:"#D7CCC8"},"Cratered Terrain":{oceanFloor:"#424242",beach:"#616161",regular:"#9E9E9E",mountain:"#E0E0E0"},"Tundra Basin":{oceanFloor:"#546E7A",beach:"#78909C",regular:"#B0BEC5",mountain:"#ECEFF1"},"Temperate Highlands":{oceanFloor:"#2E7D32",beach:"#43A047",regular:"#66BB6A",mountain:"#A5D6A7"},"Oceanic World":{oceanFloor:"#01579B",beach:"#0288D1",regular:"#29B6F6",mountain:"#81D4FA"},"Tropical Jungle":{oceanFloor:"#1B5E20",beach:"#2E7D32",regular:"#43A047",mountain:"#66BB6A"},"Flood Basin":{oceanFloor:"#00695C",beach:"#00897B",regular:"#26A69A",mountain:"#80CBC4"},"Coral Reefs":{oceanFloor:"#0277BD",beach:"#039BE5",regular:"#29B6F6",mountain:"#81D4FA"},"Dune Fields":{oceanFloor:"#BF360C",beach:"#E64A19",regular:"#FF7043",mountain:"#FFAB91"}},mc={rocky:{r:0,g:-.05,b:-.05},sandy:{r:.1,g:.05,b:-.1},volcanic:{r:-.1,g:-.1,b:-.1},organic:{r:-.1,g:.1,b:-.1},dusty:{r:.05,g:0,b:-.05},frozen:{r:-.05,g:0,b:.1},muddy:{r:-.05,g:-.05,b:-.1}};function Yt(e,t){const r=mc[t]||{r:0,g:0,b:0},n=pc(e);return n.r=Math.max(0,Math.min(1,n.r+r.r)),n.g=Math.max(0,Math.min(1,n.g+r.g)),n.b=Math.max(0,Math.min(1,n.b+r.b)),hc(Math.floor(n.r*255),Math.floor(n.g*255),Math.floor(n.b*255))}function pc(e){const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:Number.parseInt(t[1],16)/255,g:Number.parseInt(t[2],16)/255,b:Number.parseInt(t[3],16)/255}:{r:0,g:0,b:0}}function hc(e,t,r){return"#"+((1<<24)+(e<<16)+(t<<8)+r).toString(16).slice(1)}function Mt(e){return fc[e]||{oceanFloor:"#3D2314",beach:"#8D6E63",regular:"#A1887F",mountain:"#E0E0E0"}}const gc=`
  varying vec2 vUv;
  varying vec3 vNormal;
  varying vec3 vPosition;
  varying float vElevation;
  
  uniform float time;
  uniform float surfaceRoughness;
  uniform float mountainHeight;
  uniform float isGaseous;
  uniform int soilType;
  uniform int soilTexture;
  uniform float landmarkPositions[30]; // Support up to 10 landmarks (x,y,z for each)
  uniform float landmarkInfluences[40]; // Support up to 10 landmarks (radius,height,roughness,type for each)
  uniform int landmarkCount;
  
  // Simplex 3D Noise
  vec4 permute(vec4 x){return mod(((x*34.0)+1.0)*x, 289.0);}
  vec4 taylorInvSqrt(vec4 r){return 1.79284291400159 - 0.85373472095314 * r;}

  float snoise(vec3 v){ 
    const vec2 C = vec2(1.0/6.0, 1.0/3.0);
    const vec4 D = vec4(0.0, 0.5, 1.0, 2.0);

    vec3 i = floor(v + dot(v, C.yyy));
    vec3 x0 = v - i + dot(i, C.xxx);

    vec3 g = step(x0.yzx, x0.xyz);
    vec3 l = 1.0 - g;
    vec3 i1 = min(g.xyz, l.zxy);
    vec3 i2 = max(g.xyz, l.zxy);

    vec3 x1 = x0 - i1 + 1.0 * C.xxx;
    vec3 x2 = x0 - i2 + 2.0 * C.xxx;
    vec3 x3 = x0 - 1. + 3.0 * C.xxx;

    i = mod(i, 289.0); 
    vec4 p = permute(permute(permute( 
              i.z + vec4(0.0, i1.z, i2.z, 1.0))
            + i.y + vec4(0.0, i1.y, i2.y, 1.0)) 
            + i.x + vec4(0.0, i1.x, i2.x, 1.0));

    float n_ = 1.0/7.0;
    vec3 ns = n_ * D.wyz - D.xzx;

    vec4 j = p - 49.0 * floor(p * ns.z *ns.z);

    vec4 x_ = floor(j * ns.z);
    vec4 y_ = floor(j - 7.0 * x_);

    vec4 x = x_ *ns.x + ns.yyyy;
    vec4 y = y_ *ns.x + ns.yyyy;
    vec4 h = 1.0 - abs(x) - abs(y);

    vec4 b0 = vec4(x.xy, y.xy);
    vec4 b1 = vec4(x.zw, y.zw);

    vec4 s0 = floor(b0)*2.0 + 1.0;
    vec4 s1 = floor(b1)*2.0 + 1.0;
    vec4 sh = -step(h, vec4(0.0));

    vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy;
    vec4 a1 = b1.xzyw + s1.xzyw*sh.zzww;

    vec3 p0 = vec3(a0.xy,h.x);
    vec3 p1 = vec3(a0.zw,h.y);
    vec3 p2 = vec3(a1.xy,h.z);
    vec3 p3 = vec3(a1.zw,h.w);

    vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));
    p0 *= norm.x;
    p1 *= norm.y;
    p2 *= norm.z;
    p3 *= norm.w;

    vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);
    m = m * m;
    return 42.0 * dot(m*m, vec4(dot(p0,x0), dot(p1,x1), dot(p2,x2), dot(p3,x3)));
  }

  // Fractal Brownian Motion with reduced octaves for less fuzziness
  float fbm(vec3 p, int octaves) {
    float value = 0.0;
    float amplitude = 1.0;
    float frequency = 1.0;
    float persistence = 0.5;
    
    for (int i = 0; i < octaves; i++) {
      value += amplitude * snoise(p * frequency);
      amplitude *= persistence;
      frequency *= 2.0;
    }
    
    return value;
  }

  // Soil texture function with reduced intensity
  float getSoilTexture(vec3 pos, int textureType) {
    float detail = 0.0;
    
    // Scale and depth based on texture type
    float scale = 1.0;
    float depth = 0.05;
    
    if (textureType == 0) { // smooth
      scale = 5.0; depth = 0.01;
    } else if (textureType == 1) { // rough
      scale = 15.0; depth = 0.05;
    } else if (textureType == 2) { // cracked
      scale = 20.0; depth = 0.08;
      float crack1 = snoise(pos * scale * 2.0);
      float crack2 = snoise(pos * scale * 5.0);
      return (abs(crack1) < 0.1 ? depth * 1.5 : 0.0) + (abs(crack2) < 0.05 ? depth * 0.8 : 0.0);
    } else if (textureType == 3) { // layered
      scale = 12.0; depth = 0.04;
      float layer = snoise(pos * scale * 0.5);
      return sin(layer * 20.0) * depth * 0.8;
    } else if (textureType == 4) { // porous
      scale = 25.0; depth = 0.06;
      float pore = snoise(pos * scale * 4.0);
      return pore > 0.8 ? depth * 1.5 : 0.0;
    } else if (textureType == 5) { // grainy
      scale = 30.0; depth = 0.03;
      float grain1 = snoise(pos * scale * 8.0);
      float grain2 = snoise(pos * scale * 12.0);
      return grain1 * grain2 * depth;
    } else if (textureType == 6) { // crystalline
      scale = 18.0; depth = 0.07;
      float crystal = snoise(pos * scale * 3.0);
      return (crystal > 0.7 || crystal < -0.7) ? depth * 1.2 : 0.0;
    }
    
    // Default noise pattern
    float defaultNoise = snoise(pos * scale);
    return defaultNoise * depth * 0.5;
  }

  // Calculate landmark terrain influence
  vec2 calculateLandmarkInfluence(vec3 position) {
    float totalHeight = 0.0;
    float totalRoughness = 0.0;
    float totalWeight = 0.0;
    
    for (int i = 0; i < 10; i++) {
      if (i >= landmarkCount) break;
      
      // Get landmark position from flat array (3 floats per landmark)
      int posIndex = i * 3;
      vec3 landmarkPos = vec3(
        landmarkPositions[posIndex],
        landmarkPositions[posIndex + 1],
        landmarkPositions[posIndex + 2]
      );
      
      // Get landmark influence from flat array (4 floats per landmark)
      int infIndex = i * 4;
      float radius = landmarkInfluences[infIndex];
      float height = landmarkInfluences[infIndex + 1];
      float roughness = landmarkInfluences[infIndex + 2];
      float type = landmarkInfluences[infIndex + 3];
      
      // Calculate distance to landmark
      float distance = length(position - landmarkPos);
      
      // If within influence radius
      if (distance <= radius) {
        // Calculate weight based on distance (closer = stronger influence)
        float weight = 1.0 - (distance / radius);
        float heightInfluence = 0.0;
        
        // Different influence types have different height profiles
        if (type < 0.5) {
          // Crater: depression with raised rim
          float rimFactor = distance / radius;
          if (rimFactor > 0.8) {
            heightInfluence = height * 0.5 * (1.0 - (rimFactor - 0.8) * 5.0);
          } else {
            heightInfluence = height * (distance / radius);
          }
        } 
        else if (type < 1.5) {
          // Mountain: raised area that tapers off with distance
          heightInfluence = height * pow(1.0 - distance / radius, 2.0);
        }
        else if (type < 2.5) {
          // Valley: depression that's deeper in the center
          heightInfluence = height * pow(1.0 - distance / radius, 1.5);
        }
        else if (type < 3.5) {
          // Volcano: steep cone with central depression
          float normalizedDist = distance / radius;
          if (normalizedDist < 0.2) {
            // Central depression (caldera)
            heightInfluence = height * -0.3;
          } else {
            // Cone shape
            heightInfluence = height * pow(1.0 - normalizedDist, 1.2);
          }
        }
        else if (type < 4.5) {
          // Ice cap: gentle dome with smooth edges
          heightInfluence = height * pow(cos(3.14159 * distance / radius / 2.0), 2.0);
        }
        else if (type < 5.5) {
          // Ocean: depression with flat bottom
          heightInfluence = height * min(1.0, distance / (radius * 0.2));
        }
        else {
          // Custom or undefined: simple linear falloff
          heightInfluence = height * weight;
        }
        
        // Add weighted contributions
        totalHeight += heightInfluence * weight;
        totalRoughness += roughness * weight;
        totalWeight += weight;
      }
    }
    
    // Normalize by total weight if any landmarks had influence
    if (totalWeight > 0.0) {
      return vec2(totalHeight / totalWeight, totalRoughness / totalWeight);
    }
    
    return vec2(0.0, 0.0);
  }

  void main() {
    vUv = uv;
    vNormal = normal;
    vPosition = position;
    
    vec3 pos = position;
    float elevation = 0.0;
    
    if (isGaseous > 0.5) {
      // Gas giant features
      float bands = sin(pos.y * 10.0 + time * 0.1) * 0.5;
      float storms = snoise(pos * vec3(2.0, 8.0, 2.0) + time * 0.15) * 0.5;
      float cyclones = snoise(pos * vec3(4.0, 1.0, 4.0) + time * 0.05) * 0.25;
      
      elevation = mix(bands, storms, 0.5) + cyclones;
      elevation *= 0.05; // Reduced distortion for gas giants
      
      // Apply landmark influences (storms, etc.)
      vec2 landmarkEffect = calculateLandmarkInfluence(normalize(pos));
      elevation += landmarkEffect.x * 0.5; // Reduced effect for gas giants
    } else {
      // Terrestrial features - use FBM with fewer octaves for less fuzziness
      float baseNoise = fbm(pos * surfaceRoughness + time * 0.01, 5);
    
      // Apply mountain height
      baseNoise *= mountainHeight;
      
      // Apply soil texture with reduced intensity
      float textureDetail = getSoilTexture(pos, soilTexture) * 0.7;
      
      // Adjust texture based on soil type
      if (soilType == 2) { // volcanic
        textureDetail *= 1.5;
      } else if (soilType == 1) { // sandy
        textureDetail *= 0.7;
      }
      
      elevation = baseNoise - textureDetail;
      
      // Apply landmark influences
      vec2 landmarkEffect = calculateLandmarkInfluence(normalize(pos));
      elevation += landmarkEffect.x;
      
      // Add additional roughness from landmarks
      if (landmarkEffect.y > 0.0) {
        float additionalRoughness = snoise(pos * 20.0 * landmarkEffect.y) * landmarkEffect.y * 0.2;
        elevation += additionalRoughness;
      }
      
      elevation *= 0.08; // Scale for terrestrial planets
    }
    
    vElevation = elevation;
    
    // Apply displacement
    pos += normal * elevation;
    
    gl_Position = projectionMatrix * modelViewMatrix * vec4(pos, 1.0);
  }
`,vc=`
  varying vec2 vUv;
  varying vec3 vNormal;
  varying vec3 vPosition;
  varying float vElevation;
  
  uniform vec3 oceanColor;
  uniform vec3 beachColor;
  uniform vec3 landColor;
  uniform vec3 mountainColor;
  uniform float time;
  uniform float waterLevel;
  uniform float isGaseous;
  uniform float liquidEnabled;
  uniform int soilType;
  
  // Simplex 3D Noise
  vec4 permute(vec4 x){return mod(((x*34.0)+1.0)*x, 289.0);}
  vec4 taylorInvSqrt(vec4 r){return 1.79284291400159 - 0.85373472095314 * r;}

  float snoise(vec3 v){ 
    const vec2 C = vec2(1.0/6.0, 1.0/3.0);
    const vec4 D = vec4(0.0, 0.5, 1.0, 2.0);

    vec3 i = floor(v + dot(v, C.yyy));
    vec3 x0 = v - i + dot(i, C.xxx);

    vec3 g = step(x0.yzx, x0.xyz);
    vec3 l = 1.0 - g;
    vec3 i1 = min(g.xyz, l.zxy);
    vec3 i2 = max(g.xyz, l.zxy);

    vec3 x1 = x0 - i1 + 1.0 * C.xxx;
    vec3 x2 = x0 - i2 + 2.0 * C.xxx;
    vec3 x3 = x0 - 1. + 3.0 * C.xxx;

    i = mod(i, 289.0); 
    vec4 p = permute(permute(permute( 
              i.z + vec4(0.0, i1.z, i2.z, 1.0))
            + i.y + vec4(0.0, i1.y, i2.y, 1.0)) 
            + i.x + vec4(0.0, i1.x, i2.x, 1.0));

    float n_ = 1.0/7.0;
    vec3 ns = n_ * D.wyz - D.xzx;

    vec4 j = p - 49.0 * floor(p * ns.z *ns.z);

    vec4 x_ = floor(j * ns.z);
    vec4 y_ = floor(j - 7.0 * x_);

    vec4 x = x_ *ns.x + ns.yyyy;
    vec4 y = y_ *ns.x + ns.yyyy;
    vec4 h = 1.0 - abs(x) - abs(y);

    vec4 b0 = vec4(x.xy, y.xy);
    vec4 b1 = vec4(x.zw, y.zw);

    vec4 s0 = floor(b0)*2.0 + 1.0;
    vec4 s1 = floor(b1)*2.0 + 1.0;
    vec4 sh = -step(h, vec4(0.0));

    vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy;
    vec4 a1 = b1.xzyw + s1.xzyw*sh.zzww;

    vec3 p0 = vec3(a0.xy,h.x);
    vec3 p1 = vec3(a0.zw,h.y);
    vec3 p2 = vec3(a1.xy,h.z);
    vec3 p3 = vec3(a1.zw,h.w);

    vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));
    p0 *= norm.x;
    p1 *= norm.y;
    p2 *= norm.z;
    p3 *= norm.w;

    vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);
    m = m * m;
    return 42.0 * dot(m*m, vec4(dot(p0,x0), dot(p1,x1), dot(p2,x2), dot(p3,x3)));
  }

  void main() {
    vec3 normal = normalize(vNormal);

    // Simple ambient occlusion based on elevation
    float ao = 1.0 - abs(vElevation) * 2.0;
    ao = max(0.4, ao);
    
    // Static light direction for consistent lighting
    vec3 lightDir = normalize(vec3(0.0, 0.3, 1.0));
    
    // Basic lighting calculation - fixed intensity
    float lightFactor = 0.8;
  
    vec3 color;
  
    if (isGaseous > 0.5) {
      // Gas giant coloring
      float bands = sin(vPosition.y * 10.0 + time * 0.1) * 0.5 + 0.5;
      float storms = smoothstep(0.4, 0.6, snoise(vPosition * 2.0 + time * 0.15));
      float cyclones = smoothstep(0.3, 0.7, snoise(vPosition * vec3(4.0, 1.0, 4.0) + time * 0.05));
    
      // Use ocean and land colors for gas giants
      color = mix(oceanColor, landColor, bands);
      color = mix(color, mountainColor, storms * 0.5);
      color = mix(color, vec3(1.0), cyclones * 0.2);
    
      // Add subtle atmospheric glow
      float atmosphere = pow(1.0 - abs(dot(normal, vec3(0.0, 0.0, 1.0))), 2.0);
      color += vec3(0.1, 0.15, 0.25) * atmosphere;
    } else {
      // Terrestrial coloring based on elevation
      float normalizedElevation = (vElevation + 0.08) / 0.16; // Normalize to 0-1 range
    
      if (liquidEnabled > 0.5 && normalizedElevation < waterLevel) {
        // Water areas
        float depth = (waterLevel - normalizedElevation) / waterLevel;
        color = mix(beachColor, oceanColor, depth * 2.0);
      
        // Add water effects
        float waterNoise = snoise(vPosition * 20.0 + time * 0.1) * 0.02;
        color += vec3(waterNoise);
      
        // Add water shine
        float fresnel = pow(1.0 - abs(dot(normal, vec3(0.0, 0.0, 1.0))), 2.0);
        float shine = pow(fresnel, 4.0) * 0.3;
        color += vec3(shine);
      } else {
        // Land areas
        if (normalizedElevation < waterLevel + 0.05) {
          // Beach/shore
          color = beachColor;
        } else if (normalizedElevation < waterLevel + 0.3) {
          // Regular terrain
          float t = (normalizedElevation - (waterLevel + 0.05)) / 0.25;
          color = mix(beachColor, landColor, t);
        } else {
          // Mountains
          float t = (normalizedElevation - (waterLevel + 0.3)) / 0.7;
          color = mix(landColor, mountainColor, t);
        }
      
        // Add soil type variations with reduced intensity
        float soilNoise = snoise(vPosition * 10.0) * 0.05;
      
        // Different soil type effects
        if (soilType == 0) { // rocky
          color *= 0.95 + soilNoise;
        } else if (soilType == 1) { // sandy
          color = mix(color, beachColor, 0.15);
          color += vec3(soilNoise * 0.15);
        } else if (soilType == 2) { // volcanic
          color *= 0.85;
          if (soilNoise > 0.03) color += vec3(0.08, 0.0, 0.0);
        } else if (soilType == 3) { // organic
          color = mix(color, vec3(0.2, 0.5, 0.2), 0.25);
        } else if (soilType == 4) { // dusty
          color = mix(color, vec3(0.6, 0.5, 0.4), 0.25);
        } else if (soilType == 5) { // frozen
          color = mix(color, vec3(0.8, 0.9, 1.0), 0.3);
          color += vec3(soilNoise * 0.2);
        } else if (soilType == 6) { // muddy
          color = mix(color, vec3(0.3, 0.2, 0.1), 0.3);
        }
      }
    }
    
    // Apply ambient occlusion
    color *= ao;
    
    // Apply fixed light intensity
    color *= lightFactor;
    
    gl_FragColor = vec4(color, 1.0);
  }
`,xc=`
  varying vec3 vNormal;
  varying vec2 vUv;
  
  void main() {
    vNormal = normalize(normalMatrix * normal);
    vUv = uv;
    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
  }
`,yc=`
  uniform float time;
  uniform vec3 color;
  uniform float strength;
  
  varying vec3 vNormal;
  varying vec2 vUv;
  
  void main() {
    float intensity = pow(0.7 - abs(dot(vNormal, vec3(0, 0, 1))), 1.5);
    vec3 atmosphereColor = color * intensity * strength;
    gl_FragColor = vec4(atmosphereColor, intensity * strength * 0.7);
  }
`,bc=`
  uniform float time;
  varying vec2 vUv;
  varying vec3 vNormal;

  void main() {
    vUv = uv;
    vNormal = normal;
    
    // Add some movement to the clouds
    vec3 pos = position;
    pos += normal * sin(pos.x * 10.0 + time * 0.5) * 0.005;
    
    gl_Position = projectionMatrix * modelViewMatrix * vec4(pos, 1.0);
  }
`,wc=`
  uniform float time;
  uniform float cloudCount;
  varying vec2 vUv;
  varying vec3 vNormal;

  float rand(vec2 co) {
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
  }

  void main() {
    vec2 uv = vUv;
    
    // Create cloud-like patterns
    float noise = rand(uv + time * 0.1) * 0.5 + 0.5;
    noise += rand(uv * 2.0 - time * 0.05) * 0.25;
    noise += rand(uv * 4.0 + time * 0.1) * 0.125;
    noise /= 1.875;
    
    // Adjust cloud coverage based on cloudCount
    float coverage = cloudCount / 100.0;
    noise = smoothstep(0.5 - coverage * 0.4, 0.6, noise);
    
    // Create holes in the clouds
    float holes = rand(uv * 8.0 - time * 0.02);
    noise *= smoothstep(0.4, 0.6, holes);
    
    // Fade out at the edges for a more natural look
    float fadeEdges = pow(1.0 - abs(dot(vNormal, vec3(0.0, 0.0, 1.0))), 2.0);
    noise *= fadeEdges;
    
    gl_FragColor = vec4(1.0, 1.0, 1.0, noise * 0.5);
  }
`;function ro({pointInfo:e,planetStats:t}){const r=n=>n.toFixed(3);return o.jsx(ye.Html,{position:[0,0,0],style:{position:"absolute",right:"20px",top:"20px",pointerEvents:"none"},children:o.jsxs("div",{className:"w-64 bg-black/90 text-green-400 p-4 font-mono text-xs border border-green-500/30 rounded-md",children:[o.jsx("h3",{className:"text-sm font-bold mb-2 border-b border-green-500/30 pb-1",children:"SURFACE SCAN"}),o.jsxs("div",{className:"grid grid-cols-2 gap-y-1 gap-x-2",children:[o.jsx("span",{className:"text-green-500/70",children:"COORDINATES:"}),o.jsxs("span",{children:["X: ",r(e.normalizedPosition.x),o.jsx("br",{}),"Y: ",r(e.normalizedPosition.y),o.jsx("br",{}),"Z: ",r(e.normalizedPosition.z)]}),o.jsx("span",{className:"text-green-500/70",children:"ELEVATION:"}),o.jsxs("span",{children:[(e.height*100).toFixed(1)," units"]}),o.jsx("span",{className:"text-green-500/70",children:"TERRAIN:"}),o.jsx("span",{children:e.terrainType}),o.jsx("span",{className:"text-green-500/70",children:"TEMPERATURE:"}),o.jsxs("span",{children:[e.temperature.toFixed(1)," K",o.jsx("br",{}),"(",(e.temperature-273.15).toFixed(1),"°C)"]}),o.jsx("span",{className:"text-green-500/70",children:"REL TO FREEZE:"}),o.jsxs("span",{className:e.relativeToWaterTemp<0?"text-blue-400":"text-red-400",children:[e.relativeToWaterTemp>0?"+":"",e.relativeToWaterTemp.toFixed(1)," K"]})]}),o.jsx("div",{className:"mt-2 pt-1 border-t border-green-500/30 text-center text-green-500/50",children:"Click elsewhere to scan another location"})]})})}function Cc({planetStats:e}){const t=D.useRef(null),r=D.useRef(null),n=D.useRef(null),[s,a]=D.useState(null),{raycaster:i,camera:c,gl:l}=Le.useThree(),{planetMaterial:f,atmosphereMaterial:u,cloudsMaterial:d}=D.useMemo(()=>{const g=e.customColors||Mt(e.biome||"Rocky Highlands"),C=new S.ShaderMaterial({uniforms:{time:{value:0},oceanColor:{value:new S.Color(g.oceanFloor||"#1E4D6B")},beachColor:{value:new S.Color(g.beach||"#8D6E63")},landColor:{value:new S.Color(g.regular||"#A1887F")},mountainColor:{value:new S.Color(g.mountain||"#D7CCC8")},waterLevel:{value:e.waterLevel||.65},surfaceRoughness:{value:e.surfaceRoughness||.5},mountainHeight:{value:e.mountainHeight||.6},isGaseous:{value:e.mass>7||e.radius>2.5?1:0},soilType:{value:["rocky","sandy","volcanic","organic","dusty","frozen","muddy"].indexOf(e.soilType||"rocky")},soilTexture:{value:["smooth","rough","cracked","layered","porous","grainy","crystalline"].indexOf(e.soilTexture||"rough")},liquidEnabled:{value:e.liquidEnabled!==!1?1:0},landmarkPositions:{value:new Float32Array(30)},landmarkInfluences:{value:new Float32Array(40)},landmarkCount:{value:0}},vertexShader:gc,fragmentShader:vc}),y=new S.ShaderMaterial({uniforms:{time:{value:0},color:{value:new S.Color(8900331)},strength:{value:e.atmosphereStrength||.8}},vertexShader:xc,fragmentShader:yc,transparent:!0,side:S.DoubleSide,depthWrite:!1}),w=new S.ShaderMaterial({uniforms:{time:{value:0},cloudCount:{value:e.cloudCount||30}},vertexShader:bc,fragmentShader:wc,transparent:!0,depthWrite:!1});return{planetMaterial:C,atmosphereMaterial:y,cloudsMaterial:w}},[e]);D.useEffect(()=>{if(!e.landmarks||e.landmarks.length===0){f.uniforms.landmarkCount.value=0;return}const g=e.landmarks.slice(0,10),C=[],y=[];g.forEach(w=>{const N=new S.Vector3(w.coordinates.x,w.coordinates.y,w.coordinates.z).normalize();C.push(N.x,N.y,N.z);let A=1;switch(w.influence_type){case"crater":A=0;break;case"mountain":A=1;break;case"valley":A=2;break;case"volcano":A=3;break;case"glacier":A=4;break;case"basin":A=5;break;default:A=6}y.push(w.influence_radius||.5,w.influence_strength||.7,w.influence_roughness||.5,A)}),f.uniforms.landmarkPositions.value=C,f.uniforms.landmarkInfluences.value=y,f.uniforms.landmarkCount.value=g.length},[e.landmarks,f.uniforms]);const p=g=>{if(g.stopPropagation(),!t.current)return;const C=new S.Vector2(g.clientX/l.domElement.clientWidth*2-1,-(g.clientY/l.domElement.clientHeight)*2+1);i.setFromCamera(C,c);const y=i.intersectObject(t.current);if(y.length>0){const w=y[0].point,N=w.clone().normalize(),A=f.uniforms.surfaceRoughness.value*f.uniforms.mountainHeight.value*.08*Math.sin(w.x*10+w.y*10+w.z*10),R=f.uniforms.waterLevel.value;let j="Mountain";A<-.05?j="Ocean Floor":A<R?j="Beach":A<R+.1&&(j="Lowland");const P=e.temperature,O=A*10,k=P-O,L=k-273;a({position:w,normalizedPosition:N,height:A,terrainType:j,temperature:k,relativeToWaterTemp:L})}};Le.useFrame(g=>{t.current&&(t.current.rotation.y+=.001,f.uniforms.time.value=g.clock.elapsedTime),r.current&&(r.current.rotation.y+=5e-4,u.uniforms.time.value=g.clock.elapsedTime),n.current&&(n.current.rotation.y+=.0012,d.uniforms.time.value=g.clock.elapsedTime)});const b=!(e.mass>7||e.radius>2.5)&&e.cloudCount&&e.cloudCount>0,h=(g,C)=>g>7||C>2.5?"gaseous":"terrestrial",x=D.useMemo(()=>{if(!e.landmarks||e.landmarks.length===0)return null;const C=h(e.mass,e.radius)==="gaseous";return e.landmarks.filter(w=>{if(!w.category){const N=["storm","vortex","band","spot","turbulent","cyclone","anticyclone","zonal_flow"];return C?N.includes(w.influence_type||""):!N.includes(w.influence_type||"")}return C?w.category==="gaseous":w.category==="terrestrial"}).map((w,N)=>{const{x:A,y:R,z:j}=w.coordinates,P=new S.Vector3(A,R,j).normalize().multiplyScalar(e.radius*1.02);let O="#22c55e";w.type.includes("Volcano")||w.type.includes("Storm")?O="#ef4444":w.type.includes("Ocean")||w.type.includes("Water")?O="#3b82f6":w.type.includes("Ice")||w.type.includes("Frozen")?O="#a5f3fc":(w.type.includes("Sand")||w.type.includes("Desert"))&&(O="#fcd34d");const k=w.visual_effect&&w.visual_effect!=="None";return o.jsxs("group",{position:[P.x,P.y,P.z],children:[o.jsxs("mesh",{children:[o.jsx("sphereGeometry",{args:[.03,16,16]}),o.jsx("meshBasicMaterial",{color:O})]}),k&&o.jsxs("mesh",{children:[o.jsx("sphereGeometry",{args:[.05,16,16]}),o.jsx("meshBasicMaterial",{color:O,transparent:!0,opacity:.3,depthWrite:!1})]}),o.jsx(ye.Html,{position:[0,.1,0],center:!0,distanceFactor:10,occlude:!0,children:o.jsx("div",{className:"bg-black/80 text-green-400 px-2 py-1 text-xs font-mono rounded border border-green-500/50 whitespace-nowrap",children:w.classification_id})})]},N)})},[e.landmarks,e.radius,e.mass]);return o.jsxs(o.Fragment,{children:[o.jsxs("group",{onClick:p,children:[o.jsx(ye.Sphere,{ref:t,args:[1,256,256],scale:e.radius,children:o.jsx("primitive",{object:f,attach:"material"})}),o.jsx(ye.Sphere,{ref:r,args:[1.1,128,128],scale:e.radius,children:o.jsx("primitive",{object:u,attach:"material"})}),b&&o.jsx(ye.Sphere,{ref:n,args:[1.02,128,128],scale:e.radius,children:o.jsx("primitive",{object:d,attach:"material"})}),x]}),s&&o.jsx(ro,{pointInfo:s,planetStats:e})]})}const Ir={mass:1,radius:1,density:5.51,temperature:288,surfaceRoughness:.5,terrainErosion:.3,waterLevel:.65,biomassLevel:.2,plateTectonics:.8,soilType:"rocky",soilTexture:"rough",atmosphereStrength:.8,liquidType:"water",salinity:.35,precipitationCompound:"water",biome:"Rocky Highlands",mountainHeight:.6,hasRings:!1,cloudCount:30,volcanicActivity:.3,waterHeight:.65,liquidEnabled:!0,landmarks:[{classification_id:"LM-001",type:"Mountain Peak",visual_effect:"None",image_link:"",coordinates:{x:.5,y:.8,z:.3},events:[],influence_type:"mountain",influence_radius:.5,influence_strength:.7,influence_roughness:.5,category:"terrestrial"}]};function no(e,t){return e/Math.pow(t,3)*5.51}function et(e,t){return e>7||t>2.5?"gaseous":"terrestrial"}function oo(e){return e>=273&&e<=373?{type:"water",color:"#1E4D6B"}:e>=91&&e<=112?{type:"methane",color:"#7FB3D5"}:e>=63&&e<=77?{type:"nitrogen",color:"#90EE90"}:e>=195&&e<=240?{type:"ammonia",color:"#D8BFD8"}:e>=90&&e<=184?{type:"ethane",color:"#FFD700"}:{type:"none",color:"#8B4513"}}function so(e,t){const n={water:[273,373],methane:[91,112],nitrogen:[63,77],ammonia:[195,240],ethane:[90,184]}[t];return n?e>=n[0]&&e<=n[1]:!1}var Re=(e=>(e[e.OceanFloor=0]="OceanFloor",e[e.Beach=1]="Beach",e[e.Regular=2]="Regular",e[e.Mountain=3]="Mountain",e))(Re||{});function Nc(e){const t={smooth:{scale:5,depth:.01,irregularity:.1,pattern:"noise"},rough:{scale:15,depth:.05,irregularity:.7,pattern:"noise"},cracked:{scale:20,depth:.08,irregularity:.6,pattern:"cracks"},layered:{scale:12,depth:.04,irregularity:.3,pattern:"layers"},porous:{scale:25,depth:.06,irregularity:.5,pattern:"pores"},grainy:{scale:30,depth:.03,irregularity:.8,pattern:"grains"},crystalline:{scale:18,depth:.07,irregularity:.4,pattern:"crystals"}};return t[e]||t.rough}function kc(e,t){const r=(e+.15)/.3;return r<t-.2?0:r<t?1:r<t+.4?2:3}function Dr(e){const t={...Ir,...e};return(e.mass!==void 0||e.radius!==void 0)&&(t.density=no(t.mass,t.radius)),(!t.landmarks||t.landmarks.length===0)&&(t.landmarks=Xt(t)),t}function Xt(e){const t=[],r=()=>{const b=Math.random()*Math.PI*2,h=Math.random()*Math.PI,x=Math.sin(h)*Math.cos(b),g=Math.sin(h)*Math.sin(b),C=Math.cos(h);return{x,y:g,z:C}},n=()=>`LM-${Math.floor(Math.random()*900+100)}`,s=e.biome||"Rocky Highlands";let a="Mountain Peak",i="None",c="mountain",l=.5,f=.7,u=.5;s.includes("Ocean")?(a="Oceanic Trench",i="Bioluminescence",c="valley",l=.6,f=.5,u=.2):s.includes("Volcanic")?(a="Active Volcano",i="Smoke Plume",c="volcano",l=.4,f=.8,u=.7):s.includes("Jungle")||s.includes("Tropical")?(a="Dense Vegetation",i="Mist",c="mountain",l=.5,f=.4,u=.3):s.includes("Dune")||s.includes("Desert")||s.includes("Arid")?(a="Sand Formation",i="Dust Storm",c="dune",l=.7,f=.5,u=.2):(s.includes("Frigid")||s.includes("Tundra"))&&(a="Ice Formation",i="Aurora",c="glacier",l=.6,f=.4,u=.1),t.push({classification_id:n(),type:a,visual_effect:i,image_link:"",coordinates:r(),events:[],influence_type:c,influence_radius:l,influence_strength:f,influence_roughness:u,category:"terrestrial"});const d=["Great Storm","Cyclonic Formation","Atmospheric Bands","Vortex"],p=["Lightning","Color Shift","Turbulence"],v=["storm","vortex","band","spot","cyclone","anticyclone","zonal_flow"];return t.push({classification_id:n(),type:d[Math.floor(Math.random()*d.length)],visual_effect:p[Math.floor(Math.random()*p.length)],image_link:"",coordinates:r(),events:[],influence_type:v[Math.floor(Math.random()*v.length)],influence_radius:.5+Math.random()*.5,influence_strength:.4+Math.random()*.4,influence_roughness:.6+Math.random()*.3,category:"gaseous"}),t}function Ec(e,t,r){if(!t.influence_radius||!t.influence_strength)return 0;const n=new S.Vector3(t.coordinates.x,t.coordinates.y,t.coordinates.z).normalize(),s=e.dot(n),i=Math.acos(Math.max(-1,Math.min(1,s)))*r,c=t.influence_radius*r;return i<=c?t.influence_strength*(1-i/c):0}function jc(e,t,r){switch(r){case"crater":return e-t*.5;case"mountain":return e+t*.8;case"valley":return e-t*.6;case"volcano":return e+t*.9;case"basin":return e-t*.4;case"dune":return e+t*.5*Math.sin(e*10);case"glacier":return e+t*.4;case"storm":case"vortex":case"band":case"spot":return e+t*.3;default:return e}}function ao(e,t,r){let n=0,s=0;return t&&t.forEach(a=>{if(!a.influence_radius||!a.influence_strength)return;const i=new S.Vector3(a.coordinates.x,a.coordinates.y,a.coordinates.z).normalize().multiplyScalar(r),c=e.distanceTo(i),l=a.influence_radius*r;if(c<l){const f=c/l,u=a.influence_strength*(1-f);let d=0;switch(a.influence_type){case"crater":d=-u*.05;break;case"mountain":d=u*.08;break;case"valley":d=-u*.03;break;case"volcano":d=u*.1;break;case"basin":d=-u*.04;break;case"dune":d=u*.02*Math.sin(c*5);break;case"glacier":d=u*.06;break;case"storm":case"vortex":case"band":case"spot":d=u*.03;break;default:d=u*.05}let p=0;a.influence_type==="volcano"&&(p=u*.2),n+=d,s+=p}}),{height:n,roughness:s}}function Sc({planetStats:e}){const t=D.useRef(null),r=D.useRef(null),n=et(e.mass,e.radius),s=D.useMemo(()=>{const a=e.customColors||Mt(e.biome||"Rocky Highlands"),i=new S.Color(a.regular||"#A1887F"),c=new S.MeshStandardMaterial({color:i,roughness:.7,metalness:.1}),l=n==="terrestrial"?new S.Color(8900331):new S.Color(16777215),f=n==="terrestrial"?e.atmosphereStrength?e.atmosphereStrength*.4:.25:.15,u=new S.MeshPhongMaterial({color:l,transparent:!0,opacity:f,side:S.DoubleSide,depthWrite:!1});return{planetMaterial:c,atmosphereMaterial:u}},[e,n]);return Le.useFrame(()=>{t.current&&(t.current.rotation.y+=.001),r.current&&(r.current.rotation.y+=5e-4)}),o.jsxs("group",{children:[o.jsx(ye.Sphere,{ref:t,args:[1,64,64],scale:e.radius,children:o.jsx("primitive",{object:s.planetMaterial,attach:"material"})}),o.jsx(ye.Sphere,{ref:r,args:[1.1,32,32],scale:e.radius,children:o.jsx("primitive",{object:s.atmosphereMaterial,attach:"material"})})]})}const Tc=`
  varying vec2 vUv;
  varying vec3 vNormal;
  varying vec3 vPosition;
  varying float vElevation;
  
  uniform float time;
  uniform float surfaceRoughness;
  uniform float mountainHeight;
  uniform float isGaseous;
  uniform int soilType;
  uniform int soilTexture;
  uniform float landmarkPositions[30]; // Support up to 10 landmarks (x,y,z for each)
  uniform float landmarkInfluences[40]; // Support up to 10 landmarks (radius,height,roughness,type for each)
  uniform int landmarkCount;
  
  // Simplex 3D Noise
  vec4 permute(vec4 x){return mod(((x*34.0)+1.0)*x, 289.0);}
  vec4 taylorInvSqrt(vec4 r){return 1.79284291400159 - 0.85373472095314 * r;}

  float snoise(vec3 v){ 
    const vec2 C = vec2(1.0/6.0, 1.0/3.0);
    const vec4 D = vec4(0.0, 0.5, 1.0, 2.0);

    vec3 i = floor(v + dot(v, C.yyy));
    vec3 x0 = v - i + dot(i, C.xxx);

    vec3 g = step(x0.yzx, x0.xyz);
    vec3 l = 1.0 - g;
    vec3 i1 = min(g.xyz, l.zxy);
    vec3 i2 = max(g.xyz, l.zxy);

    vec3 x1 = x0 - i1 + 1.0 * C.xxx;
    vec3 x2 = x0 - i2 + 2.0 * C.xxx;
    vec3 x3 = x0 - 1. + 3.0 * C.xxx;

    i = mod(i, 289.0); 
    vec4 p = permute(permute(permute( 
              i.z + vec4(0.0, i1.z, i2.z, 1.0))
            + i.y + vec4(0.0, i1.y, i2.y, 1.0)) 
            + i.x + vec4(0.0, i1.x, i2.x, 1.0));

    float n_ = 1.0/7.0;
    vec3 ns = n_ * D.wyz - D.xzx;

    vec4 j = p - 49.0 * floor(p * ns.z *ns.z);

    vec4 x_ = floor(j * ns.z);
    vec4 y_ = floor(j - 7.0 * x_);

    vec4 x = x_ *ns.x + ns.yyyy;
    vec4 y = y_ *ns.x + ns.yyyy;
    vec4 h = 1.0 - abs(x) - abs(y);

    vec4 b0 = vec4(x.xy, y.xy);
    vec4 b1 = vec4(x.zw, y.zw);

    vec4 s0 = floor(b0)*2.0 + 1.0;
    vec4 s1 = floor(b1)*2.0 + 1.0;
    vec4 sh = -step(h, vec4(0.0));

    vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy;
    vec4 a1 = b1.xzyw + s1.xzyw*sh.zzww;

    vec3 p0 = vec3(a0.xy,h.x);
    vec3 p1 = vec3(a0.zw,h.y);
    vec3 p2 = vec3(a1.xy,h.z);
    vec3 p3 = vec3(a1.zw,h.w);

    vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));
    p0 *= norm.x;
    p1 *= norm.y;
    p2 *= norm.z;
    p3 *= norm.w;

    vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);
    m = m * m;
    return 42.0 * dot(m*m, vec4(dot(p0,x0), dot(p1,x1), dot(p2,x2), dot(p3,x3)));
  }

  // Fractal Brownian Motion with reduced octaves for less fuzziness
  float fbm(vec3 p, int octaves) {
    float value = 0.0;
    float amplitude = 1.0;
    float frequency = 1.0;
    float persistence = 0.5;
    
    for (int i = 0; i < octaves; i++) {
      value += amplitude * snoise(p * frequency);
      amplitude *= persistence;
      frequency *= 2.0;
    }
    
    return value;
  }

  // Soil texture function with reduced intensity
  float getSoilTexture(vec3 pos, int textureType) {
    float detail = 0.0;
    
    // Scale and depth based on texture type
    float scale = 1.0;
    float depth = 0.05;
    
    if (textureType == 0) { // smooth
      scale = 5.0; depth = 0.01;
    } else if (textureType == 1) { // rough
      scale = 15.0; depth = 0.05;
    } else if (textureType == 2) { // cracked
      scale = 20.0; depth = 0.08;
      float crack1 = snoise(pos * scale * 2.0);
      float crack2 = snoise(pos * scale * 5.0);
      return (abs(crack1) < 0.1 ? depth * 1.5 : 0.0) + (abs(crack2) < 0.05 ? depth * 0.8 : 0.0);
    } else if (textureType == 3) { // layered
      scale = 12.0; depth = 0.04;
      float layer = snoise(pos * scale * 0.5);
      return sin(layer * 20.0) * depth * 0.8;
    } else if (textureType == 4) { // porous
      scale = 25.0; depth = 0.06;
      float pore = snoise(pos * scale * 4.0);
      return pore > 0.8 ? depth * 1.5 : 0.0;
    } else if (textureType == 5) { // grainy
      scale = 30.0; depth = 0.03;
      float grain1 = snoise(pos * scale * 8.0);
      float grain2 = snoise(pos * scale * 12.0);
      return grain1 * grain2 * depth;
    } else if (textureType == 6) { // crystalline
      scale = 18.0; depth = 0.07;
      float crystal = snoise(pos * scale * 3.0);
      return (crystal > 0.7 || crystal < -0.7) ? depth * 1.2 : 0.0;
    }
    
    // Default noise pattern
    float defaultNoise = snoise(pos * scale);
    return defaultNoise * depth * 0.5;
  }

  // Calculate landmark terrain influence
  vec2 calculateLandmarkInfluence(vec3 position) {
    float totalHeight = 0.0;
    float totalRoughness = 0.0;
    float totalWeight = 0.0;
    
    for (int i = 0; i < 10; i++) {
      if (i >= landmarkCount) break;
      
      // Get landmark position from flat array (3 floats per landmark)
      int posIndex = i * 3;
      vec3 landmarkPos = vec3(
        landmarkPositions[posIndex],
        landmarkPositions[posIndex + 1],
        landmarkPositions[posIndex + 2]
      );
      
      // Get landmark influence from flat array (4 floats per landmark)
      int infIndex = i * 4;
      float radius = landmarkInfluences[infIndex];
      float height = landmarkInfluences[infIndex + 1];
      float roughness = landmarkInfluences[infIndex + 2];
      float type = landmarkInfluences[infIndex + 3];
      
      // Calculate distance to landmark
      float distance = length(position - landmarkPos);
      
      // If within influence radius
      if (distance <= radius) {
        // Calculate weight based on distance (closer = stronger influence)
        float weight = 1.0 - (distance / radius);
        float heightInfluence = 0.0;
        
        // Different influence types have different height profiles
        if (type < 0.5) {
          // Crater: depression with raised rim
          float rimFactor = distance / radius;
          if (rimFactor > 0.8) {
            heightInfluence = height * 0.5 * (1.0 - (rimFactor - 0.8) * 5.0);
          } else {
            heightInfluence = height * (distance / radius);
          }
        } 
        else if (type < 1.5) {
          // Mountain: raised area that tapers off with distance
          heightInfluence = height * pow(1.0 - distance / radius, 2.0);
        }
        else if (type < 2.5) {
          // Valley: depression that's deeper in the center
          heightInfluence = height * pow(1.0 - distance / radius, 1.5);
        }
        else if (type < 3.5) {
          // Volcano: steep cone with central depression
          float normalizedDist = distance / radius;
          if (normalizedDist < 0.2) {
            // Central depression (caldera)
            heightInfluence = height * -0.3;
          } else {
            // Cone shape
            heightInfluence = height * pow(1.0 - normalizedDist, 1.2);
          }
        }
        else if (type < 4.5) {
          // Ice cap: gentle dome with smooth edges
          heightInfluence = height * pow(cos(3.14159 * distance / radius / 2.0), 2.0);
        }
        else if (type < 5.5) {
          // Ocean: depression with flat bottom
          heightInfluence = height * min(1.0, distance / (radius * 0.2));
        }
        else {
          // Custom or undefined: simple linear falloff
          heightInfluence = height * weight;
        }
        
        // Add weighted contributions
        totalHeight += heightInfluence * weight;
        totalRoughness += roughness * weight;
        totalWeight += weight;
      }
    }
    
    // Normalize by total weight if any landmarks had influence
    if (totalWeight > 0.0) {
      return vec2(totalHeight / totalWeight, totalRoughness / totalWeight);
    }
    
    return vec2(0.0, 0.0);
  }

  void main() {
    vUv = uv;
    vNormal = normal;
    vPosition = position;
    
    vec3 pos = position;
    float elevation = 0.0;
    
    if (isGaseous > 0.5) {
      // Gas giant features
      float bands = sin(pos.y * 10.0 + time * 0.1) * 0.5;
      float storms = snoise(pos * vec3(2.0, 8.0, 2.0) + time * 0.15) * 0.5;
      float cyclones = snoise(pos * vec3(4.0, 1.0, 4.0) + time * 0.05) * 0.25;
      
      elevation = mix(bands, storms, 0.5) + cyclones;
      elevation *= 0.05; // Reduced distortion for gas giants
      
      // Apply landmark influences (storms, etc.)
      vec2 landmarkEffect = calculateLandmarkInfluence(normalize(pos));
      elevation += landmarkEffect.x * 0.5; // Reduced effect for gas giants
    } else {
      // Terrestrial features - use FBM with fewer octaves for less fuzziness
      float baseNoise = fbm(pos * surfaceRoughness + time * 0.01, 5);
    
      // Apply mountain height
      baseNoise *= mountainHeight;
      
      // Apply soil texture with reduced intensity
      float textureDetail = getSoilTexture(pos, soilTexture) * 0.7;
      
      // Adjust texture based on soil type
      if (soilType == 2) { // volcanic
        textureDetail *= 1.5;
      } else if (soilType == 1) { // sandy
        textureDetail *= 0.7;
      }
      
      elevation = baseNoise - textureDetail;
      
      // Apply landmark influences
      vec2 landmarkEffect = calculateLandmarkInfluence(normalize(pos));
      elevation += landmarkEffect.x;
      
      // Add additional roughness from landmarks
      if (landmarkEffect.y > 0.0) {
        float additionalRoughness = snoise(pos * 20.0 * landmarkEffect.y) * landmarkEffect.y * 0.2;
        elevation += additionalRoughness;
      }
      
      elevation *= 0.08; // Scale for terrestrial planets
    }
    
    vElevation = elevation;
    
    // Apply displacement
    pos += normal * elevation;
    
    gl_Position = projectionMatrix * modelViewMatrix * vec4(pos, 1.0);
  }
`,Mc=`
  varying vec2 vUv;
  varying vec3 vNormal;
  varying vec3 vPosition;
  varying float vElevation;
  
  uniform vec3 oceanColor;
  uniform vec3 beachColor;
  uniform vec3 landColor;
  uniform vec3 mountainColor;
  uniform float time;
  uniform float waterLevel;
  uniform float isGaseous;
  uniform float liquidEnabled;
  uniform int soilType;
  uniform int soilTexture;
  uniform float surfaceRoughness;
  uniform float mountainHeight;
  
  // Simplex 3D Noise
  vec4 permute(vec4 x){return mod(((x*34.0)+1.0)*x, 289.0);}
  vec4 taylorInvSqrt(vec4 r){return 1.79284291400159 - 0.85373472095314 * r;}

  float snoise(vec3 v){ 
    const vec2 C = vec2(1.0/6.0, 1.0/3.0);
    const vec4 D = vec4(0.0, 0.5, 1.0, 2.0);

    vec3 i = floor(v + dot(v, C.yyy));
    vec3 x0 = v - i + dot(i, C.xxx);

    vec3 g = step(x0.yzx, x0.xyz);
    vec3 l = 1.0 - g;
    vec3 i1 = min(g.xyz, l.zxy);
    vec3 i2 = max(g.xyz, l.zxy);

    vec3 x1 = x0 - i1 + 1.0 * C.xxx;
    vec3 x2 = x0 - i2 + 2.0 * C.xxx;
    vec3 x3 = x0 - 1. + 3.0 * C.xxx;

    i = mod(i, 289.0); 
    vec4 p = permute(permute(permute( 
              i.z + vec4(0.0, i1.z, i2.z, 1.0))
            + i.y + vec4(0.0, i1.y, i2.y, 1.0)) 
            + i.x + vec4(0.0, i1.x, i2.x, 1.0));

    float n_ = 1.0/7.0;
    vec3 ns = n_ * D.wyz - D.xzx;

    vec4 j = p - 49.0 * floor(p * ns.z *ns.z);

    vec4 x_ = floor(j * ns.z);
    vec4 y_ = floor(j - 7.0 * x_);

    vec4 x = x_ *ns.x + ns.yyyy;
    vec4 y = y_ *ns.x + ns.yyyy;
    vec4 h = 1.0 - abs(x) - abs(y);

    vec4 b0 = vec4(x.xy, y.xy);
    vec4 b1 = vec4(x.zw, y.zw);

    vec4 s0 = floor(b0)*2.0 + 1.0;
    vec4 s1 = floor(b1)*2.0 + 1.0;
    vec4 sh = -step(h, vec4(0.0));

    vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy;
    vec4 a1 = b1.xzyw + s1.xzyw*sh.zzww;

    vec3 p0 = vec3(a0.xy,h.x);
    vec3 p1 = vec3(a0.zw,h.y);
    vec3 p2 = vec3(a1.xy,h.z);
    vec3 p3 = vec3(a1.zw,h.w);

    vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));
    p0 *= norm.x;
    p1 *= norm.y;
    p2 *= norm.z;
    p3 *= norm.w;

    vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);
    m = m * m;
    return 42.0 * dot(m*m, vec4(dot(p0,x0), dot(p1,x1), dot(p2,x2), dot(p3,x3)));
  }

  // Fractal Brownian Motion
  float fbm(vec3 p, int octaves) {
    float value = 0.0;
    float amplitude = 1.0;
    float frequency = 1.0;
    float persistence = 0.5;
    
    for (int i = 0; i < octaves; i++) {
      value += amplitude * snoise(p * frequency);
      amplitude *= persistence;
      frequency *= 2.0;
    }
    
    return value;
  }

  // Voronoi noise for cell-like patterns
  float voronoi(vec3 p) {
    vec3 i = floor(p);
    vec3 f = fract(p);
    
    float minDist = 1.0;
    
    for(int z = -1; z <= 1; z++) {
      for(int y = -1; y <= 1; y++) {
        for(int x = -1; x <= 1; x++) {
          vec3 cell = vec3(float(x), float(y), float(z));
          vec3 cellPosition = cell + snoise(i + cell) * 0.5;
          float dist = length(cellPosition - f);
          minDist = min(minDist, dist);
        }
      }
    }
    
    return minDist;
  }

  // Function to create stylized borders
  float borderEffect(vec3 position, float scale, float width) {
    float cell = voronoi(position * scale);
    return smoothstep(width - 0.05, width + 0.05, cell);
  }

  // Soil texture function with reduced intensity
  float getSoilTexture(vec3 pos, int textureType) {
    float detail = 0.0;
    
    // Scale and depth based on texture type
    float scale = 1.0;
    float depth = 0.05;
    
    if (textureType == 0) { // smooth
      scale = 5.0; depth = 0.01;
    } else if (textureType == 1) { // rough
      scale = 15.0; depth = 0.05;
    } else if (textureType == 2) { // cracked
      scale = 20.0; depth = 0.08;
      float crack1 = snoise(pos * scale * 2.0);
      float crack2 = snoise(pos * scale * 5.0);
      return (abs(crack1) < 0.1 ? depth * 1.5 : 0.0) + (abs(crack2) < 0.05 ? depth * 0.8 : 0.0);
    } else if (textureType == 3) { // layered
      scale = 12.0; depth = 0.04;
      float layer = snoise(pos * scale * 0.5);
      return sin(layer * 20.0) * depth * 0.8;
    } else if (textureType == 4) { // porous
      scale = 25.0; depth = 0.06;
      float pore = snoise(pos * scale * 4.0);
      return pore > 0.8 ? depth * 1.5 : 0.0;
    } else if (textureType == 5) { // grainy
      scale = 30.0; depth = 0.03;
      float grain1 = snoise(pos * scale * 8.0);
      float grain2 = snoise(pos * scale * 12.0);
      return grain1 * grain2 * depth;
    } else if (textureType == 6) { // crystalline
      scale = 18.0; depth = 0.07;
      float crystal = snoise(pos * scale * 3.0);
      return (crystal > 0.7 || crystal < -0.7) ? depth * 1.2 : 0.0;
    }
    
    // Default noise pattern
    float defaultNoise = snoise(pos * scale);
    return defaultNoise * depth * 0.5;
  }

  void main() {
    vec3 normal = normalize(vNormal);
    float normalizedElevation = (vElevation + 0.08) / 0.16; // Normalize to 0-1 range
    
    // Create noise patterns at different scales for layering
    float largeNoise = snoise(vPosition * 2.0 + time * 0.02);
    float mediumNoise = snoise(vPosition * 5.0 + time * 0.05);
    float smallNoise = snoise(vPosition * 10.0);
    
    // Create cell patterns for terrain boundaries
    float cellBorders = borderEffect(vPosition, 3.0, 0.1);
    
    // Lighting setup - multiple light sources for better hemisphere coverage
    vec3 lightDir1 = normalize(vec3(0.5, 1.0, 0.5));
    vec3 lightDir2 = normalize(vec3(-0.5, -0.8, 0.2));
    
    // Calculate diffuse lighting from both light sources
    float diffuse1 = max(0.3, dot(normal, lightDir1));
    float diffuse2 = max(0.1, dot(normal, lightDir2) * 0.5); // Secondary light is dimmer
    
    // Combine lighting with ambient term
    float lightFactor = diffuse1 + diffuse2 + 0.2; // 0.2 is ambient light
    
    // Simple ambient occlusion based on elevation
    float ao = 1.0 - abs(vElevation) * 2.0;
    ao = max(0.4, ao);
    
    // Stylized topographical coloring
    vec3 color;
    
    if (isGaseous > 0.5) {
      // Gas giant stylized coloring - inspired by the first reference image
      float bands = sin(vPosition.y * 8.0) * 0.5 + 0.5;
      
      // Create swirling patterns
      float swirl = snoise(vec3(
        vPosition.x + sin(vPosition.y * 4.0 + time * 0.1) * 0.2,
        vPosition.y + cos(vPosition.x * 4.0 + time * 0.05) * 0.2,
        vPosition.z + time * 0.02
      ));
      
      // Base color from bands
      color = mix(
        vec3(0.7, 0.3, 0.1), // Orange-red
        vec3(0.9, 0.7, 0.3), // Yellow-orange
        bands
      );
      
      // Add swirl patterns
      color = mix(
        color,
        vec3(0.2, 0.1, 0.5), // Deep purple
        smoothstep(0.3, 0.7, swirl)
      );
      
      // Add storm spots
      float spots = smoothstep(0.7, 0.9, largeNoise);
      color = mix(color, vec3(0.9, 0.9, 1.0), spots * 0.5);
      
      // Add depth with noise-based shadows
      float depthNoise = snoise(vPosition * 3.0) * 0.3;
      color = mix(color, color * 0.7, depthNoise);
      
      // Add subtle atmospheric glow
      float atmosphere = pow(1.0 - abs(dot(normal, vec3(0.0, 0.0, 1.0))), 2.0);
      color += vec3(0.1, 0.15, 0.25) * atmosphere;
      
    } else {
      // Terrestrial planet stylized coloring - inspired by both reference images
      
      // Use terrain height to determine land vs water
      float heightWithNoise = normalizedElevation + (largeNoise * 0.2 - 0.1) * surfaceRoughness;
      
      if (liquidEnabled > 0.5 && heightWithNoise < waterLevel) {
        // Ocean areas - teal/turquoise like in the first reference image
        
        // Create depth variation
        float depth = (waterLevel - heightWithNoise) / waterLevel;
        depth = pow(depth, 0.5); // Adjust depth curve
        
        // Shallow water is more teal, deep water is darker blue (like second reference)
        vec3 shallowColor = vec3(0.2, 0.7, 0.6); // Teal color for shallow water
        vec3 deepColor = vec3(0.0, 0.4, 0.5);    // Darker blue for deep water
        
        // Mix colors based on depth
        color = mix(shallowColor, deepColor, depth);
        
        // Add wave patterns
        float waves = sin(vPosition.x * 50.0 + vPosition.z * 50.0 + time * 0.5) * 0.5 + 0.5;
        color = mix(color, color * 1.3, waves * 0.1);
        
        // Add current patterns
        float currents = snoise(vPosition * 8.0 + time * 0.1) * 0.5 + 0.5;
        color = mix(color, oceanColor * 0.9, currents * 0.1);
        
        // Add coastal patterns
        if (heightWithNoise > waterLevel - 0.05) {
          float coastalPattern = sin(vPosition.x * 80.0 + vPosition.z * 80.0) * 0.5 + 0.5;
          color = mix(color, beachColor, coastalPattern * 0.3);
        }
        
        // Add depth with bumps for waves
        float bumpDepth = snoise(vPosition * 20.0 + time * 0.2) * 0.05;
        color = mix(color, color * 1.2, bumpDepth);
        
        // Add water shine
        float fresnel = pow(1.0 - abs(dot(normal, vec3(0.0, 0.0, 1.0))), 2.0);
        float shine = pow(fresnel, 4.0) * 0.3;
        color += vec3(shine);
        
      } else {
        // Land areas with distinct terrain types - inspired by both reference images
        
        // Create terrain type based on noise and elevation
        float terrainType = largeNoise * 0.4 + heightWithNoise * 0.6;
        
        // Apply surface roughness to terrain transitions
        terrainType += mediumNoise * surfaceRoughness * 0.2;
        
        // Create distinct terrain regions with sharp boundaries like in first reference
        if (terrainType < 0.3) {
          // Lowlands - use beach color
          color = beachColor;
          
          // Add texture variation
          color *= 0.8 + smallNoise * 0.4;
          
        } else if (terrainType < 0.6) {
          // Mid-elevation - use land color
          color = landColor;
          
          // Add texture variation
          color *= 0.8 + mediumNoise * 0.4;
          
        } else {
          // Highlands - use mountain color
          color = mountainColor;
          
          // Add texture variation based on mountain height
          float mountainPattern = snoise(vPosition * 15.0) * mountainHeight;
          color = mix(color, color * 1.3, mountainPattern);
        }
        
        // Add terrain borders - purple borders like in first reference
        float borderIntensity = 1.0 - abs(terrainType - 0.3) * 20.0;
        borderIntensity = max(0.0, borderIntensity);
        borderIntensity += 1.0 - abs(terrainType - 0.6) * 20.0;
        borderIntensity = clamp(borderIntensity, 0.0, 1.0);
        
        // Purple borders like in first reference
        vec3 borderColor = vec3(0.5, 0.0, 0.8);
        color = mix(color, borderColor, borderIntensity * 0.7);
        
        // Add cell pattern borders for terrain division
        color = mix(color, borderColor, cellBorders * 0.5);
        
        // Add soil type variations
        if (soilType == 0) { // rocky
          color = mix(color, vec3(0.6, 0.6, 0.6), 0.2);
        } else if (soilType == 1) { // sandy
          color = mix(color, vec3(0.9, 0.8, 0.5), 0.2);
        } else if (soilType == 2) { // volcanic
          color = mix(color, vec3(0.5, 0.2, 0.1), 0.2);
        } else if (soilType == 3) { // organic
          color = mix(color, vec3(0.3, 0.5, 0.2), 0.2);
        } else if (soilType == 4) { // dusty
          color = mix(color, vec3(0.8, 0.7, 0.6), 0.2);
        } else if (soilType == 5) { // frozen
          color = mix(color, vec3(0.8, 0.9, 1.0), 0.2);
        } else if (soilType == 6) { // muddy
          color = mix(color, vec3(0.4, 0.3, 0.2), 0.2);
        }
        
        // Add soil texture details
        float textureDetail = getSoilTexture(vPosition, soilTexture) * 0.7;
        color = mix(color, color * 0.8, textureDetail);
      }
    }
    
    // Add ambient occlusion for depth
    color *= ao;
    
    // Add atmospheric rim lighting like in second reference
    float rimLight = 1.0 - max(0.0, dot(normal, normalize(vec3(0.0, 0.0, 1.0))));
    rimLight = pow(rimLight, 3.0);
    color = mix(color, vec3(0.6, 0.8, 1.0), rimLight * 0.3);
    
    // Apply lighting
    color *= lightFactor;
    
    gl_FragColor = vec4(color, 1.0);
  }
`;function Rc({planetStats:e}){const t=D.useRef(null),r=D.useRef(null),n=D.useMemo(()=>{const s=e.customColors||Mt(e.biome||"Rocky Highlands"),a=new S.ShaderMaterial({uniforms:{time:{value:0},oceanColor:{value:new S.Color(s.oceanFloor||"#1E4D6B")},beachColor:{value:new S.Color(s.beach||"#8D6E63")},landColor:{value:new S.Color(s.regular||"#A1887F")},mountainColor:{value:new S.Color(s.mountain||"#D7CCC8")},waterLevel:{value:e.waterLevel||.65},surfaceRoughness:{value:e.surfaceRoughness||.5},mountainHeight:{value:e.mountainHeight||.6},isGaseous:{value:e.mass>7||e.radius>2.5?1:0},soilType:{value:["rocky","sandy","volcanic","organic","dusty","frozen","muddy"].indexOf(e.soilType||"rocky")},soilTexture:{value:["smooth","rough","cracked","layered","porous","grainy","crystalline"].indexOf(e.soilTexture||"rough")},liquidEnabled:{value:e.liquidEnabled!==!1?1:0},landmarkPositions:{value:new Float32Array(30)},landmarkInfluences:{value:new Float32Array(40)},landmarkCount:{value:0}},vertexShader:Tc,fragmentShader:Mc});return r.current=a,a},[]);return D.useEffect(()=>{if(!r.current||!e.landmarks||e.landmarks.length===0){r.current&&(r.current.uniforms.landmarkCount.value=0);return}const s=e.landmarks.slice(0,10),a=[],i=[];s.forEach(c=>{const l=new S.Vector3(c.coordinates.x,c.coordinates.y,c.coordinates.z).normalize();a.push(l.x,l.y,l.z);let f=1;switch(c.influence_type){case"crater":f=0;break;case"mountain":f=1;break;case"valley":f=2;break;case"volcano":f=3;break;case"glacier":f=4;break;case"basin":f=5;break;default:f=6}i.push(c.influence_radius||.5,c.influence_strength||.7,c.influence_roughness||.5,f)}),r.current.uniforms.landmarkPositions.value=new Float32Array(a),r.current.uniforms.landmarkInfluences.value=new Float32Array(i),r.current.uniforms.landmarkCount.value=s.length},[e.landmarks]),D.useEffect(()=>{if(!r.current)return;const s=e.customColors||Mt(e.biome||"Rocky Highlands");r.current.uniforms.oceanColor.value=new S.Color(s.oceanFloor||"#1E4D6B"),r.current.uniforms.beachColor.value=new S.Color(s.beach||"#8D6E63"),r.current.uniforms.landColor.value=new S.Color(s.regular||"#A1887F"),r.current.uniforms.mountainColor.value=new S.Color(s.mountain||"#D7CCC8"),r.current.uniforms.waterLevel.value=e.waterLevel||.65,r.current.uniforms.surfaceRoughness.value=e.surfaceRoughness||.5,r.current.uniforms.mountainHeight.value=e.mountainHeight||.6,r.current.uniforms.isGaseous.value=e.mass>7||e.radius>2.5?1:0,r.current.uniforms.soilType.value=["rocky","sandy","volcanic","organic","dusty","frozen","muddy"].indexOf(e.soilType||"rocky"),r.current.uniforms.soilTexture.value=["smooth","rough","cracked","layered","porous","grainy","crystalline"].indexOf(e.soilTexture||"rough"),r.current.uniforms.liquidEnabled.value=e.liquidEnabled!==!1?1:0},[e]),Le.useFrame(s=>{t.current&&r.current&&(t.current.rotation.y+=.001,r.current.uniforms.time.value=s.clock.elapsedTime)}),o.jsx(ye.Sphere,{ref:t,args:[1,128,128],scale:e.radius,children:o.jsx("primitive",{object:n,attach:"material"})})}function Ac({planetStats:e}){const t=D.useRef(null),n=!(e.mass>7||e.radius>2.5)&&e.cloudCount&&e.cloudCount!==0,s=D.useRef(new S.MeshPhysicalMaterial({color:new S.Color(16777215),transparent:!0,opacity:.7,roughness:1,metalness:0,clearcoat:.1,clearcoatRoughness:.4,alphaMap:new S.TextureLoader().load("/assets/clouds-alpha.png"),side:S.DoubleSide}));return Le.useFrame(()=>{n&&t.current&&(t.current.rotation.y+=5e-4)}),n?o.jsx(ye.Sphere,{ref:t,args:[1.02,64,64],scale:e.radius,children:o.jsx("primitive",{object:s.current,attach:"material"})}):null}const de=new Uint8Array(512),io=new Uint8Array(256);function _c(){for(let e=0;e<256;e++)io[e]=Math.floor(Math.random()*256);for(let e=0;e<512;e++)de[e]=io[e&255]}_c();function Or(e){return e*e*e*(e*(e*6-15)+10)}function tt(e,t,r){return(1-r)*e+r*t}function We(e,t,r,n){const s=e&15,a=s<8?t:r,i=s<4?r:s===12||s===14?t:n;return((s&1)===0?a:-a)+((s&2)===0?i:-i)}function se(e,t,r){const n=Math.floor(e)&255,s=Math.floor(t)&255,a=Math.floor(r)&255;e-=Math.floor(e),t-=Math.floor(t),r-=Math.floor(r);const i=Or(e),c=Or(t),l=Or(r),f=de[n]+s,u=de[f]+a,d=de[f+1]+a,p=de[n+1]+s,v=de[p]+a,b=de[p+1]+a;return tt(tt(tt(We(de[u],e,t,r),We(de[v],e-1,t,r),i),tt(We(de[d],e,t-1,r),We(de[b],e-1,t-1,r),i),c),tt(tt(We(de[u+1],e,t,r-1),We(de[v+1],e-1,t,r-1),i),tt(We(de[d+1],e,t-1,r-1),We(de[b+1],e-1,t-1,r-1),i),c),l)}function Pc(e,t){const r=new Map,n=12,a=new S.IcosahedronGeometry(1,n).getAttribute("position");for(let i=0;i<a.count;i++){const c=a.getX(i),l=a.getY(i),f=a.getZ(i),u=new S.Vector3(c,l,f).normalize();let d=0;if(t==="terrestrial"){const v=(e.surfaceRoughness||.5)*1.2;let b=1,h=1,x=.5;for(let y=0;y<7;y++){const w=se(u.x*b*v,u.y*b*v,u.z*b*v);d+=w*h,h*=x,b*=2}d*=e.mountainHeight||.5,e.terrainErosion&&(d*=1-e.terrainErosion*.3);const g=u.clone().multiplyScalar(e.radius),C=ao(g,e.landmarks,e.radius);if(d+=C.height,C.roughness>0){const y=se(u.x*20*C.roughness,u.y*20*C.roughness,u.z*20*C.roughness)*C.roughness*.2;d+=y}}else{const v=e.surfaceRoughness||.5;if(d=se(u.x*2*v,u.y*2*v,u.z*2*v)*.1,e.landmarks&&e.landmarks.length>0){const b=u.clone().multiplyScalar(e.radius),h=ao(b,e.landmarks,e.radius);d+=h.height*.5}}const p=`${u.x.toFixed(5)},${u.y.toFixed(5)},${u.z.toFixed(5)}`;r.set(p,d)}return{getHeight:i=>{const c=`${i.x.toFixed(5)},${i.y.toFixed(5)},${i.z.toFixed(5)}`,l=r.get(c);if(l!==void 0)return l;let f=Number.POSITIVE_INFINITY,u=0;return r.forEach((d,p)=>{const[v,b,h]=p.split(",").map(Number.parseFloat),x=new S.Vector3(v,b,h),g=i.distanceTo(x);g<f&&(f=g,u=d)}),u}}}const Ic=D.forwardRef(function({planetStats:t},r){const n=et(t.mass,t.radius),s=D.useMemo(()=>{const l=t.customColors||Mt(t.biome||"Rocky Highlands");return t.soilType&&n==="terrestrial"?{oceanFloor:Yt(l.oceanFloor||"#5D4037",t.soilType),beach:Yt(l.beach||"#8D6E63",t.soilType),regular:Yt(l.regular||"#A1887F",t.soilType),mountain:Yt(l.mountain||"#D7CCC8",t.soilType)}:l},[t.biome,t.customColors,t.soilType,n]),a=D.useMemo(()=>Pc(t,n),[t,n]),{surfaceGeometry:i,surfaceMaterial:c}=D.useMemo(()=>{const l=new S.IcosahedronGeometry(t.radius,11),f=l.getAttribute("position"),u=[],d=[],p=[],v=Nc(t.soilTexture||"rough");for(let x=0;x<f.count;x++){const g=f.getX(x),C=f.getY(x),y=f.getZ(x),w=new S.Vector3(g,C,y),N=w.clone().normalize();let A=a.getHeight(N);const R=.5+Math.atan2(N.z,N.x)/(2*Math.PI),j=.5-Math.asin(N.y)/Math.PI;p.push(R,j),t.landmarks&&t.landmarks.length>0&&t.landmarks.forEach(_=>{const B=Ec(N,_,t.radius);B>0&&(A=jc(A,B,_.influence_type||"mountain"))});const P=n==="terrestrial"?.08:.05,O=t.surfaceRoughness||.5,k=A*P*O*1.5;let M=0;if(n==="terrestrial"&&k>.05){const{scale:_,depth:B,pattern:T}=v;switch(T){case"cracks":M=Dc(N,_,B);break;case"layers":M=Oc(N,_,B);break;case"crystals":M=Lc(N,_,B);break;case"pores":M=Fc(N,_,B);break;case"grains":M=zc(N,_,B);break;default:M=Vc(N,_,B,v.irregularity)}t.soilType==="volcanic"?M*=1.5:t.soilType==="sandy"&&(M*=.7)}w.add(N.clone().multiplyScalar(k-M)),u.push(w);const L=t.waterLevel||0,z=kc(k,L),V=Bc(z,s,t,N,v);d.push(V)}for(let x=0;x<f.count;x++){const g=u[x];f.setXYZ(x,g.x,g.y,g.z)}f.needsUpdate=!0,l.computeVertexNormals();const b=new S.Float32BufferAttribute(new Float32Array(f.count*3),3);for(let x=0;x<d.length;x++)b.setXYZ(x,d[x].r,d[x].g,d[x].b);l.setAttribute("color",b),l.setAttribute("uv",new S.Float32BufferAttribute(new Float32Array(p),2));let h;return n==="terrestrial"?h=new S.MeshStandardMaterial({vertexColors:!0,roughness:.7,metalness:.1,flatShading:!1}):h=$c(t),{surfaceGeometry:l,surfaceMaterial:h}},[t,n,s,a]);return o.jsx("mesh",{ref:r,geometry:i,material:c})});function Dc(e,t,r){const n=se(e.x*t*2,e.y*t*2,e.z*t*2),s=se(e.x*t*5,e.y*t*5,e.z*t*5);return(Math.abs(n)<.1?r*1.5:0)+(Math.abs(s)<.05?r*.8:0)}function Oc(e,t,r){const n=se(e.x*t*.5,e.y*t*.5,e.z*t*.5);return Math.sin(n*20)*r*.8}function Lc(e,t,r){const n=se(e.x*t*3,e.y*t*3,e.z*t*3);return n>.7||n<-.7?r*1.2:0}function Fc(e,t,r){return se(e.x*t*4,e.y*t*4,e.z*t*4)>.8?r*1.5:0}function zc(e,t,r){const n=se(e.x*t*8,e.y*t*8,e.z*t*8),s=se(e.x*t*12,e.y*t*12,e.z*t*12);return n*s*r}function Vc(e,t,r,n){return se(e.x*t,e.y*t,e.z*t)*r*n}function Bc(e,t,r,n,s){const a={[Re.OceanFloor]:t.oceanFloor,[Re.Beach]:t.beach,[Re.Regular]:t.regular,[Re.Mountain]:t.mountain},i=new S.Color(a[e]||t.regular);let c=i;if(r.soilType){const f={rocky:new S.Color(11770240),sandy:new S.Color(13808780),volcanic:new S.Color(3815994),organic:new S.Color(5082199),dusty:new S.Color(10506797),frozen:new S.Color(14745599),muddy:new S.Color(6373670)},u=f[r.soilType]||f.rocky,d={[Re.OceanFloor]:.3,[Re.Beach]:.6,[Re.Regular]:.7,[Re.Mountain]:.8};if(c=i.clone().lerp(u,d[e]||.5),e===Re.Mountain&&(se(n.x*50,n.y*50,n.z*50)*.1<0?c.multiplyScalar(.9):c.multiplyScalar(1.1),r.soilTexture)){const v=se(n.x*s.scale*2,n.y*s.scale*2,n.z*s.scale*2);r.soilTexture==="crystalline"&&v>.7?c.offsetHSL(0,0,.1):r.soilTexture==="cracked"&&Math.abs(v)<.05?c.multiplyScalar(.8):r.soilTexture==="layered"&&Math.sin(v*20)>.8&&c.offsetHSL(0,0,.05)}}const l=(Math.random()-.5)*.1;return c.r=Math.max(0,Math.min(1,c.r+l)),c.g=Math.max(0,Math.min(1,c.g+l)),c.b=Math.max(0,Math.min(1,c.b+l)),c}function $c(e){const t=`
    varying vec2 vUv;
    varying vec3 vNormal;
    void main() {
      vUv = uv;
      vNormal = normalize(normalMatrix * normal);
      gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
    }
  `,r=`
    uniform vec3 color1;
    uniform vec3 color2;
    uniform vec3 color3;
    uniform float roughness;
    varying vec2 vUv;
    varying vec3 vNormal;
    float noise(vec2 st) {
      return fract(sin(dot(st.xy, vec2(12.9898, 78.233))) * 43758.5453123);
    }
    void main() {
      float bands = sin(vUv.y * 20.0) * 0.5 + 0.5;
      vec3 color = mix(color1, color2, bands);
      color = mix(color, color3, smoothstep(0.4, 0.6, abs(vNormal.y)));
      float noiseValue = noise(vUv * roughness * 10.0);
      color = mix(color, vec3(noiseValue), roughness * 0.2);
      gl_FragColor = vec4(color, 1.0);
    }
  `;let n,s,a;return e.temperature<100?(n=new S.Color(4620980),s=new S.Color(2003199),a=new S.Color(49151)):e.temperature>300?(n=new S.Color(13458524),s=new S.Color(15761536),a=new S.Color(16416882)):(n=new S.Color(10145074),s=new S.Color(7048739),a=new S.Color(5597999)),new S.ShaderMaterial({uniforms:{color1:{value:n},color2:{value:s},color3:{value:a},roughness:{value:e.surfaceRoughness||.5}},vertexShader:t,fragmentShader:r})}const Wc=D.forwardRef(function({planetStats:t},r){const n=oo(t.temperature),s=so(t.temperature,t.liquidType||n.type),{liquidGeometry:a,liquidMaterial:i}=D.useMemo(()=>{const c=t.liquidEnabled!==!1&&(t.waterLevel||0)>0&&s,l={water:new S.Color(1996980),methane:new S.Color(8369109),nitrogen:new S.Color(9498256),ammonia:new S.Color(14204888),ethane:new S.Color(16766720)},f=l[t.liquidType]||l.water;t.liquidType==="water"&&(t.temperature<283?f.lerp(new S.Color(18347),.3):t.temperature>350&&f.lerp(new S.Color(25600),.2),t.salinity&&f.lerp(new S.Color(18347),t.salinity*.5));const u=new S.MeshPhysicalMaterial({color:f,transparent:!0,opacity:c?.8:0,roughness:.1,metalness:.2,envMapIntensity:.5,clearcoat:.5,clearcoatRoughness:.1,ior:1.4,transmission:.95}),d=c?Math.max(t.waterLevel||0,.5):t.waterLevel||0,p=t.radius*(1+d*.02),v=new S.IcosahedronGeometry(p,9),b=v.getAttribute("position");for(let h=0;h<b.count;h++){const x=b.getX(h),g=b.getY(h),C=b.getZ(h),y=new S.Vector3(x,g,C),w=y.clone().normalize(),N=se(w.x*10,w.y*10,w.z*10)*.005;y.add(w.clone().multiplyScalar(N)),b.setXYZ(h,y.x,y.y,y.z)}return b.needsUpdate=!0,v.computeVertexNormals(),{liquidGeometry:v,liquidMaterial:u}},[t,s]);return!a||!i?null:o.jsx("mesh",{ref:r,geometry:a,material:i})}),Hc=D.forwardRef(function({planetStats:t},r){const n=et(t.mass,t.radius),{atmosphereGeometry:s,atmosphereMaterial:a}=D.useMemo(()=>{const i=new S.IcosahedronGeometry(t.radius*1.1,9);let c;if(n==="terrestrial"){const l={water:new S.Color(8900331),co2:new S.Color(13882323),methane:new S.Color(10145074),snow:new S.Color(15792383),none:new S.Color(11393254)},f=l[t.precipitationCompound]||l.none;t.temperature<200?f.lerp(new S.Color(4620980),.3):t.temperature>350&&f.lerp(new S.Color(16752762),.3);const u=t.atmosphereStrength?t.atmosphereStrength*.4:.25;c=new S.MeshPhongMaterial({color:f,transparent:!0,opacity:u,side:S.DoubleSide,shininess:30,depthWrite:!1})}else c=new S.MeshPhongMaterial({color:16777215,transparent:!0,opacity:.15,side:S.DoubleSide,depthWrite:!1});return{atmosphereGeometry:i,atmosphereMaterial:c}},[t,n]);return o.jsx("mesh",{ref:r,geometry:s,material:a})}),Uc=D.forwardRef(function({planetStats:t},r){const n=D.useMemo(()=>{if(!t.cloudCount||t.cloudCount<=0)return[];const s=[],a=Math.min(t.cloudCount,100);for(let i=0;i<a;i++){const c=Math.random()*Math.PI*2,l=Math.random()*Math.PI,f=Math.sin(l)*Math.cos(c),u=Math.sin(l)*Math.sin(c),d=Math.cos(l),p=new S.Vector3(f,u,d).normalize(),v=.05+Math.random()*.15,b=`cloud-${i}`;s.push({key:b,position:p.multiplyScalar(t.radius*1.02),size:v})}return s},[t.cloudCount,t.radius]);return o.jsx("group",{ref:r,children:n.map(s=>o.jsxs("mesh",{position:[s.position.x,s.position.y,s.position.z],children:[o.jsx("planeGeometry",{args:[s.size,s.size]}),o.jsx("meshBasicMaterial",{color:"#ffffff",transparent:!0,opacity:.6,side:S.DoubleSide}),o.jsx("group",{rotation:[0,Math.PI,0]})]},s.key))})});function Gc(e,t){return e/(1.3333333333333333*Math.PI*Math.pow(t,3))>1?"terrestrial":"gaseous"}function Kc({planetStats:e}){const r=Gc(e.mass,e.radius)==="gaseous",s=(e.landmarks||[]).filter(i=>{if(!i.category){const c=["storm","vortex","band","spot","turbulent","cyclone","anticyclone","zonal_flow"];return r?c.includes(i.influence_type||""):!c.includes(i.influence_type||"")}return r?i.category==="gaseous":i.category==="terrestrial"}),a=D.useMemo(()=>s.map((i,c)=>{const{x:l,y:f,z:u}=i.coordinates,d=new S.Vector3(l,f,u).normalize().multiplyScalar(e.radius*1.02);let p="#22c55e";i.type.includes("Volcano")||i.type.includes("Storm")?p="#ef4444":i.type.includes("Ocean")||i.type.includes("Water")?p="#3b82f6":i.type.includes("Ice")||i.type.includes("Frozen")?p="#a5f3fc":(i.type.includes("Sand")||i.type.includes("Desert"))&&(p="#fcd34d");const v=i.visual_effect&&i.visual_effect!=="None";return o.jsxs("group",{position:[d.x,d.y,d.z],children:[o.jsxs("mesh",{children:[o.jsx("sphereGeometry",{args:[.03,16,16]}),o.jsx("meshStandardMaterial",{color:p})]}),v&&o.jsxs("mesh",{children:[o.jsx("sphereGeometry",{args:[.05,16,16]}),o.jsx("meshBasicMaterial",{color:p,transparent:!0,opacity:.3,depthWrite:!1})]}),o.jsx(ye.Html,{position:[0,.1,0],center:!0,distanceFactor:10,occlude:!0,children:o.jsx("div",{className:"bg-black/80 text-green-400 px-2 py-1 text-xs font-mono rounded border border-green-500/50 whitespace-nowrap",children:i.classification_id})})]},c)}),[s,e.radius]);return o.jsx(o.Fragment,{children:a})}function qc({planetStats:e}){const t=et(e.mass,e.radius),[r,n]=D.useState(null),{raycaster:s,camera:a,gl:i}=Le.useThree(),c={surface:D.useRef(null),atmosphere:D.useRef(null),liquid:D.useRef(null),clouds:D.useRef(null),group:D.useRef(null)},l=f=>{if(f.stopPropagation(),!c.surface.current)return;const u=new S.Vector2(f.clientX/i.domElement.clientWidth*2-1,-(f.clientY/i.domElement.clientHeight)*2+1);s.setFromCamera(u,a);const d=s.intersectObject(c.surface.current);if(d.length>0){const p=d[0].point,v=p.clone().normalize(),b=p.length()-e.radius;let h="Mountain";b<-.05?h="Ocean Floor":b<0?h="Beach":b<.05&&(h="Lowland");const x=e.temperature,g=b*10,C=x-g,w=C-273;n({position:p,normalizedPosition:v,height:b,terrainType:h,temperature:C,relativeToWaterTemp:w})}};return Le.useFrame(()=>{c.surface.current&&(c.surface.current.rotation.y+=.001),c.atmosphere.current&&(c.atmosphere.current.rotation.y+=5e-4),c.liquid.current&&(c.liquid.current.rotation.y+=8e-4),c.clouds.current&&(c.clouds.current.rotation.y+=.0012)}),o.jsxs(o.Fragment,{children:[o.jsxs("group",{ref:c.group,onClick:l,children:[o.jsx(Ic,{planetStats:e,ref:c.surface}),t==="terrestrial"&&o.jsx(Wc,{planetStats:e,ref:c.liquid}),o.jsx(Hc,{planetStats:e,ref:c.atmosphere}),t==="terrestrial"&&e.cloudCount&&e.cloudCount>0&&o.jsx(Uc,{planetStats:e,ref:c.clouds}),e.landmarks&&e.landmarks.length>0&&o.jsx(Kc,{planetStats:e})]}),r&&o.jsx(ro,{pointInfo:r,planetStats:e})]})}function U(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function Fe(e,t=[]){let r=[];function n(a,i){const c=m.createContext(i),l=r.length;r=[...r,i];const f=d=>{var g;const{scope:p,children:v,...b}=d,h=((g=p==null?void 0:p[e])==null?void 0:g[l])||c,x=m.useMemo(()=>b,Object.values(b));return o.jsx(h.Provider,{value:x,children:v})};f.displayName=a+"Provider";function u(d,p){var h;const v=((h=p==null?void 0:p[e])==null?void 0:h[l])||c,b=m.useContext(v);if(b)return b;if(i!==void 0)return i;throw new Error(`\`${d}\` must be used within \`${a}\``)}return[f,u]}const s=()=>{const a=r.map(i=>m.createContext(i));return function(c){const l=(c==null?void 0:c[e])||a;return m.useMemo(()=>({[`__scope${e}`]:{...c,[e]:l}}),[c,l])}};return s.scopeName=e,[n,Yc(s,...t)]}function Yc(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const i=n.reduce((c,{useScope:l,scopeName:f})=>{const d=l(a)[`__scope${f}`];return{...c,...d}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}function co(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Lr(...e){return t=>{let r=!1;const n=e.map(s=>{const a=co(s,t);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let s=0;s<n.length;s++){const a=n[s];typeof a=="function"?a():co(e[s],null)}}}}function ne(...e){return m.useCallback(Lr(...e),e)}function ft(e){const t=Zc(e),r=m.forwardRef((n,s)=>{const{children:a,...i}=n,c=m.Children.toArray(a),l=c.find(Qc);if(l){const f=l.props.children,u=c.map(d=>d===l?m.Children.count(f)>1?m.Children.only(null):m.isValidElement(f)?f.props.children:null:d);return o.jsx(t,{...i,ref:s,children:m.isValidElement(f)?m.cloneElement(f,void 0,u):null})}return o.jsx(t,{...i,ref:s,children:a})});return r.displayName=`${e}.Slot`,r}var Xc=ft("Slot");function Zc(e){const t=m.forwardRef((r,n)=>{const{children:s,...a}=r,i=m.isValidElement(s)?tl(s):void 0,c=ne(i,n);if(m.isValidElement(s)){const l=el(a,s.props);return s.type!==m.Fragment&&(l.ref=c),m.cloneElement(s,l)}return m.Children.count(s)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Jc=Symbol("radix.slottable");function Qc(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Jc}function el(e,t){const r={...t};for(const n in t){const s=e[n],a=t[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...c)=>{const l=a(...c);return s(...c),l}:s&&(r[n]=s):n==="style"?r[n]={...s,...a}:n==="className"&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...e,...r}}function tl(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Zt(e){const t=e+"CollectionProvider",[r,n]=Fe(t),[s,a]=r(t,{collectionRef:{current:null},itemMap:new Map}),i=h=>{const{scope:x,children:g}=h,C=D.useRef(null),y=D.useRef(new Map).current;return o.jsx(s,{scope:x,itemMap:y,collectionRef:C,children:g})};i.displayName=t;const c=e+"CollectionSlot",l=ft(c),f=D.forwardRef((h,x)=>{const{scope:g,children:C}=h,y=a(c,g),w=ne(x,y.collectionRef);return o.jsx(l,{ref:w,children:C})});f.displayName=c;const u=e+"CollectionItemSlot",d="data-radix-collection-item",p=ft(u),v=D.forwardRef((h,x)=>{const{scope:g,children:C,...y}=h,w=D.useRef(null),N=ne(x,w),A=a(u,g);return D.useEffect(()=>(A.itemMap.set(w,{ref:w,...y}),()=>void A.itemMap.delete(w))),o.jsx(p,{[d]:"",ref:N,children:C})});v.displayName=u;function b(h){const x=a(e+"CollectionConsumer",h);return D.useCallback(()=>{const C=x.collectionRef.current;if(!C)return[];const y=Array.from(C.querySelectorAll(`[${d}]`));return Array.from(x.itemMap.values()).sort((A,R)=>y.indexOf(A.ref.current)-y.indexOf(R.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:i,Slot:f,ItemSlot:v},b,n]}var le=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},rl=m[" useId ".trim().toString()]||(()=>{}),nl=0;function rt(e){const[t,r]=m.useState(rl());return le(()=>{r(n=>n??String(nl++))},[e]),t?`radix-${t}`:""}var ol=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],X=ol.reduce((e,t)=>{const r=ft(`Primitive.${t}`),n=m.forwardRef((s,a)=>{const{asChild:i,...c}=s,l=i?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(l,{...c,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function lo(e,t){e&&Gt.flushSync(()=>e.dispatchEvent(t))}function Ae(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}var sl=m[" useInsertionEffect ".trim().toString()]||le;function nt({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[s,a,i]=al({defaultProp:t,onChange:r}),c=e!==void 0,l=c?e:s;{const u=m.useRef(e!==void 0);m.useEffect(()=>{const d=u.current;d!==c&&console.warn(`${n} is changing from ${d?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=c},[c,n])}const f=m.useCallback(u=>{var d;if(c){const p=il(u)?u(e):u;p!==e&&((d=i.current)==null||d.call(i,p))}else a(u)},[c,e,a,i]);return[l,f]}function al({defaultProp:e,onChange:t}){const[r,n]=m.useState(e),s=m.useRef(r),a=m.useRef(t);return sl(()=>{a.current=t},[t]),m.useEffect(()=>{var i;s.current!==r&&((i=a.current)==null||i.call(a,r),s.current=r)},[r,s]),[r,n,a]}function il(e){return typeof e=="function"}var cl=m.createContext(void 0);function Rt(e){const t=m.useContext(cl);return e||t||"ltr"}var Fr="rovingFocusGroup.onEntryFocus",ll={bubbles:!1,cancelable:!0},At="RovingFocusGroup",[zr,uo,ul]=Zt(At),[dl,Jt]=Fe(At,[ul]),[fl,ml]=dl(At),fo=m.forwardRef((e,t)=>o.jsx(zr.Provider,{scope:e.__scopeRovingFocusGroup,children:o.jsx(zr.Slot,{scope:e.__scopeRovingFocusGroup,children:o.jsx(pl,{...e,ref:t})})}));fo.displayName=At;var pl=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:a,currentTabStopId:i,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:l,onEntryFocus:f,preventScrollOnEntryFocus:u=!1,...d}=e,p=m.useRef(null),v=ne(t,p),b=Rt(a),[h,x]=nt({prop:i,defaultProp:c??null,onChange:l,caller:At}),[g,C]=m.useState(!1),y=Ae(f),w=uo(r),N=m.useRef(!1),[A,R]=m.useState(0);return m.useEffect(()=>{const j=p.current;if(j)return j.addEventListener(Fr,y),()=>j.removeEventListener(Fr,y)},[y]),o.jsx(fl,{scope:r,orientation:n,dir:b,loop:s,currentTabStopId:h,onItemFocus:m.useCallback(j=>x(j),[x]),onItemShiftTab:m.useCallback(()=>C(!0),[]),onFocusableItemAdd:m.useCallback(()=>R(j=>j+1),[]),onFocusableItemRemove:m.useCallback(()=>R(j=>j-1),[]),children:o.jsx(X.div,{tabIndex:g||A===0?-1:0,"data-orientation":n,...d,ref:v,style:{outline:"none",...e.style},onMouseDown:U(e.onMouseDown,()=>{N.current=!0}),onFocus:U(e.onFocus,j=>{const P=!N.current;if(j.target===j.currentTarget&&P&&!g){const O=new CustomEvent(Fr,ll);if(j.currentTarget.dispatchEvent(O),!O.defaultPrevented){const k=w().filter(_=>_.focusable),M=k.find(_=>_.active),L=k.find(_=>_.id===h),V=[M,L,...k].filter(Boolean).map(_=>_.ref.current);ho(V,u)}}N.current=!1}),onBlur:U(e.onBlur,()=>C(!1))})})}),mo="RovingFocusGroupItem",po=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:a,children:i,...c}=e,l=rt(),f=a||l,u=ml(mo,r),d=u.currentTabStopId===f,p=uo(r),{onFocusableItemAdd:v,onFocusableItemRemove:b,currentTabStopId:h}=u;return m.useEffect(()=>{if(n)return v(),()=>b()},[n,v,b]),o.jsx(zr.ItemSlot,{scope:r,id:f,focusable:n,active:s,children:o.jsx(X.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...c,ref:t,onMouseDown:U(e.onMouseDown,x=>{n?u.onItemFocus(f):x.preventDefault()}),onFocus:U(e.onFocus,()=>u.onItemFocus(f)),onKeyDown:U(e.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){u.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const g=vl(x,u.orientation,u.dir);if(g!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let y=p().filter(w=>w.focusable).map(w=>w.ref.current);if(g==="last")y.reverse();else if(g==="prev"||g==="next"){g==="prev"&&y.reverse();const w=y.indexOf(x.currentTarget);y=u.loop?xl(y,w+1):y.slice(w+1)}setTimeout(()=>ho(y))}}),children:typeof i=="function"?i({isCurrentTabStop:d,hasTabStop:h!=null}):i})})});po.displayName=mo;var hl={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function gl(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function vl(e,t,r){const n=gl(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return hl[n]}function ho(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function xl(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var go=fo,vo=po;function yl(e,t){return m.useReducer((r,n)=>t[r][n]??r,e)}var mt=e=>{const{present:t,children:r}=e,n=bl(t),s=typeof r=="function"?r({present:n.isPresent}):m.Children.only(r),a=ne(n.ref,wl(s));return typeof r=="function"||n.isPresent?m.cloneElement(s,{ref:a}):null};mt.displayName="Presence";function bl(e){const[t,r]=m.useState(),n=m.useRef(null),s=m.useRef(e),a=m.useRef("none"),i=e?"mounted":"unmounted",[c,l]=yl(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const f=Qt(n.current);a.current=c==="mounted"?f:"none"},[c]),le(()=>{const f=n.current,u=s.current;if(u!==e){const p=a.current,v=Qt(f);e?l("MOUNT"):v==="none"||(f==null?void 0:f.display)==="none"?l("UNMOUNT"):l(u&&p!==v?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,l]),le(()=>{if(t){let f;const u=t.ownerDocument.defaultView??window,d=v=>{const h=Qt(n.current).includes(v.animationName);if(v.target===t&&h&&(l("ANIMATION_END"),!s.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",f=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},p=v=>{v.target===t&&(a.current=Qt(n.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",d),t.addEventListener("animationend",d),()=>{u.clearTimeout(f),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",d),t.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:m.useCallback(f=>{n.current=f?getComputedStyle(f):null,r(f)},[])}}function Qt(e){return(e==null?void 0:e.animationName)||"none"}function wl(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var er="Tabs",[Cl,ih]=Fe(er,[Jt]),xo=Jt(),[Nl,Vr]=Cl(er),yo=m.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:a,orientation:i="horizontal",dir:c,activationMode:l="automatic",...f}=e,u=Rt(c),[d,p]=nt({prop:n,onChange:s,defaultProp:a??"",caller:er});return o.jsx(Nl,{scope:r,baseId:rt(),value:d,onValueChange:p,orientation:i,dir:u,activationMode:l,children:o.jsx(X.div,{dir:u,"data-orientation":i,...f,ref:t})})});yo.displayName=er;var bo="TabsList",wo=m.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,a=Vr(bo,r),i=xo(r);return o.jsx(go,{asChild:!0,...i,orientation:a.orientation,dir:a.dir,loop:n,children:o.jsx(X.div,{role:"tablist","aria-orientation":a.orientation,...s,ref:t})})});wo.displayName=bo;var Co="TabsTrigger",No=m.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...a}=e,i=Vr(Co,r),c=xo(r),l=jo(i.baseId,n),f=So(i.baseId,n),u=n===i.value;return o.jsx(vo,{asChild:!0,...c,focusable:!s,active:u,children:o.jsx(X.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":f,"data-state":u?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...a,ref:t,onMouseDown:U(e.onMouseDown,d=>{!s&&d.button===0&&d.ctrlKey===!1?i.onValueChange(n):d.preventDefault()}),onKeyDown:U(e.onKeyDown,d=>{[" ","Enter"].includes(d.key)&&i.onValueChange(n)}),onFocus:U(e.onFocus,()=>{const d=i.activationMode!=="manual";!u&&!s&&d&&i.onValueChange(n)})})})});No.displayName=Co;var ko="TabsContent",Eo=m.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:a,...i}=e,c=Vr(ko,r),l=jo(c.baseId,n),f=So(c.baseId,n),u=n===c.value,d=m.useRef(u);return m.useEffect(()=>{const p=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(p)},[]),o.jsx(mt,{present:s||u,children:({present:p})=>o.jsx(X.div,{"data-state":u?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":l,hidden:!p,id:f,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:d.current?"0s":void 0},children:p&&a})})});Eo.displayName=ko;function jo(e,t){return`${e}-trigger-${t}`}function So(e,t){return`${e}-content-${t}`}var kl=yo,To=wo,Mo=No,Ro=Eo;function Ao(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=Ao(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function _o(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=Ao(e))&&(n&&(n+=" "),n+=t);return n}const Br="-",El=e=>{const t=Sl(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:i=>{const c=i.split(Br);return c[0]===""&&c.length!==1&&c.shift(),Po(c,t)||jl(i)},getConflictingClassGroupIds:(i,c)=>{const l=r[i]||[];return c&&n[i]?[...l,...n[i]]:l}}},Po=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?Po(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const a=e.join(Br);return(i=t.validators.find(({validator:c})=>c(a)))==null?void 0:i.classGroupId},Io=/^\[(.+)\]$/,jl=e=>{if(Io.test(e)){const t=Io.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},Sl=e=>{const{theme:t,classGroups:r}=e,n={nextPart:new Map,validators:[]};for(const s in r)$r(r[s],n,s,t);return n},$r=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const a=s===""?t:Do(t,s);a.classGroupId=r;return}if(typeof s=="function"){if(Tl(s)){$r(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([a,i])=>{$r(i,Do(t,a),r,n)})})},Do=(e,t)=>{let r=e;return t.split(Br).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},Tl=e=>e.isThemeGetter,Ml=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(a,i)=>{r.set(a,i),t++,t>e&&(t=0,n=r,r=new Map)};return{get(a){let i=r.get(a);if(i!==void 0)return i;if((i=n.get(a))!==void 0)return s(a,i),i},set(a,i){r.has(a)?r.set(a,i):s(a,i)}}},Wr="!",Hr=":",Rl=Hr.length,Al=e=>{const{prefix:t,experimentalParseClassName:r}=e;let n=s=>{const a=[];let i=0,c=0,l=0,f;for(let b=0;b<s.length;b++){let h=s[b];if(i===0&&c===0){if(h===Hr){a.push(s.slice(l,b)),l=b+Rl;continue}if(h==="/"){f=b;continue}}h==="["?i++:h==="]"?i--:h==="("?c++:h===")"&&c--}const u=a.length===0?s:s.substring(l),d=_l(u),p=d!==u,v=f&&f>l?f-l:void 0;return{modifiers:a,hasImportantModifier:p,baseClassName:d,maybePostfixModifierPosition:v}};if(t){const s=t+Hr,a=n;n=i=>i.startsWith(s)?a(i.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:i,maybePostfixModifierPosition:void 0}}if(r){const s=n;n=a=>r({className:a,parseClassName:s})}return n},_l=e=>e.endsWith(Wr)?e.substring(0,e.length-1):e.startsWith(Wr)?e.substring(1):e,Pl=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const s=[];let a=[];return n.forEach(i=>{i[0]==="["||t[i]?(s.push(...a.sort(),i),a=[]):a.push(i)}),s.push(...a.sort()),s}},Il=e=>({cache:Ml(e.cacheSize),parseClassName:Al(e),sortModifiers:Pl(e),...El(e)}),Dl=/\s+/,Ol=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s,sortModifiers:a}=t,i=[],c=e.trim().split(Dl);let l="";for(let f=c.length-1;f>=0;f-=1){const u=c[f],{isExternal:d,modifiers:p,hasImportantModifier:v,baseClassName:b,maybePostfixModifierPosition:h}=r(u);if(d){l=u+(l.length>0?" "+l:l);continue}let x=!!h,g=n(x?b.substring(0,h):b);if(!g){if(!x){l=u+(l.length>0?" "+l:l);continue}if(g=n(b),!g){l=u+(l.length>0?" "+l:l);continue}x=!1}const C=a(p).join(":"),y=v?C+Wr:C,w=y+g;if(i.includes(w))continue;i.push(w);const N=s(g,x);for(let A=0;A<N.length;++A){const R=N[A];i.push(y+R)}l=u+(l.length>0?" "+l:l)}return l};function Ll(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=Oo(t))&&(n&&(n+=" "),n+=r);return n}const Oo=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=Oo(e[n]))&&(r&&(r+=" "),r+=t);return r};function Fl(e,...t){let r,n,s,a=i;function i(l){const f=t.reduce((u,d)=>d(u),e());return r=Il(f),n=r.cache.get,s=r.cache.set,a=c,c(l)}function c(l){const f=n(l);if(f)return f;const u=Ol(l,r);return s(l,u),u}return function(){return a(Ll.apply(null,arguments))}}const ce=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},Lo=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Fo=/^\((?:(\w[\w-]*):)?(.+)\)$/i,zl=/^\d+\/\d+$/,Vl=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Bl=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,$l=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Wl=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Hl=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,pt=e=>zl.test(e),Z=e=>!!e&&!Number.isNaN(Number(e)),He=e=>!!e&&Number.isInteger(Number(e)),Ur=e=>e.endsWith("%")&&Z(e.slice(0,-1)),ze=e=>Vl.test(e),Ul=()=>!0,Gl=e=>Bl.test(e)&&!$l.test(e),zo=()=>!1,Kl=e=>Wl.test(e),ql=e=>Hl.test(e),Yl=e=>!$(e)&&!W(e),Xl=e=>ht(e,Ho,zo),$=e=>Lo.test(e),ot=e=>ht(e,Uo,Gl),Gr=e=>ht(e,tu,Z),Vo=e=>ht(e,$o,zo),Zl=e=>ht(e,Wo,ql),tr=e=>ht(e,Go,Kl),W=e=>Fo.test(e),_t=e=>gt(e,Uo),Jl=e=>gt(e,ru),Bo=e=>gt(e,$o),Ql=e=>gt(e,Ho),eu=e=>gt(e,Wo),rr=e=>gt(e,Go,!0),ht=(e,t,r)=>{const n=Lo.exec(e);return n?n[1]?t(n[1]):r(n[2]):!1},gt=(e,t,r=!1)=>{const n=Fo.exec(e);return n?n[1]?t(n[1]):r:!1},$o=e=>e==="position"||e==="percentage",Wo=e=>e==="image"||e==="url",Ho=e=>e==="length"||e==="size"||e==="bg-size",Uo=e=>e==="length",tu=e=>e==="number",ru=e=>e==="family-name",Go=e=>e==="shadow",nu=Fl(()=>{const e=ce("color"),t=ce("font"),r=ce("text"),n=ce("font-weight"),s=ce("tracking"),a=ce("leading"),i=ce("breakpoint"),c=ce("container"),l=ce("spacing"),f=ce("radius"),u=ce("shadow"),d=ce("inset-shadow"),p=ce("text-shadow"),v=ce("drop-shadow"),b=ce("blur"),h=ce("perspective"),x=ce("aspect"),g=ce("ease"),C=ce("animate"),y=()=>["auto","avoid","all","avoid-page","page","left","right","column"],w=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],N=()=>[...w(),W,$],A=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto","contain","none"],j=()=>[W,$,l],P=()=>[pt,"full","auto",...j()],O=()=>[He,"none","subgrid",W,$],k=()=>["auto",{span:["full",He,W,$]},He,W,$],M=()=>[He,"auto",W,$],L=()=>["auto","min","max","fr",W,$],z=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],V=()=>["start","end","center","stretch","center-safe","end-safe"],_=()=>["auto",...j()],B=()=>[pt,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...j()],T=()=>[e,W,$],I=()=>[...w(),Bo,Vo,{position:[W,$]}],E=()=>["no-repeat",{repeat:["","x","y","space","round"]}],H=()=>["auto","cover","contain",Ql,Xl,{size:[W,$]}],q=()=>[Ur,_t,ot],Y=()=>["","none","full",f,W,$],te=()=>["",Z,_t,ot],ae=()=>["solid","dashed","dotted","double"],ie=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],F=()=>[Z,Ur,Bo,Vo],G=()=>["","none",b,W,$],J=()=>["none",Z,W,$],Q=()=>["none",Z,W,$],re=()=>[Z,W,$],oe=()=>[pt,"full",...j()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[ze],breakpoint:[ze],color:[Ul],container:[ze],"drop-shadow":[ze],ease:["in","out","in-out"],font:[Yl],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[ze],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[ze],shadow:[ze],spacing:["px",Z],text:[ze],"text-shadow":[ze],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",pt,$,W,x]}],container:["container"],columns:[{columns:[Z,$,W,c]}],"break-after":[{"break-after":y()}],"break-before":[{"break-before":y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:N()}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:P()}],"inset-x":[{"inset-x":P()}],"inset-y":[{"inset-y":P()}],start:[{start:P()}],end:[{end:P()}],top:[{top:P()}],right:[{right:P()}],bottom:[{bottom:P()}],left:[{left:P()}],visibility:["visible","invisible","collapse"],z:[{z:[He,"auto",W,$]}],basis:[{basis:[pt,"full","auto",c,...j()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Z,pt,"auto","initial","none",$]}],grow:[{grow:["",Z,W,$]}],shrink:[{shrink:["",Z,W,$]}],order:[{order:[He,"first","last","none",W,$]}],"grid-cols":[{"grid-cols":O()}],"col-start-end":[{col:k()}],"col-start":[{"col-start":M()}],"col-end":[{"col-end":M()}],"grid-rows":[{"grid-rows":O()}],"row-start-end":[{row:k()}],"row-start":[{"row-start":M()}],"row-end":[{"row-end":M()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":L()}],"auto-rows":[{"auto-rows":L()}],gap:[{gap:j()}],"gap-x":[{"gap-x":j()}],"gap-y":[{"gap-y":j()}],"justify-content":[{justify:[...z(),"normal"]}],"justify-items":[{"justify-items":[...V(),"normal"]}],"justify-self":[{"justify-self":["auto",...V()]}],"align-content":[{content:["normal",...z()]}],"align-items":[{items:[...V(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...V(),{baseline:["","last"]}]}],"place-content":[{"place-content":z()}],"place-items":[{"place-items":[...V(),"baseline"]}],"place-self":[{"place-self":["auto",...V()]}],p:[{p:j()}],px:[{px:j()}],py:[{py:j()}],ps:[{ps:j()}],pe:[{pe:j()}],pt:[{pt:j()}],pr:[{pr:j()}],pb:[{pb:j()}],pl:[{pl:j()}],m:[{m:_()}],mx:[{mx:_()}],my:[{my:_()}],ms:[{ms:_()}],me:[{me:_()}],mt:[{mt:_()}],mr:[{mr:_()}],mb:[{mb:_()}],ml:[{ml:_()}],"space-x":[{"space-x":j()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":j()}],"space-y-reverse":["space-y-reverse"],size:[{size:B()}],w:[{w:[c,"screen",...B()]}],"min-w":[{"min-w":[c,"screen","none",...B()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[i]},...B()]}],h:[{h:["screen",...B()]}],"min-h":[{"min-h":["screen","none",...B()]}],"max-h":[{"max-h":["screen",...B()]}],"font-size":[{text:["base",r,_t,ot]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,W,Gr]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Ur,$]}],"font-family":[{font:[Jl,$,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,W,$]}],"line-clamp":[{"line-clamp":[Z,"none",W,Gr]}],leading:[{leading:[a,...j()]}],"list-image":[{"list-image":["none",W,$]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",W,$]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:T()}],"text-color":[{text:T()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ae(),"wavy"]}],"text-decoration-thickness":[{decoration:[Z,"from-font","auto",W,ot]}],"text-decoration-color":[{decoration:T()}],"underline-offset":[{"underline-offset":[Z,"auto",W,$]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:j()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",W,$]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",W,$]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:I()}],"bg-repeat":[{bg:E()}],"bg-size":[{bg:H()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},He,W,$],radial:["",W,$],conic:[He,W,$]},eu,Zl]}],"bg-color":[{bg:T()}],"gradient-from-pos":[{from:q()}],"gradient-via-pos":[{via:q()}],"gradient-to-pos":[{to:q()}],"gradient-from":[{from:T()}],"gradient-via":[{via:T()}],"gradient-to":[{to:T()}],rounded:[{rounded:Y()}],"rounded-s":[{"rounded-s":Y()}],"rounded-e":[{"rounded-e":Y()}],"rounded-t":[{"rounded-t":Y()}],"rounded-r":[{"rounded-r":Y()}],"rounded-b":[{"rounded-b":Y()}],"rounded-l":[{"rounded-l":Y()}],"rounded-ss":[{"rounded-ss":Y()}],"rounded-se":[{"rounded-se":Y()}],"rounded-ee":[{"rounded-ee":Y()}],"rounded-es":[{"rounded-es":Y()}],"rounded-tl":[{"rounded-tl":Y()}],"rounded-tr":[{"rounded-tr":Y()}],"rounded-br":[{"rounded-br":Y()}],"rounded-bl":[{"rounded-bl":Y()}],"border-w":[{border:te()}],"border-w-x":[{"border-x":te()}],"border-w-y":[{"border-y":te()}],"border-w-s":[{"border-s":te()}],"border-w-e":[{"border-e":te()}],"border-w-t":[{"border-t":te()}],"border-w-r":[{"border-r":te()}],"border-w-b":[{"border-b":te()}],"border-w-l":[{"border-l":te()}],"divide-x":[{"divide-x":te()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":te()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ae(),"hidden","none"]}],"divide-style":[{divide:[...ae(),"hidden","none"]}],"border-color":[{border:T()}],"border-color-x":[{"border-x":T()}],"border-color-y":[{"border-y":T()}],"border-color-s":[{"border-s":T()}],"border-color-e":[{"border-e":T()}],"border-color-t":[{"border-t":T()}],"border-color-r":[{"border-r":T()}],"border-color-b":[{"border-b":T()}],"border-color-l":[{"border-l":T()}],"divide-color":[{divide:T()}],"outline-style":[{outline:[...ae(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Z,W,$]}],"outline-w":[{outline:["",Z,_t,ot]}],"outline-color":[{outline:T()}],shadow:[{shadow:["","none",u,rr,tr]}],"shadow-color":[{shadow:T()}],"inset-shadow":[{"inset-shadow":["none",d,rr,tr]}],"inset-shadow-color":[{"inset-shadow":T()}],"ring-w":[{ring:te()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:T()}],"ring-offset-w":[{"ring-offset":[Z,ot]}],"ring-offset-color":[{"ring-offset":T()}],"inset-ring-w":[{"inset-ring":te()}],"inset-ring-color":[{"inset-ring":T()}],"text-shadow":[{"text-shadow":["none",p,rr,tr]}],"text-shadow-color":[{"text-shadow":T()}],opacity:[{opacity:[Z,W,$]}],"mix-blend":[{"mix-blend":[...ie(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ie()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Z]}],"mask-image-linear-from-pos":[{"mask-linear-from":F()}],"mask-image-linear-to-pos":[{"mask-linear-to":F()}],"mask-image-linear-from-color":[{"mask-linear-from":T()}],"mask-image-linear-to-color":[{"mask-linear-to":T()}],"mask-image-t-from-pos":[{"mask-t-from":F()}],"mask-image-t-to-pos":[{"mask-t-to":F()}],"mask-image-t-from-color":[{"mask-t-from":T()}],"mask-image-t-to-color":[{"mask-t-to":T()}],"mask-image-r-from-pos":[{"mask-r-from":F()}],"mask-image-r-to-pos":[{"mask-r-to":F()}],"mask-image-r-from-color":[{"mask-r-from":T()}],"mask-image-r-to-color":[{"mask-r-to":T()}],"mask-image-b-from-pos":[{"mask-b-from":F()}],"mask-image-b-to-pos":[{"mask-b-to":F()}],"mask-image-b-from-color":[{"mask-b-from":T()}],"mask-image-b-to-color":[{"mask-b-to":T()}],"mask-image-l-from-pos":[{"mask-l-from":F()}],"mask-image-l-to-pos":[{"mask-l-to":F()}],"mask-image-l-from-color":[{"mask-l-from":T()}],"mask-image-l-to-color":[{"mask-l-to":T()}],"mask-image-x-from-pos":[{"mask-x-from":F()}],"mask-image-x-to-pos":[{"mask-x-to":F()}],"mask-image-x-from-color":[{"mask-x-from":T()}],"mask-image-x-to-color":[{"mask-x-to":T()}],"mask-image-y-from-pos":[{"mask-y-from":F()}],"mask-image-y-to-pos":[{"mask-y-to":F()}],"mask-image-y-from-color":[{"mask-y-from":T()}],"mask-image-y-to-color":[{"mask-y-to":T()}],"mask-image-radial":[{"mask-radial":[W,$]}],"mask-image-radial-from-pos":[{"mask-radial-from":F()}],"mask-image-radial-to-pos":[{"mask-radial-to":F()}],"mask-image-radial-from-color":[{"mask-radial-from":T()}],"mask-image-radial-to-color":[{"mask-radial-to":T()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":w()}],"mask-image-conic-pos":[{"mask-conic":[Z]}],"mask-image-conic-from-pos":[{"mask-conic-from":F()}],"mask-image-conic-to-pos":[{"mask-conic-to":F()}],"mask-image-conic-from-color":[{"mask-conic-from":T()}],"mask-image-conic-to-color":[{"mask-conic-to":T()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:I()}],"mask-repeat":[{mask:E()}],"mask-size":[{mask:H()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",W,$]}],filter:[{filter:["","none",W,$]}],blur:[{blur:G()}],brightness:[{brightness:[Z,W,$]}],contrast:[{contrast:[Z,W,$]}],"drop-shadow":[{"drop-shadow":["","none",v,rr,tr]}],"drop-shadow-color":[{"drop-shadow":T()}],grayscale:[{grayscale:["",Z,W,$]}],"hue-rotate":[{"hue-rotate":[Z,W,$]}],invert:[{invert:["",Z,W,$]}],saturate:[{saturate:[Z,W,$]}],sepia:[{sepia:["",Z,W,$]}],"backdrop-filter":[{"backdrop-filter":["","none",W,$]}],"backdrop-blur":[{"backdrop-blur":G()}],"backdrop-brightness":[{"backdrop-brightness":[Z,W,$]}],"backdrop-contrast":[{"backdrop-contrast":[Z,W,$]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Z,W,$]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Z,W,$]}],"backdrop-invert":[{"backdrop-invert":["",Z,W,$]}],"backdrop-opacity":[{"backdrop-opacity":[Z,W,$]}],"backdrop-saturate":[{"backdrop-saturate":[Z,W,$]}],"backdrop-sepia":[{"backdrop-sepia":["",Z,W,$]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":j()}],"border-spacing-x":[{"border-spacing-x":j()}],"border-spacing-y":[{"border-spacing-y":j()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",W,$]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Z,"initial",W,$]}],ease:[{ease:["linear","initial",g,W,$]}],delay:[{delay:[Z,W,$]}],animate:[{animate:["none",C,W,$]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[h,W,$]}],"perspective-origin":[{"perspective-origin":N()}],rotate:[{rotate:J()}],"rotate-x":[{"rotate-x":J()}],"rotate-y":[{"rotate-y":J()}],"rotate-z":[{"rotate-z":J()}],scale:[{scale:Q()}],"scale-x":[{"scale-x":Q()}],"scale-y":[{"scale-y":Q()}],"scale-z":[{"scale-z":Q()}],"scale-3d":["scale-3d"],skew:[{skew:re()}],"skew-x":[{"skew-x":re()}],"skew-y":[{"skew-y":re()}],transform:[{transform:[W,$,"","none","gpu","cpu"]}],"transform-origin":[{origin:N()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:oe()}],"translate-x":[{"translate-x":oe()}],"translate-y":[{"translate-y":oe()}],"translate-z":[{"translate-z":oe()}],"translate-none":["translate-none"],accent:[{accent:T()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:T()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",W,$]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":j()}],"scroll-mx":[{"scroll-mx":j()}],"scroll-my":[{"scroll-my":j()}],"scroll-ms":[{"scroll-ms":j()}],"scroll-me":[{"scroll-me":j()}],"scroll-mt":[{"scroll-mt":j()}],"scroll-mr":[{"scroll-mr":j()}],"scroll-mb":[{"scroll-mb":j()}],"scroll-ml":[{"scroll-ml":j()}],"scroll-p":[{"scroll-p":j()}],"scroll-px":[{"scroll-px":j()}],"scroll-py":[{"scroll-py":j()}],"scroll-ps":[{"scroll-ps":j()}],"scroll-pe":[{"scroll-pe":j()}],"scroll-pt":[{"scroll-pt":j()}],"scroll-pr":[{"scroll-pr":j()}],"scroll-pb":[{"scroll-pb":j()}],"scroll-pl":[{"scroll-pl":j()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",W,$]}],fill:[{fill:["none",...T()]}],"stroke-w":[{stroke:[Z,_t,ot,Gr]}],stroke:[{stroke:["none",...T()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}});function ee(...e){return nu(_o(e))}const Ko=kl,Kr=m.forwardRef(({className:e,...t},r)=>o.jsx(To,{ref:r,className:ee("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Kr.displayName=To.displayName;const Ue=m.forwardRef(({className:e,...t},r)=>o.jsx(Mo,{ref:r,className:ee("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Ue.displayName=Mo.displayName;const Ge=m.forwardRef(({className:e,...t},r)=>o.jsx(Ro,{ref:r,className:ee("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Ge.displayName=Ro.displayName;const fe=m.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:ee("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));fe.displayName="Card";const me=m.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:ee("flex flex-col space-y-1.5 p-6",e),...t}));me.displayName="CardHeader";const pe=m.forwardRef(({className:e,...t},r)=>o.jsx("h3",{ref:r,className:ee("text-2xl font-semibold leading-none tracking-tight",e),...t}));pe.displayName="CardTitle";const ou=m.forwardRef(({className:e,...t},r)=>o.jsx("p",{ref:r,className:ee("text-sm text-muted-foreground",e),...t}));ou.displayName="CardDescription";const he=m.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:ee("p-6 pt-0",e),...t}));he.displayName="CardContent";const su=m.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:ee("flex items-center p-6 pt-0",e),...t}));su.displayName="CardFooter";var au="Label",qo=m.forwardRef((e,t)=>o.jsx(X.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));qo.displayName=au;var Yo=qo;const Xo=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Zo=_o,qr=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return Zo(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:a}=t,i=Object.keys(s).map(f=>{const u=r==null?void 0:r[f],d=a==null?void 0:a[f];if(u===null)return null;const p=Xo(u)||Xo(d);return s[f][p]}),c=r&&Object.entries(r).reduce((f,u)=>{let[d,p]=u;return p===void 0||(f[d]=p),f},{}),l=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((f,u)=>{let{class:d,className:p,...v}=u;return Object.entries(v).every(b=>{let[h,x]=b;return Array.isArray(x)?x.includes({...a,...c}[h]):{...a,...c}[h]===x})?[...f,d,p]:f},[]);return Zo(e,i,l,r==null?void 0:r.class,r==null?void 0:r.className)},iu=qr("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),K=m.forwardRef(({className:e,...t},r)=>o.jsx(Yo,{ref:r,className:ee(iu(),e),...t}));K.displayName=Yo.displayName;function nr(e,[t,r]){return Math.min(r,Math.max(t,e))}function Yr(e){const t=m.useRef({value:e,previous:e});return m.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function Xr(e){const[t,r]=m.useState(void 0);return le(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let i,c;if("borderBoxSize"in a){const l=a.borderBoxSize,f=Array.isArray(l)?l[0]:l;i=f.inlineSize,c=f.blockSize}else i=e.offsetWidth,c=e.offsetHeight;r({width:i,height:c})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var Jo=["PageUp","PageDown"],Qo=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],es={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},vt="Slider",[Zr,cu,lu]=Zt(vt),[ts,lh]=Fe(vt,[lu]),[uu,or]=ts(vt),rs=m.forwardRef((e,t)=>{const{name:r,min:n=0,max:s=100,step:a=1,orientation:i="horizontal",disabled:c=!1,minStepsBetweenThumbs:l=0,defaultValue:f=[n],value:u,onValueChange:d=()=>{},onValueCommit:p=()=>{},inverted:v=!1,form:b,...h}=e,x=m.useRef(new Set),g=m.useRef(0),y=i==="horizontal"?du:fu,[w=[],N]=nt({prop:u,defaultProp:f,onChange:k=>{var L;(L=[...x.current][g.current])==null||L.focus(),d(k)}}),A=m.useRef(w);function R(k){const M=vu(w,k);O(k,M)}function j(k){O(k,g.current)}function P(){const k=A.current[g.current];w[g.current]!==k&&p(w)}function O(k,M,{commit:L}={commit:!1}){const z=wu(a),V=Cu(Math.round((k-n)/a)*a+n,z),_=nr(V,[n,s]);N((B=[])=>{const T=hu(B,_,M);if(bu(T,l*a)){g.current=T.indexOf(_);const I=String(T)!==String(B);return I&&L&&p(T),I?T:B}else return B})}return o.jsx(uu,{scope:e.__scopeSlider,name:r,disabled:c,min:n,max:s,valueIndexToChangeRef:g,thumbs:x.current,values:w,orientation:i,form:b,children:o.jsx(Zr.Provider,{scope:e.__scopeSlider,children:o.jsx(Zr.Slot,{scope:e.__scopeSlider,children:o.jsx(y,{"aria-disabled":c,"data-disabled":c?"":void 0,...h,ref:t,onPointerDown:U(h.onPointerDown,()=>{c||(A.current=w)}),min:n,max:s,inverted:v,onSlideStart:c?void 0:R,onSlideMove:c?void 0:j,onSlideEnd:c?void 0:P,onHomeKeyDown:()=>!c&&O(n,0,{commit:!0}),onEndKeyDown:()=>!c&&O(s,w.length-1,{commit:!0}),onStepKeyDown:({event:k,direction:M})=>{if(!c){const V=Jo.includes(k.key)||k.shiftKey&&Qo.includes(k.key)?10:1,_=g.current,B=w[_],T=a*V*M;O(B+T,_,{commit:!0})}}})})})})});rs.displayName=vt;var[ns,os]=ts(vt,{startEdge:"left",endEdge:"right",size:"width",direction:1}),du=m.forwardRef((e,t)=>{const{min:r,max:n,dir:s,inverted:a,onSlideStart:i,onSlideMove:c,onSlideEnd:l,onStepKeyDown:f,...u}=e,[d,p]=m.useState(null),v=ne(t,y=>p(y)),b=m.useRef(void 0),h=Rt(s),x=h==="ltr",g=x&&!a||!x&&a;function C(y){const w=b.current||d.getBoundingClientRect(),N=[0,w.width],R=en(N,g?[r,n]:[n,r]);return b.current=w,R(y-w.left)}return o.jsx(ns,{scope:e.__scopeSlider,startEdge:g?"left":"right",endEdge:g?"right":"left",direction:g?1:-1,size:"width",children:o.jsx(ss,{dir:h,"data-orientation":"horizontal",...u,ref:v,style:{...u.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:y=>{const w=C(y.clientX);i==null||i(w)},onSlideMove:y=>{const w=C(y.clientX);c==null||c(w)},onSlideEnd:()=>{b.current=void 0,l==null||l()},onStepKeyDown:y=>{const N=es[g?"from-left":"from-right"].includes(y.key);f==null||f({event:y,direction:N?-1:1})}})})}),fu=m.forwardRef((e,t)=>{const{min:r,max:n,inverted:s,onSlideStart:a,onSlideMove:i,onSlideEnd:c,onStepKeyDown:l,...f}=e,u=m.useRef(null),d=ne(t,u),p=m.useRef(void 0),v=!s;function b(h){const x=p.current||u.current.getBoundingClientRect(),g=[0,x.height],y=en(g,v?[n,r]:[r,n]);return p.current=x,y(h-x.top)}return o.jsx(ns,{scope:e.__scopeSlider,startEdge:v?"bottom":"top",endEdge:v?"top":"bottom",size:"height",direction:v?1:-1,children:o.jsx(ss,{"data-orientation":"vertical",...f,ref:d,style:{...f.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:h=>{const x=b(h.clientY);a==null||a(x)},onSlideMove:h=>{const x=b(h.clientY);i==null||i(x)},onSlideEnd:()=>{p.current=void 0,c==null||c()},onStepKeyDown:h=>{const g=es[v?"from-bottom":"from-top"].includes(h.key);l==null||l({event:h,direction:g?-1:1})}})})}),ss=m.forwardRef((e,t)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:s,onSlideEnd:a,onHomeKeyDown:i,onEndKeyDown:c,onStepKeyDown:l,...f}=e,u=or(vt,r);return o.jsx(X.span,{...f,ref:t,onKeyDown:U(e.onKeyDown,d=>{d.key==="Home"?(i(d),d.preventDefault()):d.key==="End"?(c(d),d.preventDefault()):Jo.concat(Qo).includes(d.key)&&(l(d),d.preventDefault())}),onPointerDown:U(e.onPointerDown,d=>{const p=d.target;p.setPointerCapture(d.pointerId),d.preventDefault(),u.thumbs.has(p)?p.focus():n(d)}),onPointerMove:U(e.onPointerMove,d=>{d.target.hasPointerCapture(d.pointerId)&&s(d)}),onPointerUp:U(e.onPointerUp,d=>{const p=d.target;p.hasPointerCapture(d.pointerId)&&(p.releasePointerCapture(d.pointerId),a(d))})})}),as="SliderTrack",is=m.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,s=or(as,r);return o.jsx(X.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...n,ref:t})});is.displayName=as;var Jr="SliderRange",cs=m.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,s=or(Jr,r),a=os(Jr,r),i=m.useRef(null),c=ne(t,i),l=s.values.length,f=s.values.map(p=>ds(p,s.min,s.max)),u=l>1?Math.min(...f):0,d=100-Math.max(...f);return o.jsx(X.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...n,ref:c,style:{...e.style,[a.startEdge]:u+"%",[a.endEdge]:d+"%"}})});cs.displayName=Jr;var Qr="SliderThumb",ls=m.forwardRef((e,t)=>{const r=cu(e.__scopeSlider),[n,s]=m.useState(null),a=ne(t,c=>s(c)),i=m.useMemo(()=>n?r().findIndex(c=>c.ref.current===n):-1,[r,n]);return o.jsx(mu,{...e,ref:a,index:i})}),mu=m.forwardRef((e,t)=>{const{__scopeSlider:r,index:n,name:s,...a}=e,i=or(Qr,r),c=os(Qr,r),[l,f]=m.useState(null),u=ne(t,C=>f(C)),d=l?i.form||!!l.closest("form"):!0,p=Xr(l),v=i.values[n],b=v===void 0?0:ds(v,i.min,i.max),h=gu(n,i.values.length),x=p==null?void 0:p[c.size],g=x?xu(x,b,c.direction):0;return m.useEffect(()=>{if(l)return i.thumbs.add(l),()=>{i.thumbs.delete(l)}},[l,i.thumbs]),o.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[c.startEdge]:`calc(${b}% + ${g}px)`},children:[o.jsx(Zr.ItemSlot,{scope:e.__scopeSlider,children:o.jsx(X.span,{role:"slider","aria-label":e["aria-label"]||h,"aria-valuemin":i.min,"aria-valuenow":v,"aria-valuemax":i.max,"aria-orientation":i.orientation,"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,tabIndex:i.disabled?void 0:0,...a,ref:u,style:v===void 0?{display:"none"}:e.style,onFocus:U(e.onFocus,()=>{i.valueIndexToChangeRef.current=n})})}),d&&o.jsx(us,{name:s??(i.name?i.name+(i.values.length>1?"[]":""):void 0),form:i.form,value:v},n)]})});ls.displayName=Qr;var pu="RadioBubbleInput",us=m.forwardRef(({__scopeSlider:e,value:t,...r},n)=>{const s=m.useRef(null),a=ne(s,n),i=Yr(t);return m.useEffect(()=>{const c=s.current;if(!c)return;const l=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(i!==t&&u){const d=new Event("input",{bubbles:!0});u.call(c,t),c.dispatchEvent(d)}},[i,t]),o.jsx(X.input,{style:{display:"none"},...r,ref:a,defaultValue:t})});us.displayName=pu;function hu(e=[],t,r){const n=[...e];return n[r]=t,n.sort((s,a)=>s-a)}function ds(e,t,r){const a=100/(r-t)*(e-t);return nr(a,[0,100])}function gu(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function vu(e,t){if(e.length===1)return 0;const r=e.map(s=>Math.abs(s-t)),n=Math.min(...r);return r.indexOf(n)}function xu(e,t,r){const n=e/2,a=en([0,50],[0,n]);return(n-a(t)*r)*r}function yu(e){return e.slice(0,-1).map((t,r)=>e[r+1]-t)}function bu(e,t){if(t>0){const r=yu(e);return Math.min(...r)>=t}return!0}function en(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function wu(e){return(String(e).split(".")[1]||"").length}function Cu(e,t){const r=Math.pow(10,t);return Math.round(e*r)/r}var fs=rs,Nu=is,ku=cs,Eu=ls;const Ee=m.forwardRef(({className:e,...t},r)=>o.jsxs(fs,{ref:r,className:ee("relative flex w-full touch-none select-none items-center",e),...t,children:[o.jsx(Nu,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:o.jsx(ku,{className:"absolute h-full bg-primary"})}),o.jsx(Eu,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));Ee.displayName=fs.displayName;var sr="Switch",[ju,uh]=Fe(sr),[Su,Tu]=ju(sr),ms=m.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:s,defaultChecked:a,required:i,disabled:c,value:l="on",onCheckedChange:f,form:u,...d}=e,[p,v]=m.useState(null),b=ne(t,y=>v(y)),h=m.useRef(!1),x=p?u||!!p.closest("form"):!0,[g,C]=nt({prop:s,defaultProp:a??!1,onChange:f,caller:sr});return o.jsxs(Su,{scope:r,checked:g,disabled:c,children:[o.jsx(X.button,{type:"button",role:"switch","aria-checked":g,"aria-required":i,"data-state":vs(g),"data-disabled":c?"":void 0,disabled:c,value:l,...d,ref:b,onClick:U(e.onClick,y=>{C(w=>!w),x&&(h.current=y.isPropagationStopped(),h.current||y.stopPropagation())})}),x&&o.jsx(gs,{control:p,bubbles:!h.current,name:n,value:l,checked:g,required:i,disabled:c,form:u,style:{transform:"translateX(-100%)"}})]})});ms.displayName=sr;var ps="SwitchThumb",hs=m.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,s=Tu(ps,r);return o.jsx(X.span,{"data-state":vs(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:t})});hs.displayName=ps;var Mu="SwitchBubbleInput",gs=m.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...s},a)=>{const i=m.useRef(null),c=ne(i,a),l=Yr(r),f=Xr(t);return m.useEffect(()=>{const u=i.current;if(!u)return;const d=window.HTMLInputElement.prototype,v=Object.getOwnPropertyDescriptor(d,"checked").set;if(l!==r&&v){const b=new Event("click",{bubbles:n});v.call(u,r),u.dispatchEvent(b)}},[l,r,n]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:c,style:{...s.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});gs.displayName=Mu;function vs(e){return e?"checked":"unchecked"}var xs=ms,Ru=hs;const tn=m.forwardRef(({className:e,...t},r)=>o.jsx(xs,{className:ee("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:o.jsx(Ru,{className:ee("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));tn.displayName=xs.displayName;function Au({planetStats:e,setPlanetStats:t}){var s;const r=et(e.mass,e.radius),n=(a,i)=>{t({...e,[a]:i})};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs(fe,{className:"bg-black/60 border-green-500/30 text-green-400",children:[o.jsx(me,{className:"pb-2",children:o.jsx(pe,{className:"text-lg tracking-wide",children:"MASS PROPERTIES"})}),o.jsxs(he,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx(K,{className:"text-green-300",children:"Mass (Earth masses)"}),o.jsx("span",{className:"font-bold",children:e.mass.toFixed(2)})]}),o.jsx(Ee,{value:[e.mass],min:.1,max:15,step:.1,onValueChange:a=>n("mass",a[0]),className:"[&_[role=slider]]:bg-green-500"})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx(K,{className:"text-green-300",children:"Radius (Earth radii)"}),o.jsx("span",{className:"font-bold",children:e.radius.toFixed(2)})]}),o.jsx(Ee,{value:[e.radius],min:.1,max:10,step:.1,onValueChange:a=>n("radius",a[0]),className:"[&_[role=slider]]:bg-green-500"})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx(K,{className:"text-green-300",children:"Density (g/cm³)"}),o.jsx("span",{className:"font-bold",children:((s=e.density)==null?void 0:s.toFixed(2))||"N/A"})]}),o.jsx("p",{className:"text-xs text-green-500/70",children:"Calculated from mass and radius"})]})]})]}),o.jsxs(fe,{className:"bg-black/60 border-green-500/30 text-green-400",children:[o.jsx(me,{className:"pb-2",children:o.jsx(pe,{className:"text-lg tracking-wide",children:"THERMAL PROPERTIES"})}),o.jsx(he,{className:"space-y-4",children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx(K,{className:"text-green-300",children:"Temperature (K)"}),o.jsxs("span",{className:"font-bold",children:[e.temperature," K (",(e.temperature-273.15).toFixed(1),"°C)"]})]}),o.jsx(Ee,{value:[e.temperature],min:50,max:700,step:1,onValueChange:a=>n("temperature",a[0]),className:"[&_[role=slider]]:bg-green-500"})]})})]}),o.jsxs(fe,{className:"bg-black/60 border-green-500/30 text-green-400",children:[o.jsx(me,{className:"pb-2",children:o.jsx(pe,{className:"text-lg tracking-wide",children:"CLASSIFICATION"})}),o.jsxs(he,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx(K,{className:"text-green-300",children:"Planet Type"}),o.jsx("span",{className:"text-sm capitalize font-bold",children:r})]}),o.jsx("p",{className:"text-xs text-green-500/70",children:r==="gaseous"?"Gas giants have mass > 7 Earth masses or radius > 2.5 Earth radii":"Terrestrial planets have smaller mass and radius"})]}),o.jsx("div",{className:"space-y-3",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx(K,{className:"text-green-300",children:"Has Rings"}),o.jsx(tn,{checked:e.hasRings,onCheckedChange:a=>n("hasRings",a),className:"data-[state=checked]:bg-green-600"})]})})]})]})]})}function _u(e,t=globalThis==null?void 0:globalThis.document){const r=Ae(e);m.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var Pu="DismissableLayer",rn="dismissableLayer.update",Iu="dismissableLayer.pointerDownOutside",Du="dismissableLayer.focusOutside",ys,bs=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),nn=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:i,onDismiss:c,...l}=e,f=m.useContext(bs),[u,d]=m.useState(null),p=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,v]=m.useState({}),b=ne(t,R=>d(R)),h=Array.from(f.layers),[x]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),g=h.indexOf(x),C=u?h.indexOf(u):-1,y=f.layersWithOutsidePointerEventsDisabled.size>0,w=C>=g,N=Fu(R=>{const j=R.target,P=[...f.branches].some(O=>O.contains(j));!w||P||(s==null||s(R),i==null||i(R),R.defaultPrevented||c==null||c())},p),A=zu(R=>{const j=R.target;[...f.branches].some(O=>O.contains(j))||(a==null||a(R),i==null||i(R),R.defaultPrevented||c==null||c())},p);return _u(R=>{C===f.layers.size-1&&(n==null||n(R),!R.defaultPrevented&&c&&(R.preventDefault(),c()))},p),m.useEffect(()=>{if(u)return r&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(ys=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(u)),f.layers.add(u),ws(),()=>{r&&f.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=ys)}},[u,p,r,f]),m.useEffect(()=>()=>{u&&(f.layers.delete(u),f.layersWithOutsidePointerEventsDisabled.delete(u),ws())},[u,f]),m.useEffect(()=>{const R=()=>v({});return document.addEventListener(rn,R),()=>document.removeEventListener(rn,R)},[]),o.jsx(X.div,{...l,ref:b,style:{pointerEvents:y?w?"auto":"none":void 0,...e.style},onFocusCapture:U(e.onFocusCapture,A.onFocusCapture),onBlurCapture:U(e.onBlurCapture,A.onBlurCapture),onPointerDownCapture:U(e.onPointerDownCapture,N.onPointerDownCapture)})});nn.displayName=Pu;var Ou="DismissableLayerBranch",Lu=m.forwardRef((e,t)=>{const r=m.useContext(bs),n=m.useRef(null),s=ne(t,n);return m.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),o.jsx(X.div,{...e,ref:s})});Lu.displayName=Ou;function Fu(e,t=globalThis==null?void 0:globalThis.document){const r=Ae(e),n=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const a=c=>{if(c.target&&!n.current){let l=function(){Cs(Iu,r,f,{discrete:!0})};const f={originalEvent:c};c.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=l,t.addEventListener("click",s.current,{once:!0})):l()}else t.removeEventListener("click",s.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",a),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function zu(e,t=globalThis==null?void 0:globalThis.document){const r=Ae(e),n=m.useRef(!1);return m.useEffect(()=>{const s=a=>{a.target&&!n.current&&Cs(Du,r,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function ws(){const e=new CustomEvent(rn);document.dispatchEvent(e)}function Cs(e,t,r,{discrete:n}){const s=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?lo(s,a):s.dispatchEvent(a)}var on=0;function Ns(){m.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??ks()),document.body.insertAdjacentElement("beforeend",e[1]??ks()),on++,()=>{on===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),on--}},[])}function ks(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var sn="focusScope.autoFocusOnMount",an="focusScope.autoFocusOnUnmount",Es={bubbles:!1,cancelable:!0},Vu="FocusScope",cn=m.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...i}=e,[c,l]=m.useState(null),f=Ae(s),u=Ae(a),d=m.useRef(null),p=ne(t,h=>l(h)),v=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(n){let h=function(y){if(v.paused||!c)return;const w=y.target;c.contains(w)?d.current=w:Ke(d.current,{select:!0})},x=function(y){if(v.paused||!c)return;const w=y.relatedTarget;w!==null&&(c.contains(w)||Ke(d.current,{select:!0}))},g=function(y){if(document.activeElement===document.body)for(const N of y)N.removedNodes.length>0&&Ke(c)};document.addEventListener("focusin",h),document.addEventListener("focusout",x);const C=new MutationObserver(g);return c&&C.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",h),document.removeEventListener("focusout",x),C.disconnect()}}},[n,c,v.paused]),m.useEffect(()=>{if(c){Ts.add(v);const h=document.activeElement;if(!c.contains(h)){const g=new CustomEvent(sn,Es);c.addEventListener(sn,f),c.dispatchEvent(g),g.defaultPrevented||(Bu(Gu(js(c)),{select:!0}),document.activeElement===h&&Ke(c))}return()=>{c.removeEventListener(sn,f),setTimeout(()=>{const g=new CustomEvent(an,Es);c.addEventListener(an,u),c.dispatchEvent(g),g.defaultPrevented||Ke(h??document.body,{select:!0}),c.removeEventListener(an,u),Ts.remove(v)},0)}}},[c,f,u,v]);const b=m.useCallback(h=>{if(!r&&!n||v.paused)return;const x=h.key==="Tab"&&!h.altKey&&!h.ctrlKey&&!h.metaKey,g=document.activeElement;if(x&&g){const C=h.currentTarget,[y,w]=$u(C);y&&w?!h.shiftKey&&g===w?(h.preventDefault(),r&&Ke(y,{select:!0})):h.shiftKey&&g===y&&(h.preventDefault(),r&&Ke(w,{select:!0})):g===C&&h.preventDefault()}},[r,n,v.paused]);return o.jsx(X.div,{tabIndex:-1,...i,ref:p,onKeyDown:b})});cn.displayName=Vu;function Bu(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Ke(n,{select:t}),document.activeElement!==r)return}function $u(e){const t=js(e),r=Ss(t,e),n=Ss(t.reverse(),e);return[r,n]}function js(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Ss(e,t){for(const r of e)if(!Wu(r,{upTo:t}))return r}function Wu(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Hu(e){return e instanceof HTMLInputElement&&"select"in e}function Ke(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&Hu(e)&&t&&e.select()}}var Ts=Uu();function Uu(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=Ms(e,t),e.unshift(t)},remove(t){var r;e=Ms(e,t),(r=e[0])==null||r.resume()}}}function Ms(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function Gu(e){return e.filter(t=>t.tagName!=="A")}const Ku=["top","right","bottom","left"],qe=Math.min,be=Math.max,ar=Math.round,ir=Math.floor,_e=e=>({x:e,y:e}),qu={left:"right",right:"left",bottom:"top",top:"bottom"},Yu={start:"end",end:"start"};function ln(e,t,r){return be(e,qe(t,r))}function Ve(e,t){return typeof e=="function"?e(t):e}function Be(e){return e.split("-")[0]}function xt(e){return e.split("-")[1]}function un(e){return e==="x"?"y":"x"}function dn(e){return e==="y"?"height":"width"}function $e(e){return["top","bottom"].includes(Be(e))?"y":"x"}function fn(e){return un($e(e))}function Xu(e,t,r){r===void 0&&(r=!1);const n=xt(e),s=fn(e),a=dn(s);let i=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(i=cr(i)),[i,cr(i)]}function Zu(e){const t=cr(e);return[mn(e),t,mn(t)]}function mn(e){return e.replace(/start|end/g,t=>Yu[t])}function Ju(e,t,r){const n=["left","right"],s=["right","left"],a=["top","bottom"],i=["bottom","top"];switch(e){case"top":case"bottom":return r?t?s:n:t?n:s;case"left":case"right":return t?a:i;default:return[]}}function Qu(e,t,r,n){const s=xt(e);let a=Ju(Be(e),r==="start",n);return s&&(a=a.map(i=>i+"-"+s),t&&(a=a.concat(a.map(mn)))),a}function cr(e){return e.replace(/left|right|bottom|top/g,t=>qu[t])}function ed(e){return{top:0,right:0,bottom:0,left:0,...e}}function Rs(e){return typeof e!="number"?ed(e):{top:e,right:e,bottom:e,left:e}}function lr(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function As(e,t,r){let{reference:n,floating:s}=e;const a=$e(t),i=fn(t),c=dn(i),l=Be(t),f=a==="y",u=n.x+n.width/2-s.width/2,d=n.y+n.height/2-s.height/2,p=n[c]/2-s[c]/2;let v;switch(l){case"top":v={x:u,y:n.y-s.height};break;case"bottom":v={x:u,y:n.y+n.height};break;case"right":v={x:n.x+n.width,y:d};break;case"left":v={x:n.x-s.width,y:d};break;default:v={x:n.x,y:n.y}}switch(xt(t)){case"start":v[i]-=p*(r&&f?-1:1);break;case"end":v[i]+=p*(r&&f?-1:1);break}return v}const td=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:a=[],platform:i}=r,c=a.filter(Boolean),l=await(i.isRTL==null?void 0:i.isRTL(t));let f=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:u,y:d}=As(f,n,l),p=n,v={},b=0;for(let h=0;h<c.length;h++){const{name:x,fn:g}=c[h],{x:C,y,data:w,reset:N}=await g({x:u,y:d,initialPlacement:n,placement:p,strategy:s,middlewareData:v,rects:f,platform:i,elements:{reference:e,floating:t}});u=C??u,d=y??d,v={...v,[x]:{...v[x],...w}},N&&b<=50&&(b++,typeof N=="object"&&(N.placement&&(p=N.placement),N.rects&&(f=N.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:s}):N.rects),{x:u,y:d}=As(f,p,l)),h=-1)}return{x:u,y:d,placement:p,strategy:s,middlewareData:v}};async function Pt(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:a,rects:i,elements:c,strategy:l}=e,{boundary:f="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:p=!1,padding:v=0}=Ve(t,e),b=Rs(v),x=c[p?d==="floating"?"reference":"floating":d],g=lr(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(x)))==null||r?x:x.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(c.floating)),boundary:f,rootBoundary:u,strategy:l})),C=d==="floating"?{x:n,y:s,width:i.floating.width,height:i.floating.height}:i.reference,y=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c.floating)),w=await(a.isElement==null?void 0:a.isElement(y))?await(a.getScale==null?void 0:a.getScale(y))||{x:1,y:1}:{x:1,y:1},N=lr(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:C,offsetParent:y,strategy:l}):C);return{top:(g.top-N.top+b.top)/w.y,bottom:(N.bottom-g.bottom+b.bottom)/w.y,left:(g.left-N.left+b.left)/w.x,right:(N.right-g.right+b.right)/w.x}}const rd=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:a,platform:i,elements:c,middlewareData:l}=t,{element:f,padding:u=0}=Ve(e,t)||{};if(f==null)return{};const d=Rs(u),p={x:r,y:n},v=fn(s),b=dn(v),h=await i.getDimensions(f),x=v==="y",g=x?"top":"left",C=x?"bottom":"right",y=x?"clientHeight":"clientWidth",w=a.reference[b]+a.reference[v]-p[v]-a.floating[b],N=p[v]-a.reference[v],A=await(i.getOffsetParent==null?void 0:i.getOffsetParent(f));let R=A?A[y]:0;(!R||!await(i.isElement==null?void 0:i.isElement(A)))&&(R=c.floating[y]||a.floating[b]);const j=w/2-N/2,P=R/2-h[b]/2-1,O=qe(d[g],P),k=qe(d[C],P),M=O,L=R-h[b]-k,z=R/2-h[b]/2+j,V=ln(M,z,L),_=!l.arrow&&xt(s)!=null&&z!==V&&a.reference[b]/2-(z<M?O:k)-h[b]/2<0,B=_?z<M?z-M:z-L:0;return{[v]:p[v]+B,data:{[v]:V,centerOffset:z-V-B,..._&&{alignmentOffset:B}},reset:_}}}),nd=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:a,rects:i,initialPlacement:c,platform:l,elements:f}=t,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:p,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:h=!0,...x}=Ve(e,t);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const g=Be(s),C=$e(c),y=Be(c)===c,w=await(l.isRTL==null?void 0:l.isRTL(f.floating)),N=p||(y||!h?[cr(c)]:Zu(c)),A=b!=="none";!p&&A&&N.push(...Qu(c,h,b,w));const R=[c,...N],j=await Pt(t,x),P=[];let O=((n=a.flip)==null?void 0:n.overflows)||[];if(u&&P.push(j[g]),d){const V=Xu(s,i,w);P.push(j[V[0]],j[V[1]])}if(O=[...O,{placement:s,overflows:P}],!P.every(V=>V<=0)){var k,M;const V=(((k=a.flip)==null?void 0:k.index)||0)+1,_=R[V];if(_){var L;const T=d==="alignment"?C!==$e(_):!1,I=((L=O[0])==null?void 0:L.overflows[0])>0;if(!T||I)return{data:{index:V,overflows:O},reset:{placement:_}}}let B=(M=O.filter(T=>T.overflows[0]<=0).sort((T,I)=>T.overflows[1]-I.overflows[1])[0])==null?void 0:M.placement;if(!B)switch(v){case"bestFit":{var z;const T=(z=O.filter(I=>{if(A){const E=$e(I.placement);return E===C||E==="y"}return!0}).map(I=>[I.placement,I.overflows.filter(E=>E>0).reduce((E,H)=>E+H,0)]).sort((I,E)=>I[1]-E[1])[0])==null?void 0:z[0];T&&(B=T);break}case"initialPlacement":B=c;break}if(s!==B)return{reset:{placement:B}}}return{}}}};function _s(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Ps(e){return Ku.some(t=>e[t]>=0)}const od=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=Ve(e,t);switch(n){case"referenceHidden":{const a=await Pt(t,{...s,elementContext:"reference"}),i=_s(a,r.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:Ps(i)}}}case"escaped":{const a=await Pt(t,{...s,altBoundary:!0}),i=_s(a,r.floating);return{data:{escapedOffsets:i,escaped:Ps(i)}}}default:return{}}}}};async function sd(e,t){const{placement:r,platform:n,elements:s}=e,a=await(n.isRTL==null?void 0:n.isRTL(s.floating)),i=Be(r),c=xt(r),l=$e(r)==="y",f=["left","top"].includes(i)?-1:1,u=a&&l?-1:1,d=Ve(t,e);let{mainAxis:p,crossAxis:v,alignmentAxis:b}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return c&&typeof b=="number"&&(v=c==="end"?b*-1:b),l?{x:v*u,y:p*f}:{x:p*f,y:v*u}}const ad=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:a,placement:i,middlewareData:c}=t,l=await sd(t,e);return i===((r=c.offset)==null?void 0:r.placement)&&(n=c.arrow)!=null&&n.alignmentOffset?{}:{x:s+l.x,y:a+l.y,data:{...l,placement:i}}}}},id=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:a=!0,crossAxis:i=!1,limiter:c={fn:x=>{let{x:g,y:C}=x;return{x:g,y:C}}},...l}=Ve(e,t),f={x:r,y:n},u=await Pt(t,l),d=$e(Be(s)),p=un(d);let v=f[p],b=f[d];if(a){const x=p==="y"?"top":"left",g=p==="y"?"bottom":"right",C=v+u[x],y=v-u[g];v=ln(C,v,y)}if(i){const x=d==="y"?"top":"left",g=d==="y"?"bottom":"right",C=b+u[x],y=b-u[g];b=ln(C,b,y)}const h=c.fn({...t,[p]:v,[d]:b});return{...h,data:{x:h.x-r,y:h.y-n,enabled:{[p]:a,[d]:i}}}}}},cd=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:a,middlewareData:i}=t,{offset:c=0,mainAxis:l=!0,crossAxis:f=!0}=Ve(e,t),u={x:r,y:n},d=$e(s),p=un(d);let v=u[p],b=u[d];const h=Ve(c,t),x=typeof h=="number"?{mainAxis:h,crossAxis:0}:{mainAxis:0,crossAxis:0,...h};if(l){const y=p==="y"?"height":"width",w=a.reference[p]-a.floating[y]+x.mainAxis,N=a.reference[p]+a.reference[y]-x.mainAxis;v<w?v=w:v>N&&(v=N)}if(f){var g,C;const y=p==="y"?"width":"height",w=["top","left"].includes(Be(s)),N=a.reference[d]-a.floating[y]+(w&&((g=i.offset)==null?void 0:g[d])||0)+(w?0:x.crossAxis),A=a.reference[d]+a.reference[y]+(w?0:((C=i.offset)==null?void 0:C[d])||0)-(w?x.crossAxis:0);b<N?b=N:b>A&&(b=A)}return{[p]:v,[d]:b}}}},ld=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:a,platform:i,elements:c}=t,{apply:l=()=>{},...f}=Ve(e,t),u=await Pt(t,f),d=Be(s),p=xt(s),v=$e(s)==="y",{width:b,height:h}=a.floating;let x,g;d==="top"||d==="bottom"?(x=d,g=p===(await(i.isRTL==null?void 0:i.isRTL(c.floating))?"start":"end")?"left":"right"):(g=d,x=p==="end"?"top":"bottom");const C=h-u.top-u.bottom,y=b-u.left-u.right,w=qe(h-u[x],C),N=qe(b-u[g],y),A=!t.middlewareData.shift;let R=w,j=N;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(j=y),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(R=C),A&&!p){const O=be(u.left,0),k=be(u.right,0),M=be(u.top,0),L=be(u.bottom,0);v?j=b-2*(O!==0||k!==0?O+k:be(u.left,u.right)):R=h-2*(M!==0||L!==0?M+L:be(u.top,u.bottom))}await l({...t,availableWidth:j,availableHeight:R});const P=await i.getDimensions(c.floating);return b!==P.width||h!==P.height?{reset:{rects:!0}}:{}}}};function ur(){return typeof window<"u"}function yt(e){return Is(e)?(e.nodeName||"").toLowerCase():"#document"}function we(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Pe(e){var t;return(t=(Is(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Is(e){return ur()?e instanceof Node||e instanceof we(e).Node:!1}function je(e){return ur()?e instanceof Element||e instanceof we(e).Element:!1}function Ie(e){return ur()?e instanceof HTMLElement||e instanceof we(e).HTMLElement:!1}function Ds(e){return!ur()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof we(e).ShadowRoot}function It(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=Se(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(s)}function ud(e){return["table","td","th"].includes(yt(e))}function dr(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function pn(e){const t=hn(),r=je(e)?Se(e):e;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function dd(e){let t=Ye(e);for(;Ie(t)&&!bt(t);){if(pn(t))return t;if(dr(t))return null;t=Ye(t)}return null}function hn(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function bt(e){return["html","body","#document"].includes(yt(e))}function Se(e){return we(e).getComputedStyle(e)}function fr(e){return je(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ye(e){if(yt(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Ds(e)&&e.host||Pe(e);return Ds(t)?t.host:t}function Os(e){const t=Ye(e);return bt(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ie(t)&&It(t)?t:Os(t)}function Dt(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=Os(e),a=s===((n=e.ownerDocument)==null?void 0:n.body),i=we(s);if(a){const c=gn(i);return t.concat(i,i.visualViewport||[],It(s)?s:[],c&&r?Dt(c):[])}return t.concat(s,Dt(s,[],r))}function gn(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Ls(e){const t=Se(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=Ie(e),a=s?e.offsetWidth:r,i=s?e.offsetHeight:n,c=ar(r)!==a||ar(n)!==i;return c&&(r=a,n=i),{width:r,height:n,$:c}}function vn(e){return je(e)?e:e.contextElement}function wt(e){const t=vn(e);if(!Ie(t))return _e(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:a}=Ls(t);let i=(a?ar(r.width):r.width)/n,c=(a?ar(r.height):r.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!c||!Number.isFinite(c))&&(c=1),{x:i,y:c}}const fd=_e(0);function Fs(e){const t=we(e);return!hn()||!t.visualViewport?fd:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function md(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==we(e)?!1:t}function st(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),a=vn(e);let i=_e(1);t&&(n?je(n)&&(i=wt(n)):i=wt(e));const c=md(a,r,n)?Fs(a):_e(0);let l=(s.left+c.x)/i.x,f=(s.top+c.y)/i.y,u=s.width/i.x,d=s.height/i.y;if(a){const p=we(a),v=n&&je(n)?we(n):n;let b=p,h=gn(b);for(;h&&n&&v!==b;){const x=wt(h),g=h.getBoundingClientRect(),C=Se(h),y=g.left+(h.clientLeft+parseFloat(C.paddingLeft))*x.x,w=g.top+(h.clientTop+parseFloat(C.paddingTop))*x.y;l*=x.x,f*=x.y,u*=x.x,d*=x.y,l+=y,f+=w,b=we(h),h=gn(b)}}return lr({width:u,height:d,x:l,y:f})}function xn(e,t){const r=fr(e).scrollLeft;return t?t.left+r:st(Pe(e)).left+r}function zs(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),s=n.left+t.scrollLeft-(r?0:xn(e,n)),a=n.top+t.scrollTop;return{x:s,y:a}}function pd(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const a=s==="fixed",i=Pe(n),c=t?dr(t.floating):!1;if(n===i||c&&a)return r;let l={scrollLeft:0,scrollTop:0},f=_e(1);const u=_e(0),d=Ie(n);if((d||!d&&!a)&&((yt(n)!=="body"||It(i))&&(l=fr(n)),Ie(n))){const v=st(n);f=wt(n),u.x=v.x+n.clientLeft,u.y=v.y+n.clientTop}const p=i&&!d&&!a?zs(i,l,!0):_e(0);return{width:r.width*f.x,height:r.height*f.y,x:r.x*f.x-l.scrollLeft*f.x+u.x+p.x,y:r.y*f.y-l.scrollTop*f.y+u.y+p.y}}function hd(e){return Array.from(e.getClientRects())}function gd(e){const t=Pe(e),r=fr(e),n=e.ownerDocument.body,s=be(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),a=be(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let i=-r.scrollLeft+xn(e);const c=-r.scrollTop;return Se(n).direction==="rtl"&&(i+=be(t.clientWidth,n.clientWidth)-s),{width:s,height:a,x:i,y:c}}function vd(e,t){const r=we(e),n=Pe(e),s=r.visualViewport;let a=n.clientWidth,i=n.clientHeight,c=0,l=0;if(s){a=s.width,i=s.height;const f=hn();(!f||f&&t==="fixed")&&(c=s.offsetLeft,l=s.offsetTop)}return{width:a,height:i,x:c,y:l}}function xd(e,t){const r=st(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,a=Ie(e)?wt(e):_e(1),i=e.clientWidth*a.x,c=e.clientHeight*a.y,l=s*a.x,f=n*a.y;return{width:i,height:c,x:l,y:f}}function Vs(e,t,r){let n;if(t==="viewport")n=vd(e,r);else if(t==="document")n=gd(Pe(e));else if(je(t))n=xd(t,r);else{const s=Fs(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return lr(n)}function Bs(e,t){const r=Ye(e);return r===t||!je(r)||bt(r)?!1:Se(r).position==="fixed"||Bs(r,t)}function yd(e,t){const r=t.get(e);if(r)return r;let n=Dt(e,[],!1).filter(c=>je(c)&&yt(c)!=="body"),s=null;const a=Se(e).position==="fixed";let i=a?Ye(e):e;for(;je(i)&&!bt(i);){const c=Se(i),l=pn(i);!l&&c.position==="fixed"&&(s=null),(a?!l&&!s:!l&&c.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||It(i)&&!l&&Bs(e,i))?n=n.filter(u=>u!==i):s=c,i=Ye(i)}return t.set(e,n),n}function bd(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const i=[...r==="clippingAncestors"?dr(t)?[]:yd(t,this._c):[].concat(r),n],c=i[0],l=i.reduce((f,u)=>{const d=Vs(t,u,s);return f.top=be(d.top,f.top),f.right=qe(d.right,f.right),f.bottom=qe(d.bottom,f.bottom),f.left=be(d.left,f.left),f},Vs(t,c,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function wd(e){const{width:t,height:r}=Ls(e);return{width:t,height:r}}function Cd(e,t,r){const n=Ie(t),s=Pe(t),a=r==="fixed",i=st(e,!0,a,t);let c={scrollLeft:0,scrollTop:0};const l=_e(0);function f(){l.x=xn(s)}if(n||!n&&!a)if((yt(t)!=="body"||It(s))&&(c=fr(t)),n){const v=st(t,!0,a,t);l.x=v.x+t.clientLeft,l.y=v.y+t.clientTop}else s&&f();a&&!n&&s&&f();const u=s&&!n&&!a?zs(s,c):_e(0),d=i.left+c.scrollLeft-l.x-u.x,p=i.top+c.scrollTop-l.y-u.y;return{x:d,y:p,width:i.width,height:i.height}}function yn(e){return Se(e).position==="static"}function $s(e,t){if(!Ie(e)||Se(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Pe(e)===r&&(r=r.ownerDocument.body),r}function Ws(e,t){const r=we(e);if(dr(e))return r;if(!Ie(e)){let s=Ye(e);for(;s&&!bt(s);){if(je(s)&&!yn(s))return s;s=Ye(s)}return r}let n=$s(e,t);for(;n&&ud(n)&&yn(n);)n=$s(n,t);return n&&bt(n)&&yn(n)&&!pn(n)?r:n||dd(e)||r}const Nd=async function(e){const t=this.getOffsetParent||Ws,r=this.getDimensions,n=await r(e.floating);return{reference:Cd(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function kd(e){return Se(e).direction==="rtl"}const Ed={convertOffsetParentRelativeRectToViewportRelativeRect:pd,getDocumentElement:Pe,getClippingRect:bd,getOffsetParent:Ws,getElementRects:Nd,getClientRects:hd,getDimensions:wd,getScale:wt,isElement:je,isRTL:kd};function Hs(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function jd(e,t){let r=null,n;const s=Pe(e);function a(){var c;clearTimeout(n),(c=r)==null||c.disconnect(),r=null}function i(c,l){c===void 0&&(c=!1),l===void 0&&(l=1),a();const f=e.getBoundingClientRect(),{left:u,top:d,width:p,height:v}=f;if(c||t(),!p||!v)return;const b=ir(d),h=ir(s.clientWidth-(u+p)),x=ir(s.clientHeight-(d+v)),g=ir(u),y={rootMargin:-b+"px "+-h+"px "+-x+"px "+-g+"px",threshold:be(0,qe(1,l))||1};let w=!0;function N(A){const R=A[0].intersectionRatio;if(R!==l){if(!w)return i();R?i(!1,R):n=setTimeout(()=>{i(!1,1e-7)},1e3)}R===1&&!Hs(f,e.getBoundingClientRect())&&i(),w=!1}try{r=new IntersectionObserver(N,{...y,root:s.ownerDocument})}catch{r=new IntersectionObserver(N,y)}r.observe(e)}return i(!0),a}function Sd(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,f=vn(e),u=s||a?[...f?Dt(f):[],...Dt(t)]:[];u.forEach(g=>{s&&g.addEventListener("scroll",r,{passive:!0}),a&&g.addEventListener("resize",r)});const d=f&&c?jd(f,r):null;let p=-1,v=null;i&&(v=new ResizeObserver(g=>{let[C]=g;C&&C.target===f&&v&&(v.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var y;(y=v)==null||y.observe(t)})),r()}),f&&!l&&v.observe(f),v.observe(t));let b,h=l?st(e):null;l&&x();function x(){const g=st(e);h&&!Hs(h,g)&&r(),h=g,b=requestAnimationFrame(x)}return r(),()=>{var g;u.forEach(C=>{s&&C.removeEventListener("scroll",r),a&&C.removeEventListener("resize",r)}),d==null||d(),(g=v)==null||g.disconnect(),v=null,l&&cancelAnimationFrame(b)}}const Td=ad,Md=id,Rd=nd,Ad=ld,_d=od,Us=rd,Pd=cd,Id=(e,t,r)=>{const n=new Map,s={platform:Ed,...r},a={...s.platform,_c:n};return td(e,t,{...s,platform:a})};var mr=typeof document<"u"?D.useLayoutEffect:D.useEffect;function pr(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!pr(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const a=s[n];if(!(a==="_owner"&&e.$$typeof)&&!pr(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function Gs(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Ks(e,t){const r=Gs(e);return Math.round(t*r)/r}function bn(e){const t=m.useRef(e);return mr(()=>{t.current=e}),t}function Dd(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:a,floating:i}={},transform:c=!0,whileElementsMounted:l,open:f}=e,[u,d]=m.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[p,v]=m.useState(n);pr(p,n)||v(n);const[b,h]=m.useState(null),[x,g]=m.useState(null),C=m.useCallback(T=>{T!==A.current&&(A.current=T,h(T))},[]),y=m.useCallback(T=>{T!==R.current&&(R.current=T,g(T))},[]),w=a||b,N=i||x,A=m.useRef(null),R=m.useRef(null),j=m.useRef(u),P=l!=null,O=bn(l),k=bn(s),M=bn(f),L=m.useCallback(()=>{if(!A.current||!R.current)return;const T={placement:t,strategy:r,middleware:p};k.current&&(T.platform=k.current),Id(A.current,R.current,T).then(I=>{const E={...I,isPositioned:M.current!==!1};z.current&&!pr(j.current,E)&&(j.current=E,Gt.flushSync(()=>{d(E)}))})},[p,t,r,k,M]);mr(()=>{f===!1&&j.current.isPositioned&&(j.current.isPositioned=!1,d(T=>({...T,isPositioned:!1})))},[f]);const z=m.useRef(!1);mr(()=>(z.current=!0,()=>{z.current=!1}),[]),mr(()=>{if(w&&(A.current=w),N&&(R.current=N),w&&N){if(O.current)return O.current(w,N,L);L()}},[w,N,L,O,P]);const V=m.useMemo(()=>({reference:A,floating:R,setReference:C,setFloating:y}),[C,y]),_=m.useMemo(()=>({reference:w,floating:N}),[w,N]),B=m.useMemo(()=>{const T={position:r,left:0,top:0};if(!_.floating)return T;const I=Ks(_.floating,u.x),E=Ks(_.floating,u.y);return c?{...T,transform:"translate("+I+"px, "+E+"px)",...Gs(_.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:I,top:E}},[r,c,_.floating,u.x,u.y]);return m.useMemo(()=>({...u,update:L,refs:V,elements:_,floatingStyles:B}),[u,L,V,_,B])}const Od=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?Us({element:n.current,padding:s}).fn(r):{}:n?Us({element:n,padding:s}).fn(r):{}}}},Ld=(e,t)=>({...Td(e),options:[e,t]}),Fd=(e,t)=>({...Md(e),options:[e,t]}),zd=(e,t)=>({...Pd(e),options:[e,t]}),Vd=(e,t)=>({...Rd(e),options:[e,t]}),Bd=(e,t)=>({...Ad(e),options:[e,t]}),$d=(e,t)=>({..._d(e),options:[e,t]}),Wd=(e,t)=>({...Od(e),options:[e,t]});var Hd="Arrow",qs=m.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...a}=e;return o.jsx(X.svg,{...a,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});qs.displayName=Hd;var Ud=qs,wn="Popper",[Ys,hr]=Fe(wn),[Gd,Xs]=Ys(wn),Zs=e=>{const{__scopePopper:t,children:r}=e,[n,s]=m.useState(null);return o.jsx(Gd,{scope:t,anchor:n,onAnchorChange:s,children:r})};Zs.displayName=wn;var Js="PopperAnchor",Qs=m.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,a=Xs(Js,r),i=m.useRef(null),c=ne(t,i);return m.useEffect(()=>{a.onAnchorChange((n==null?void 0:n.current)||i.current)}),n?null:o.jsx(X.div,{...s,ref:c})});Qs.displayName=Js;var Cn="PopperContent",[Kd,qd]=Ys(Cn),ea=m.forwardRef((e,t)=>{var F,G,J,Q,re,oe;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:a="center",alignOffset:i=0,arrowPadding:c=0,avoidCollisions:l=!0,collisionBoundary:f=[],collisionPadding:u=0,sticky:d="partial",hideWhenDetached:p=!1,updatePositionStrategy:v="optimized",onPlaced:b,...h}=e,x=Xs(Cn,r),[g,C]=m.useState(null),y=ne(t,Ce=>C(Ce)),[w,N]=m.useState(null),A=Xr(w),R=(A==null?void 0:A.width)??0,j=(A==null?void 0:A.height)??0,P=n+(a!=="center"?"-"+a:""),O=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},k=Array.isArray(f)?f:[f],M=k.length>0,L={padding:O,boundary:k.filter(Xd),altBoundary:M},{refs:z,floatingStyles:V,placement:_,isPositioned:B,middlewareData:T}=Dd({strategy:"fixed",placement:P,whileElementsMounted:(...Ce)=>Sd(...Ce,{animationFrame:v==="always"}),elements:{reference:x.anchor},middleware:[Ld({mainAxis:s+j,alignmentAxis:i}),l&&Fd({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?zd():void 0,...L}),l&&Vd({...L}),Bd({...L,apply:({elements:Ce,rects:Oe,availableWidth:Wt,availableHeight:Ht})=>{const{width:Ut,height:ah}=Oe.reference,_r=Ce.floating.style;_r.setProperty("--radix-popper-available-width",`${Wt}px`),_r.setProperty("--radix-popper-available-height",`${Ht}px`),_r.setProperty("--radix-popper-anchor-width",`${Ut}px`),_r.setProperty("--radix-popper-anchor-height",`${ah}px`)}}),w&&Wd({element:w,padding:c}),Zd({arrowWidth:R,arrowHeight:j}),p&&$d({strategy:"referenceHidden",...L})]}),[I,E]=na(_),H=Ae(b);le(()=>{B&&(H==null||H())},[B,H]);const q=(F=T.arrow)==null?void 0:F.x,Y=(G=T.arrow)==null?void 0:G.y,te=((J=T.arrow)==null?void 0:J.centerOffset)!==0,[ae,ie]=m.useState();return le(()=>{g&&ie(window.getComputedStyle(g).zIndex)},[g]),o.jsx("div",{ref:z.setFloating,"data-radix-popper-content-wrapper":"",style:{...V,transform:B?V.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ae,"--radix-popper-transform-origin":[(Q=T.transformOrigin)==null?void 0:Q.x,(re=T.transformOrigin)==null?void 0:re.y].join(" "),...((oe=T.hide)==null?void 0:oe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:o.jsx(Kd,{scope:r,placedSide:I,onArrowChange:N,arrowX:q,arrowY:Y,shouldHideArrow:te,children:o.jsx(X.div,{"data-side":I,"data-align":E,...h,ref:y,style:{...h.style,animation:B?void 0:"none"}})})})});ea.displayName=Cn;var ta="PopperArrow",Yd={top:"bottom",right:"left",bottom:"top",left:"right"},ra=m.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,a=qd(ta,n),i=Yd[a.placedSide];return o.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:o.jsx(Ud,{...s,ref:r,style:{...s.style,display:"block"}})})});ra.displayName=ta;function Xd(e){return e!==null}var Zd=e=>({name:"transformOrigin",options:e,fn(t){var x,g,C;const{placement:r,rects:n,middlewareData:s}=t,i=((x=s.arrow)==null?void 0:x.centerOffset)!==0,c=i?0:e.arrowWidth,l=i?0:e.arrowHeight,[f,u]=na(r),d={start:"0%",center:"50%",end:"100%"}[u],p=(((g=s.arrow)==null?void 0:g.x)??0)+c/2,v=(((C=s.arrow)==null?void 0:C.y)??0)+l/2;let b="",h="";return f==="bottom"?(b=i?d:`${p}px`,h=`${-l}px`):f==="top"?(b=i?d:`${p}px`,h=`${n.floating.height+l}px`):f==="right"?(b=`${-l}px`,h=i?d:`${v}px`):f==="left"&&(b=`${n.floating.width+l}px`,h=i?d:`${v}px`),{data:{x:b,y:h}}}});function na(e){const[t,r="center"]=e.split("-");return[t,r]}var oa=Zs,sa=Qs,aa=ea,ia=ra,Jd="Portal",Nn=m.forwardRef((e,t)=>{var c;const{container:r,...n}=e,[s,a]=m.useState(!1);le(()=>a(!0),[]);const i=r||s&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return i?Xn.createPortal(o.jsx(X.div,{...n,ref:t}),i):null});Nn.displayName=Jd;var ca=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Qd="VisuallyHidden",ef=m.forwardRef((e,t)=>o.jsx(X.span,{...e,ref:t,style:{...ca,...e.style}}));ef.displayName=Qd;var tf=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Ct=new WeakMap,gr=new WeakMap,vr={},kn=0,la=function(e){return e&&(e.host||la(e.parentNode))},rf=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=la(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},nf=function(e,t,r,n){var s=rf(t,Array.isArray(e)?e:[e]);vr[r]||(vr[r]=new WeakMap);var a=vr[r],i=[],c=new Set,l=new Set(s),f=function(d){!d||c.has(d)||(c.add(d),f(d.parentNode))};s.forEach(f);var u=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(p){if(c.has(p))u(p);else try{var v=p.getAttribute(n),b=v!==null&&v!=="false",h=(Ct.get(p)||0)+1,x=(a.get(p)||0)+1;Ct.set(p,h),a.set(p,x),i.push(p),h===1&&b&&gr.set(p,!0),x===1&&p.setAttribute(r,"true"),b||p.setAttribute(n,"true")}catch(g){console.error("aria-hidden: cannot operate on ",p,g)}})};return u(t),c.clear(),kn++,function(){i.forEach(function(d){var p=Ct.get(d)-1,v=a.get(d)-1;Ct.set(d,p),a.set(d,v),p||(gr.has(d)||d.removeAttribute(n),gr.delete(d)),v||d.removeAttribute(r)}),kn--,kn||(Ct=new WeakMap,Ct=new WeakMap,gr=new WeakMap,vr={})}},ua=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=tf(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),nf(n,s,r,"aria-hidden")):function(){return null}},De=function(){return De=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},De.apply(this,arguments)};function da(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function of(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,a;n<s;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}typeof SuppressedError=="function"&&SuppressedError;var xr="right-scroll-bar-position",yr="width-before-scroll-bar",sf="with-scroll-bars-hidden",af="--removed-body-scroll-bar-size";function En(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function cf(e,t){var r=D.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var lf=typeof window<"u"?m.useLayoutEffect:m.useEffect,fa=new WeakMap;function uf(e,t){var r=cf(null,function(n){return e.forEach(function(s){return En(s,n)})});return lf(function(){var n=fa.get(r);if(n){var s=new Set(n),a=new Set(e),i=r.current;s.forEach(function(c){a.has(c)||En(c,null)}),a.forEach(function(c){s.has(c)||En(c,i)})}fa.set(r,e)},[e]),r}function df(e){return e}function ff(e,t){t===void 0&&(t=df);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(a){var i=t(a,n);return r.push(i),function(){r=r.filter(function(c){return c!==i})}},assignSyncMedium:function(a){for(n=!0;r.length;){var i=r;r=[],i.forEach(a)}r={push:function(c){return a(c)},filter:function(){return r}}},assignMedium:function(a){n=!0;var i=[];if(r.length){var c=r;r=[],c.forEach(a),i=r}var l=function(){var u=i;i=[],u.forEach(a)},f=function(){return Promise.resolve().then(l)};f(),r={push:function(u){i.push(u),f()},filter:function(u){return i=i.filter(u),r}}}};return s}function mf(e){e===void 0&&(e={});var t=ff(null);return t.options=De({async:!0,ssr:!1},e),t}var ma=function(e){var t=e.sideCar,r=da(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return m.createElement(n,De({},r))};ma.isSideCarExport=!0;function pf(e,t){return e.useMedium(t),ma}var pa=mf(),jn=function(){},br=m.forwardRef(function(e,t){var r=m.useRef(null),n=m.useState({onScrollCapture:jn,onWheelCapture:jn,onTouchMoveCapture:jn}),s=n[0],a=n[1],i=e.forwardProps,c=e.children,l=e.className,f=e.removeScrollBar,u=e.enabled,d=e.shards,p=e.sideCar,v=e.noIsolation,b=e.inert,h=e.allowPinchZoom,x=e.as,g=x===void 0?"div":x,C=e.gapMode,y=da(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),w=p,N=uf([r,t]),A=De(De({},y),s);return m.createElement(m.Fragment,null,u&&m.createElement(w,{sideCar:pa,removeScrollBar:f,shards:d,noIsolation:v,inert:b,setCallbacks:a,allowPinchZoom:!!h,lockRef:r,gapMode:C}),i?m.cloneElement(m.Children.only(c),De(De({},A),{ref:N})):m.createElement(g,De({},A,{className:l,ref:N}),c))});br.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},br.classNames={fullWidth:yr,zeroRight:xr};var hf=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function gf(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=hf();return t&&e.setAttribute("nonce",t),e}function vf(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function xf(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var yf=function(){var e=0,t=null;return{add:function(r){e==0&&(t=gf())&&(vf(t,r),xf(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},bf=function(){var e=yf();return function(t,r){m.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},ha=function(){var e=bf(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},wf={left:0,top:0,right:0,gap:0},Sn=function(e){return parseInt(e||"",10)||0},Cf=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Sn(r),Sn(n),Sn(s)]},Nf=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return wf;var t=Cf(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},kf=ha(),Nt="data-scroll-locked",Ef=function(e,t,r,n){var s=e.left,a=e.top,i=e.right,c=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(sf,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(c,"px ").concat(n,`;
  }
  body[`).concat(Nt,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(c,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(xr,` {
    right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(yr,` {
    margin-right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(xr," .").concat(xr,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(yr," .").concat(yr,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Nt,`] {
    `).concat(af,": ").concat(c,`px;
  }
`)},ga=function(){var e=parseInt(document.body.getAttribute(Nt)||"0",10);return isFinite(e)?e:0},jf=function(){m.useEffect(function(){return document.body.setAttribute(Nt,(ga()+1).toString()),function(){var e=ga()-1;e<=0?document.body.removeAttribute(Nt):document.body.setAttribute(Nt,e.toString())}},[])},Sf=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;jf();var a=m.useMemo(function(){return Nf(s)},[s]);return m.createElement(kf,{styles:Ef(a,!t,s,r?"":"!important")})},Tn=!1;if(typeof window<"u")try{var wr=Object.defineProperty({},"passive",{get:function(){return Tn=!0,!0}});window.addEventListener("test",wr,wr),window.removeEventListener("test",wr,wr)}catch{Tn=!1}var kt=Tn?{passive:!1}:!1,Tf=function(e){return e.tagName==="TEXTAREA"},va=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!Tf(e)&&r[t]==="visible")},Mf=function(e){return va(e,"overflowY")},Rf=function(e){return va(e,"overflowX")},xa=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=ya(e,n);if(s){var a=ba(e,n),i=a[1],c=a[2];if(i>c)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},Af=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},_f=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},ya=function(e,t){return e==="v"?Mf(t):Rf(t)},ba=function(e,t){return e==="v"?Af(t):_f(t)},Pf=function(e,t){return e==="h"&&t==="rtl"?-1:1},If=function(e,t,r,n,s){var a=Pf(e,window.getComputedStyle(t).direction),i=a*n,c=r.target,l=t.contains(c),f=!1,u=i>0,d=0,p=0;do{var v=ba(e,c),b=v[0],h=v[1],x=v[2],g=h-x-a*b;(b||g)&&ya(e,c)&&(d+=g,p+=b),c instanceof ShadowRoot?c=c.host:c=c.parentNode}while(!l&&c!==document.body||l&&(t.contains(c)||t===c));return(u&&Math.abs(d)<1||!u&&Math.abs(p)<1)&&(f=!0),f},Cr=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},wa=function(e){return[e.deltaX,e.deltaY]},Ca=function(e){return e&&"current"in e?e.current:e},Df=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Of=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Lf=0,Et=[];function Ff(e){var t=m.useRef([]),r=m.useRef([0,0]),n=m.useRef(),s=m.useState(Lf++)[0],a=m.useState(ha)[0],i=m.useRef(e);m.useEffect(function(){i.current=e},[e]),m.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var h=of([e.lockRef.current],(e.shards||[]).map(Ca),!0).filter(Boolean);return h.forEach(function(x){return x.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),h.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var c=m.useCallback(function(h,x){if("touches"in h&&h.touches.length===2||h.type==="wheel"&&h.ctrlKey)return!i.current.allowPinchZoom;var g=Cr(h),C=r.current,y="deltaX"in h?h.deltaX:C[0]-g[0],w="deltaY"in h?h.deltaY:C[1]-g[1],N,A=h.target,R=Math.abs(y)>Math.abs(w)?"h":"v";if("touches"in h&&R==="h"&&A.type==="range")return!1;var j=xa(R,A);if(!j)return!0;if(j?N=R:(N=R==="v"?"h":"v",j=xa(R,A)),!j)return!1;if(!n.current&&"changedTouches"in h&&(y||w)&&(n.current=N),!N)return!0;var P=n.current||N;return If(P,x,h,P==="h"?y:w)},[]),l=m.useCallback(function(h){var x=h;if(!(!Et.length||Et[Et.length-1]!==a)){var g="deltaY"in x?wa(x):Cr(x),C=t.current.filter(function(N){return N.name===x.type&&(N.target===x.target||x.target===N.shadowParent)&&Df(N.delta,g)})[0];if(C&&C.should){x.cancelable&&x.preventDefault();return}if(!C){var y=(i.current.shards||[]).map(Ca).filter(Boolean).filter(function(N){return N.contains(x.target)}),w=y.length>0?c(x,y[0]):!i.current.noIsolation;w&&x.cancelable&&x.preventDefault()}}},[]),f=m.useCallback(function(h,x,g,C){var y={name:h,delta:x,target:g,should:C,shadowParent:zf(g)};t.current.push(y),setTimeout(function(){t.current=t.current.filter(function(w){return w!==y})},1)},[]),u=m.useCallback(function(h){r.current=Cr(h),n.current=void 0},[]),d=m.useCallback(function(h){f(h.type,wa(h),h.target,c(h,e.lockRef.current))},[]),p=m.useCallback(function(h){f(h.type,Cr(h),h.target,c(h,e.lockRef.current))},[]);m.useEffect(function(){return Et.push(a),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:p}),document.addEventListener("wheel",l,kt),document.addEventListener("touchmove",l,kt),document.addEventListener("touchstart",u,kt),function(){Et=Et.filter(function(h){return h!==a}),document.removeEventListener("wheel",l,kt),document.removeEventListener("touchmove",l,kt),document.removeEventListener("touchstart",u,kt)}},[]);var v=e.removeScrollBar,b=e.inert;return m.createElement(m.Fragment,null,b?m.createElement(a,{styles:Of(s)}):null,v?m.createElement(Sf,{gapMode:e.gapMode}):null)}function zf(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Vf=pf(pa,Ff);var Mn=m.forwardRef(function(e,t){return m.createElement(br,De({},e,{ref:t,sideCar:Vf}))});Mn.classNames=br.classNames;var Bf=[" ","Enter","ArrowUp","ArrowDown"],$f=[" ","Enter"],at="Select",[Nr,kr,Wf]=Zt(at),[jt,dh]=Fe(at,[Wf,hr]),Er=hr(),[Hf,Xe]=jt(at),[Uf,Gf]=jt(at),Na=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:a,value:i,defaultValue:c,onValueChange:l,dir:f,name:u,autoComplete:d,disabled:p,required:v,form:b}=e,h=Er(t),[x,g]=m.useState(null),[C,y]=m.useState(null),[w,N]=m.useState(!1),A=Rt(f),[R,j]=nt({prop:n,defaultProp:s??!1,onChange:a,caller:at}),[P,O]=nt({prop:i,defaultProp:c,onChange:l,caller:at}),k=m.useRef(null),M=x?b||!!x.closest("form"):!0,[L,z]=m.useState(new Set),V=Array.from(L).map(_=>_.props.value).join(";");return o.jsx(oa,{...h,children:o.jsxs(Hf,{required:v,scope:t,trigger:x,onTriggerChange:g,valueNode:C,onValueNodeChange:y,valueNodeHasChildren:w,onValueNodeHasChildrenChange:N,contentId:rt(),value:P,onValueChange:O,open:R,onOpenChange:j,dir:A,triggerPointerDownPosRef:k,disabled:p,children:[o.jsx(Nr.Provider,{scope:t,children:o.jsx(Uf,{scope:e.__scopeSelect,onNativeOptionAdd:m.useCallback(_=>{z(B=>new Set(B).add(_))},[]),onNativeOptionRemove:m.useCallback(_=>{z(B=>{const T=new Set(B);return T.delete(_),T})},[]),children:r})}),M?o.jsxs(Ka,{"aria-hidden":!0,required:v,tabIndex:-1,name:u,autoComplete:d,value:P,onChange:_=>O(_.target.value),disabled:p,form:b,children:[P===void 0?o.jsx("option",{value:""}):null,Array.from(L)]},V):null]})})};Na.displayName=at;var ka="SelectTrigger",Ea=m.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,a=Er(r),i=Xe(ka,r),c=i.disabled||n,l=ne(t,i.onTriggerChange),f=kr(r),u=m.useRef("touch"),[d,p,v]=Ya(h=>{const x=f().filter(y=>!y.disabled),g=x.find(y=>y.value===i.value),C=Xa(x,h,g);C!==void 0&&i.onValueChange(C.value)}),b=h=>{c||(i.onOpenChange(!0),v()),h&&(i.triggerPointerDownPosRef.current={x:Math.round(h.pageX),y:Math.round(h.pageY)})};return o.jsx(sa,{asChild:!0,...a,children:o.jsx(X.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":qa(i.value)?"":void 0,...s,ref:l,onClick:U(s.onClick,h=>{h.currentTarget.focus(),u.current!=="mouse"&&b(h)}),onPointerDown:U(s.onPointerDown,h=>{u.current=h.pointerType;const x=h.target;x.hasPointerCapture(h.pointerId)&&x.releasePointerCapture(h.pointerId),h.button===0&&h.ctrlKey===!1&&h.pointerType==="mouse"&&(b(h),h.preventDefault())}),onKeyDown:U(s.onKeyDown,h=>{const x=d.current!=="";!(h.ctrlKey||h.altKey||h.metaKey)&&h.key.length===1&&p(h.key),!(x&&h.key===" ")&&Bf.includes(h.key)&&(b(),h.preventDefault())})})})});Ea.displayName=ka;var ja="SelectValue",Sa=m.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:a,placeholder:i="",...c}=e,l=Xe(ja,r),{onValueNodeHasChildrenChange:f}=l,u=a!==void 0,d=ne(t,l.onValueNodeChange);return le(()=>{f(u)},[f,u]),o.jsx(X.span,{...c,ref:d,style:{pointerEvents:"none"},children:qa(l.value)?o.jsx(o.Fragment,{children:i}):a})});Sa.displayName=ja;var Kf="SelectIcon",Ta=m.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return o.jsx(X.span,{"aria-hidden":!0,...s,ref:t,children:n||"▼"})});Ta.displayName=Kf;var qf="SelectPortal",Ma=e=>o.jsx(Nn,{asChild:!0,...e});Ma.displayName=qf;var it="SelectContent",Ra=m.forwardRef((e,t)=>{const r=Xe(it,e.__scopeSelect),[n,s]=m.useState();if(le(()=>{s(new DocumentFragment)},[]),!r.open){const a=n;return a?Gt.createPortal(o.jsx(Aa,{scope:e.__scopeSelect,children:o.jsx(Nr.Slot,{scope:e.__scopeSelect,children:o.jsx("div",{children:e.children})})}),a):null}return o.jsx(_a,{...e,ref:t})});Ra.displayName=it;var Te=10,[Aa,Ze]=jt(it),Yf="SelectContentImpl",Xf=ft("SelectContent.RemoveScroll"),_a=m.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:a,onPointerDownOutside:i,side:c,sideOffset:l,align:f,alignOffset:u,arrowPadding:d,collisionBoundary:p,collisionPadding:v,sticky:b,hideWhenDetached:h,avoidCollisions:x,...g}=e,C=Xe(it,r),[y,w]=m.useState(null),[N,A]=m.useState(null),R=ne(t,F=>w(F)),[j,P]=m.useState(null),[O,k]=m.useState(null),M=kr(r),[L,z]=m.useState(!1),V=m.useRef(!1);m.useEffect(()=>{if(y)return ua(y)},[y]),Ns();const _=m.useCallback(F=>{const[G,...J]=M().map(oe=>oe.ref.current),[Q]=J.slice(-1),re=document.activeElement;for(const oe of F)if(oe===re||(oe==null||oe.scrollIntoView({block:"nearest"}),oe===G&&N&&(N.scrollTop=0),oe===Q&&N&&(N.scrollTop=N.scrollHeight),oe==null||oe.focus(),document.activeElement!==re))return},[M,N]),B=m.useCallback(()=>_([j,y]),[_,j,y]);m.useEffect(()=>{L&&B()},[L,B]);const{onOpenChange:T,triggerPointerDownPosRef:I}=C;m.useEffect(()=>{if(y){let F={x:0,y:0};const G=Q=>{var re,oe;F={x:Math.abs(Math.round(Q.pageX)-(((re=I.current)==null?void 0:re.x)??0)),y:Math.abs(Math.round(Q.pageY)-(((oe=I.current)==null?void 0:oe.y)??0))}},J=Q=>{F.x<=10&&F.y<=10?Q.preventDefault():y.contains(Q.target)||T(!1),document.removeEventListener("pointermove",G),I.current=null};return I.current!==null&&(document.addEventListener("pointermove",G),document.addEventListener("pointerup",J,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",G),document.removeEventListener("pointerup",J,{capture:!0})}}},[y,T,I]),m.useEffect(()=>{const F=()=>T(!1);return window.addEventListener("blur",F),window.addEventListener("resize",F),()=>{window.removeEventListener("blur",F),window.removeEventListener("resize",F)}},[T]);const[E,H]=Ya(F=>{const G=M().filter(re=>!re.disabled),J=G.find(re=>re.ref.current===document.activeElement),Q=Xa(G,F,J);Q&&setTimeout(()=>Q.ref.current.focus())}),q=m.useCallback((F,G,J)=>{const Q=!V.current&&!J;(C.value!==void 0&&C.value===G||Q)&&(P(F),Q&&(V.current=!0))},[C.value]),Y=m.useCallback(()=>y==null?void 0:y.focus(),[y]),te=m.useCallback((F,G,J)=>{const Q=!V.current&&!J;(C.value!==void 0&&C.value===G||Q)&&k(F)},[C.value]),ae=n==="popper"?Rn:Pa,ie=ae===Rn?{side:c,sideOffset:l,align:f,alignOffset:u,arrowPadding:d,collisionBoundary:p,collisionPadding:v,sticky:b,hideWhenDetached:h,avoidCollisions:x}:{};return o.jsx(Aa,{scope:r,content:y,viewport:N,onViewportChange:A,itemRefCallback:q,selectedItem:j,onItemLeave:Y,itemTextRefCallback:te,focusSelectedItem:B,selectedItemText:O,position:n,isPositioned:L,searchRef:E,children:o.jsx(Mn,{as:Xf,allowPinchZoom:!0,children:o.jsx(cn,{asChild:!0,trapped:C.open,onMountAutoFocus:F=>{F.preventDefault()},onUnmountAutoFocus:U(s,F=>{var G;(G=C.trigger)==null||G.focus({preventScroll:!0}),F.preventDefault()}),children:o.jsx(nn,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:F=>F.preventDefault(),onDismiss:()=>C.onOpenChange(!1),children:o.jsx(ae,{role:"listbox",id:C.contentId,"data-state":C.open?"open":"closed",dir:C.dir,onContextMenu:F=>F.preventDefault(),...g,...ie,onPlaced:()=>z(!0),ref:R,style:{display:"flex",flexDirection:"column",outline:"none",...g.style},onKeyDown:U(g.onKeyDown,F=>{const G=F.ctrlKey||F.altKey||F.metaKey;if(F.key==="Tab"&&F.preventDefault(),!G&&F.key.length===1&&H(F.key),["ArrowUp","ArrowDown","Home","End"].includes(F.key)){let Q=M().filter(re=>!re.disabled).map(re=>re.ref.current);if(["ArrowUp","End"].includes(F.key)&&(Q=Q.slice().reverse()),["ArrowUp","ArrowDown"].includes(F.key)){const re=F.target,oe=Q.indexOf(re);Q=Q.slice(oe+1)}setTimeout(()=>_(Q)),F.preventDefault()}})})})})})})});_a.displayName=Yf;var Zf="SelectItemAlignedPosition",Pa=m.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,a=Xe(it,r),i=Ze(it,r),[c,l]=m.useState(null),[f,u]=m.useState(null),d=ne(t,R=>u(R)),p=kr(r),v=m.useRef(!1),b=m.useRef(!0),{viewport:h,selectedItem:x,selectedItemText:g,focusSelectedItem:C}=i,y=m.useCallback(()=>{if(a.trigger&&a.valueNode&&c&&f&&h&&x&&g){const R=a.trigger.getBoundingClientRect(),j=f.getBoundingClientRect(),P=a.valueNode.getBoundingClientRect(),O=g.getBoundingClientRect();if(a.dir!=="rtl"){const re=O.left-j.left,oe=P.left-re,Ce=R.left-oe,Oe=R.width+Ce,Wt=Math.max(Oe,j.width),Ht=window.innerWidth-Te,Ut=nr(oe,[Te,Math.max(Te,Ht-Wt)]);c.style.minWidth=Oe+"px",c.style.left=Ut+"px"}else{const re=j.right-O.right,oe=window.innerWidth-P.right-re,Ce=window.innerWidth-R.right-oe,Oe=R.width+Ce,Wt=Math.max(Oe,j.width),Ht=window.innerWidth-Te,Ut=nr(oe,[Te,Math.max(Te,Ht-Wt)]);c.style.minWidth=Oe+"px",c.style.right=Ut+"px"}const k=p(),M=window.innerHeight-Te*2,L=h.scrollHeight,z=window.getComputedStyle(f),V=parseInt(z.borderTopWidth,10),_=parseInt(z.paddingTop,10),B=parseInt(z.borderBottomWidth,10),T=parseInt(z.paddingBottom,10),I=V+_+L+T+B,E=Math.min(x.offsetHeight*5,I),H=window.getComputedStyle(h),q=parseInt(H.paddingTop,10),Y=parseInt(H.paddingBottom,10),te=R.top+R.height/2-Te,ae=M-te,ie=x.offsetHeight/2,F=x.offsetTop+ie,G=V+_+F,J=I-G;if(G<=te){const re=k.length>0&&x===k[k.length-1].ref.current;c.style.bottom="0px";const oe=f.clientHeight-h.offsetTop-h.offsetHeight,Ce=Math.max(ae,ie+(re?Y:0)+oe+B),Oe=G+Ce;c.style.height=Oe+"px"}else{const re=k.length>0&&x===k[0].ref.current;c.style.top="0px";const Ce=Math.max(te,V+h.offsetTop+(re?q:0)+ie)+J;c.style.height=Ce+"px",h.scrollTop=G-te+h.offsetTop}c.style.margin=`${Te}px 0`,c.style.minHeight=E+"px",c.style.maxHeight=M+"px",n==null||n(),requestAnimationFrame(()=>v.current=!0)}},[p,a.trigger,a.valueNode,c,f,h,x,g,a.dir,n]);le(()=>y(),[y]);const[w,N]=m.useState();le(()=>{f&&N(window.getComputedStyle(f).zIndex)},[f]);const A=m.useCallback(R=>{R&&b.current===!0&&(y(),C==null||C(),b.current=!1)},[y,C]);return o.jsx(Qf,{scope:r,contentWrapper:c,shouldExpandOnScrollRef:v,onScrollButtonChange:A,children:o.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:w},children:o.jsx(X.div,{...s,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});Pa.displayName=Zf;var Jf="SelectPopperPosition",Rn=m.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=Te,...a}=e,i=Er(r);return o.jsx(aa,{...i,...a,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Rn.displayName=Jf;var[Qf,An]=jt(it,{}),_n="SelectViewport",Ia=m.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,a=Ze(_n,r),i=An(_n,r),c=ne(t,a.onViewportChange),l=m.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),o.jsx(Nr.Slot,{scope:r,children:o.jsx(X.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:U(s.onScroll,f=>{const u=f.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:p}=i;if(p!=null&&p.current&&d){const v=Math.abs(l.current-u.scrollTop);if(v>0){const b=window.innerHeight-Te*2,h=parseFloat(d.style.minHeight),x=parseFloat(d.style.height),g=Math.max(h,x);if(g<b){const C=g+v,y=Math.min(b,C),w=C-y;d.style.height=y+"px",d.style.bottom==="0px"&&(u.scrollTop=w>0?w:0,d.style.justifyContent="flex-end")}}}l.current=u.scrollTop})})})]})});Ia.displayName=_n;var Da="SelectGroup",[em,tm]=jt(Da),rm=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=rt();return o.jsx(em,{scope:r,id:s,children:o.jsx(X.div,{role:"group","aria-labelledby":s,...n,ref:t})})});rm.displayName=Da;var Oa="SelectLabel",La=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=tm(Oa,r);return o.jsx(X.div,{id:s.id,...n,ref:t})});La.displayName=Oa;var jr="SelectItem",[nm,Fa]=jt(jr),za=m.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:a,...i}=e,c=Xe(jr,r),l=Ze(jr,r),f=c.value===n,[u,d]=m.useState(a??""),[p,v]=m.useState(!1),b=ne(t,C=>{var y;return(y=l.itemRefCallback)==null?void 0:y.call(l,C,n,s)}),h=rt(),x=m.useRef("touch"),g=()=>{s||(c.onValueChange(n),c.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(nm,{scope:r,value:n,disabled:s,textId:h,isSelected:f,onItemTextChange:m.useCallback(C=>{d(y=>y||((C==null?void 0:C.textContent)??"").trim())},[]),children:o.jsx(Nr.ItemSlot,{scope:r,value:n,disabled:s,textValue:u,children:o.jsx(X.div,{role:"option","aria-labelledby":h,"data-highlighted":p?"":void 0,"aria-selected":f&&p,"data-state":f?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:b,onFocus:U(i.onFocus,()=>v(!0)),onBlur:U(i.onBlur,()=>v(!1)),onClick:U(i.onClick,()=>{x.current!=="mouse"&&g()}),onPointerUp:U(i.onPointerUp,()=>{x.current==="mouse"&&g()}),onPointerDown:U(i.onPointerDown,C=>{x.current=C.pointerType}),onPointerMove:U(i.onPointerMove,C=>{var y;x.current=C.pointerType,s?(y=l.onItemLeave)==null||y.call(l):x.current==="mouse"&&C.currentTarget.focus({preventScroll:!0})}),onPointerLeave:U(i.onPointerLeave,C=>{var y;C.currentTarget===document.activeElement&&((y=l.onItemLeave)==null||y.call(l))}),onKeyDown:U(i.onKeyDown,C=>{var w;((w=l.searchRef)==null?void 0:w.current)!==""&&C.key===" "||($f.includes(C.key)&&g(),C.key===" "&&C.preventDefault())})})})})});za.displayName=jr;var Ot="SelectItemText",Va=m.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...a}=e,i=Xe(Ot,r),c=Ze(Ot,r),l=Fa(Ot,r),f=Gf(Ot,r),[u,d]=m.useState(null),p=ne(t,g=>d(g),l.onItemTextChange,g=>{var C;return(C=c.itemTextRefCallback)==null?void 0:C.call(c,g,l.value,l.disabled)}),v=u==null?void 0:u.textContent,b=m.useMemo(()=>o.jsx("option",{value:l.value,disabled:l.disabled,children:v},l.value),[l.disabled,l.value,v]),{onNativeOptionAdd:h,onNativeOptionRemove:x}=f;return le(()=>(h(b),()=>x(b)),[h,x,b]),o.jsxs(o.Fragment,{children:[o.jsx(X.span,{id:l.textId,...a,ref:p}),l.isSelected&&i.valueNode&&!i.valueNodeHasChildren?Gt.createPortal(a.children,i.valueNode):null]})});Va.displayName=Ot;var Ba="SelectItemIndicator",$a=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return Fa(Ba,r).isSelected?o.jsx(X.span,{"aria-hidden":!0,...n,ref:t}):null});$a.displayName=Ba;var Pn="SelectScrollUpButton",Wa=m.forwardRef((e,t)=>{const r=Ze(Pn,e.__scopeSelect),n=An(Pn,e.__scopeSelect),[s,a]=m.useState(!1),i=ne(t,n.onScrollButtonChange);return le(()=>{if(r.viewport&&r.isPositioned){let c=function(){const f=l.scrollTop>0;a(f)};const l=r.viewport;return c(),l.addEventListener("scroll",c),()=>l.removeEventListener("scroll",c)}},[r.viewport,r.isPositioned]),s?o.jsx(Ua,{...e,ref:i,onAutoScroll:()=>{const{viewport:c,selectedItem:l}=r;c&&l&&(c.scrollTop=c.scrollTop-l.offsetHeight)}}):null});Wa.displayName=Pn;var In="SelectScrollDownButton",Ha=m.forwardRef((e,t)=>{const r=Ze(In,e.__scopeSelect),n=An(In,e.__scopeSelect),[s,a]=m.useState(!1),i=ne(t,n.onScrollButtonChange);return le(()=>{if(r.viewport&&r.isPositioned){let c=function(){const f=l.scrollHeight-l.clientHeight,u=Math.ceil(l.scrollTop)<f;a(u)};const l=r.viewport;return c(),l.addEventListener("scroll",c),()=>l.removeEventListener("scroll",c)}},[r.viewport,r.isPositioned]),s?o.jsx(Ua,{...e,ref:i,onAutoScroll:()=>{const{viewport:c,selectedItem:l}=r;c&&l&&(c.scrollTop=c.scrollTop+l.offsetHeight)}}):null});Ha.displayName=In;var Ua=m.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,a=Ze("SelectScrollButton",r),i=m.useRef(null),c=kr(r),l=m.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return m.useEffect(()=>()=>l(),[l]),le(()=>{var u;const f=c().find(d=>d.ref.current===document.activeElement);(u=f==null?void 0:f.ref.current)==null||u.scrollIntoView({block:"nearest"})},[c]),o.jsx(X.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:U(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(n,50))}),onPointerMove:U(s.onPointerMove,()=>{var f;(f=a.onItemLeave)==null||f.call(a),i.current===null&&(i.current=window.setInterval(n,50))}),onPointerLeave:U(s.onPointerLeave,()=>{l()})})}),om="SelectSeparator",Ga=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return o.jsx(X.div,{"aria-hidden":!0,...n,ref:t})});Ga.displayName=om;var Dn="SelectArrow",sm=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Er(r),a=Xe(Dn,r),i=Ze(Dn,r);return a.open&&i.position==="popper"?o.jsx(ia,{...s,...n,ref:t}):null});sm.displayName=Dn;var am="SelectBubbleInput",Ka=m.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const s=m.useRef(null),a=ne(n,s),i=Yr(t);return m.useEffect(()=>{const c=s.current;if(!c)return;const l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(i!==t&&u){const d=new Event("change",{bubbles:!0});u.call(c,t),c.dispatchEvent(d)}},[i,t]),o.jsx(X.select,{...r,style:{...ca,...r.style},ref:a,defaultValue:t})});Ka.displayName=am;function qa(e){return e===""||e===void 0}function Ya(e){const t=Ae(e),r=m.useRef(""),n=m.useRef(0),s=m.useCallback(i=>{const c=r.current+i;t(c),function l(f){r.current=f,window.clearTimeout(n.current),f!==""&&(n.current=window.setTimeout(()=>l(""),1e3))}(c)},[t]),a=m.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,a]}function Xa(e,t,r){const s=t.length>1&&Array.from(t).every(f=>f===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let i=im(e,Math.max(a,0));s.length===1&&(i=i.filter(f=>f!==r));const l=i.find(f=>f.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==r?l:void 0}function im(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var cm=Na,Za=Ea,lm=Sa,um=Ta,dm=Ma,Ja=Ra,fm=Ia,Qa=La,ei=za,mm=Va,pm=$a,ti=Wa,ri=Ha,ni=Ga;/**
 * @license lucide-react v0.508.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hm=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),gm=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),oi=e=>{const t=gm(e);return t.charAt(0).toUpperCase()+t.slice(1)},si=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),vm=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.508.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var xm={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.508.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ym=D.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:a,iconNode:i,...c},l)=>D.createElement("svg",{ref:l,...xm,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:si("lucide",s),...!a&&!vm(c)&&{"aria-hidden":"true"},...c},[...i.map(([f,u])=>D.createElement(f,u)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.508.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=(e,t)=>{const r=D.forwardRef(({className:n,...s},a)=>D.createElement(ym,{ref:a,iconNode:t,className:si(`lucide-${hm(oi(e))}`,`lucide-${e}`,n),...s}));return r.displayName=oi(e),r};/**
 * @license lucide-react v0.508.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ai=ge("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.508.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const On=ge("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.508.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bm=ge("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.508.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wm=ge("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.508.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ln=ge("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.508.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cm=ge("circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.508.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nm=ge("cog",[["path",{d:"M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Z",key:"sobvz5"}],["path",{d:"M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",key:"11i496"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}]]);/**
 * @license lucide-react v0.508.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const km=ge("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.508.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Em=ge("download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.508.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jm=ge("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.508.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sm=ge("palette",[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]]);/**
 * @license lucide-react v0.508.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tm=ge("play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.508.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ii=ge("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.508.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ci=ge("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.508.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mm=ge("upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),ct=cm,lt=lm,Je=m.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(Za,{ref:n,className:ee("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,o.jsx(um,{asChild:!0,children:o.jsx(On,{className:"h-4 w-4 opacity-50"})})]}));Je.displayName=Za.displayName;const li=m.forwardRef(({className:e,...t},r)=>o.jsx(ti,{ref:r,className:ee("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(wm,{className:"h-4 w-4"})}));li.displayName=ti.displayName;const ui=m.forwardRef(({className:e,...t},r)=>o.jsx(ri,{ref:r,className:ee("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(On,{className:"h-4 w-4"})}));ui.displayName=ri.displayName;const Qe=m.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>o.jsx(dm,{children:o.jsxs(Ja,{ref:s,className:ee("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[o.jsx(li,{}),o.jsx(fm,{className:ee("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),o.jsx(ui,{})]})}));Qe.displayName=Ja.displayName;const Rm=m.forwardRef(({className:e,...t},r)=>o.jsx(Qa,{ref:r,className:ee("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));Rm.displayName=Qa.displayName;const Me=m.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(ei,{ref:n,className:ee("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(pm,{children:o.jsx(ai,{className:"h-4 w-4"})})}),o.jsx(mm,{children:t})]}));Me.displayName=ei.displayName;const Am=m.forwardRef(({className:e,...t},r)=>o.jsx(ni,{ref:r,className:ee("-mx-1 my-1 h-px bg-muted",e),...t}));Am.displayName=ni.displayName;function _m({planetStats:e,setPlanetStats:t,selectedBiome:r}){var l,f,u,d;const n=et(e.mass,e.radius),s=oo(e.temperature),a=so(e.temperature,e.liquidType||s.type),i=(p,v)=>{t({...e,[p]:v,...p==="liquidEnabled"&&v===!0?{waterLevel:Math.max(e.waterLevel||0,.5)}:{}})},c=p=>to(r,p);return o.jsxs("div",{className:"space-y-6",children:[o.jsxs(fe,{className:"bg-black/60 border-green-500/30 text-green-400",children:[o.jsx(me,{className:"pb-2",children:o.jsx(pe,{className:"text-lg tracking-wide",children:"SURFACE CONFIGURATION"})}),o.jsxs(he,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsx(K,{className:"text-green-300",children:"Surface Preset"}),o.jsxs(ct,{onValueChange:p=>{p!=="default"&&t({...e,...{ocean:{waterLevel:.95,liquidType:"water",atmosphereStrength:.8,cloudCount:70,biomassLevel:.6,surfaceRoughness:.3,liquidEnabled:!0,customColors:{oceanFloor:"#01579B",beach:"#0288D1",regular:"#29B6F6",mountain:"#81D4FA"}},desert:{waterLevel:.1,soilType:"dusty",atmosphereStrength:.4,cloudCount:10,biomassLevel:.05,surfaceRoughness:.7,temperature:310,liquidEnabled:!1},volcanic:{waterLevel:.3,soilType:"volcanic",atmosphereStrength:.7,cloudCount:40,biomassLevel:.1,surfaceRoughness:.9,volcanicActivity:.8,temperature:350,liquidEnabled:!0}}[p]})},children:[o.jsx(Je,{className:"bg-black border-green-500/30 text-green-400",children:o.jsx(lt,{placeholder:"Select a preset"})}),o.jsxs(Qe,{className:"bg-black border-green-500/30 text-green-400",children:[o.jsx(Me,{value:"default",children:"Default"}),o.jsx(Me,{value:"ocean",children:"Oceanic World"}),o.jsx(Me,{value:"desert",children:"Desert World"}),o.jsx(Me,{value:"volcanic",children:"Volcanic World"})]})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx(K,{className:"text-green-300",children:"Surface Roughness"}),o.jsx("span",{className:"font-bold",children:((l=e.surfaceRoughness)==null?void 0:l.toFixed(2))||"0.00"})]}),o.jsx(Ee,{value:[e.surfaceRoughness||0],min:c("surfaceRoughness")[0],max:c("surfaceRoughness")[1],step:.01,onValueChange:p=>i("surfaceRoughness",p[0]),className:"[&_[role=slider]]:bg-green-500"})]})]})]}),n==="terrestrial"&&o.jsxs(fe,{className:"bg-black/60 border-green-500/30 text-green-400",children:[o.jsx(me,{className:"pb-2",children:o.jsx(pe,{className:"text-lg tracking-wide",children:"TERRAIN COMPOSITION"})}),o.jsxs(he,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsx(K,{className:"text-green-300",children:"Soil Type"}),o.jsxs(ct,{value:e.soilType,onValueChange:p=>i("soilType",p),children:[o.jsx(Je,{className:"bg-black border-green-500/30 text-green-400",children:o.jsx(lt,{placeholder:"Select soil type"})}),o.jsx(Qe,{className:"bg-black border-green-500/30 text-green-400",children:["rocky","sandy","volcanic","organic","dusty","frozen","muddy"].map(p=>o.jsx(Me,{value:p,children:p.charAt(0).toUpperCase()+p.slice(1)},p))})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx(K,{className:"text-green-300",children:"Soil Texture"}),o.jsxs(ct,{value:e.soilTexture,onValueChange:p=>i("soilTexture",p),children:[o.jsx(Je,{className:"bg-black border-green-500/30 text-green-400",children:o.jsx(lt,{placeholder:"Select soil texture"})}),o.jsx(Qe,{className:"bg-black border-green-500/30 text-green-400",children:["smooth","rough","cracked","layered","porous","grainy","crystalline"].map(p=>o.jsx(Me,{value:p,children:p.charAt(0).toUpperCase()+p.slice(1)},p))})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx(K,{className:"text-green-300",children:"Mountain Height"}),o.jsx("span",{className:"font-bold",children:((f=e.mountainHeight)==null?void 0:f.toFixed(2))||"0.00"})]}),o.jsx(Ee,{value:[e.mountainHeight||0],min:0,max:1,step:.01,onValueChange:p=>i("mountainHeight",p[0]),className:"[&_[role=slider]]:bg-green-500"})]})]})]}),n==="terrestrial"&&o.jsxs(fe,{className:"bg-black/60 border-green-500/30 text-green-400",children:[o.jsx(me,{className:"pb-2",children:o.jsx(pe,{className:"text-lg tracking-wide",children:"HYDROSPHERE"})}),o.jsxs(he,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx(K,{className:"text-green-300",children:"Water Level"}),o.jsx("span",{className:"font-bold",children:((u=e.waterLevel)==null?void 0:u.toFixed(2))||"0.00"})]}),o.jsx(Ee,{value:[e.waterLevel||0],min:c("waterLevel")[0],max:c("waterLevel")[1],step:.01,onValueChange:p=>i("waterLevel",p[0]),className:"[&_[role=slider]]:bg-green-500"}),!a&&o.jsxs("div",{className:"flex items-center gap-2 text-amber-400 text-xs",children:[o.jsx(Ln,{className:"h-4 w-4"}),o.jsxs("span",{children:["Temperature is not suitable for ",e.liquidType||"water"," to exist as a liquid"]})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx(K,{className:"text-green-300",children:"Enable Liquid"}),o.jsx(tn,{checked:e.liquidEnabled!==!1,onCheckedChange:p=>i("liquidEnabled",p),className:"data-[state=checked]:bg-green-600"})]}),o.jsx("p",{className:"text-xs text-green-500/70",children:"When enabled, liquid will cover at least half the surface"})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx(K,{className:"text-green-300",children:"Liquid Type"}),o.jsxs(ct,{value:e.liquidType,onValueChange:p=>i("liquidType",p),children:[o.jsx(Je,{className:"bg-black border-green-500/30 text-green-400",children:o.jsx(lt,{placeholder:"Select liquid type"})}),o.jsx(Qe,{className:"bg-black border-green-500/30 text-green-400",children:["water","methane","nitrogen","ammonia","ethane"].map(p=>o.jsx(Me,{value:p,children:p.charAt(0).toUpperCase()+p.slice(1)},p))})]})]})]})]}),o.jsxs(fe,{className:"bg-black/60 border-green-500/30 text-green-400",children:[o.jsx(me,{className:"pb-2",children:o.jsx(pe,{className:"text-lg tracking-wide",children:"ATMOSPHERE"})}),o.jsxs(he,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx(K,{className:"text-green-300",children:"Atmosphere Strength"}),o.jsx("span",{className:"font-bold",children:((d=e.atmosphereStrength)==null?void 0:d.toFixed(2))||"0.00"})]}),o.jsx(Ee,{value:[e.atmosphereStrength||0],min:c("atmosphereStrength")[0],max:c("atmosphereStrength")[1],step:.01,onValueChange:p=>i("atmosphereStrength",p[0]),className:"[&_[role=slider]]:bg-green-500"})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx(K,{className:"text-green-300",children:"Cloud Count"}),o.jsx("span",{className:"font-bold",children:e.cloudCount||0})]}),o.jsx(Ee,{value:[e.cloudCount||0],min:c("cloudCount")[0],max:c("cloudCount")[1],step:1,onValueChange:p=>i("cloudCount",p[0]),className:"[&_[role=slider]]:bg-green-500"})]})]})]})]})}const ue=m.forwardRef(({className:e,type:t,...r},n)=>o.jsx("input",{type:t,className:ee("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...r}));ue.displayName="Input";const Pm=qr("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ve=m.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},a)=>{const i=n?Xc:"button";return o.jsx(i,{className:ee(Pm({variant:t,size:r,className:e})),ref:a,...s})});ve.displayName="Button";function Im({planetStats:e,setPlanetStats:t,selectedBiome:r,setSelectedBiome:n,customColors:s,setCustomColors:a}){var u;const i=dc(),c=(d,p)=>{t({...e,[d]:p})},l=(d,p)=>{const v={...s,[d]:p};a(v),t({...e,customColors:v})},f=d=>to(r,d);return o.jsxs("div",{className:"space-y-6",children:[o.jsxs(fe,{className:"bg-black/60 border-green-500/30 text-green-400",children:[o.jsx(me,{className:"pb-2",children:o.jsx(pe,{className:"text-lg tracking-wide",children:"BIOME SELECTION"})}),o.jsx(he,{className:"space-y-4",children:o.jsxs("div",{className:"space-y-3",children:[o.jsx(K,{className:"text-green-300",children:"Biome Type"}),o.jsxs(ct,{value:r,onValueChange:n,children:[o.jsx(Je,{className:"bg-black border-green-500/30 text-green-400",children:o.jsx(lt,{placeholder:"Select biome"})}),o.jsx(Qe,{className:"bg-black border-green-500/30 text-green-400",children:i.map(d=>o.jsx(Me,{value:d,children:d},d))})]}),o.jsx("p",{className:"text-xs text-green-500/70",children:"Selecting a biome will adjust parameters to fit within biome ranges"})]})})]}),o.jsxs(fe,{className:"bg-black/60 border-green-500/30 text-green-400",children:[o.jsx(me,{className:"pb-2",children:o.jsx(pe,{className:"text-lg tracking-wide",children:"COLOR CUSTOMIZATION"})}),o.jsx(he,{className:"space-y-4",children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx(K,{className:"text-green-300",children:"Custom Colors"}),o.jsx(Sm,{className:"h-4 w-4 text-green-400"})]}),o.jsx("p",{className:"text-xs text-green-500/70 mb-2",children:"Customize terrain colors for each height level"}),o.jsx("div",{className:"grid grid-cols-2 gap-3",children:["oceanFloor","beach","regular","mountain"].map(d=>o.jsxs(D.Fragment,{children:[o.jsx(K,{className:"text-xs text-green-300",children:d.replace(/([A-Z])/g," $1").replace(/^./,p=>p.toUpperCase())}),o.jsx(ue,{type:"color",value:s[d]||"#5D4037",onChange:p=>l(d,p.target.value),className:"h-8 p-1 bg-black border-green-500/30"})]},d))}),o.jsx(ve,{variant:"outline",size:"sm",className:"mt-3 w-full border-green-500/30 text-green-400 hover:bg-green-900/20",onClick:()=>a({oceanFloor:"",beach:"",regular:"",mountain:""}),children:"Reset to Biome Default Colors"})]})})]}),o.jsxs(fe,{className:"bg-black/60 border-green-500/30 text-green-400",children:[o.jsx(me,{className:"pb-2",children:o.jsx(pe,{className:"text-lg tracking-wide",children:"GEOLOGICAL ACTIVITY"})}),o.jsx(he,{className:"space-y-4",children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx(K,{className:"text-green-300",children:"Volcanic Activity"}),o.jsx("span",{className:"font-bold",children:((u=e.volcanicActivity)==null?void 0:u.toFixed(2))||"0.00"})]}),o.jsx(Ee,{value:[e.volcanicActivity||0],min:f("volcanicActivity")[0],max:f("volcanicActivity")[1],step:.01,onValueChange:d=>c("volcanicActivity",d[0]),className:"[&_[role=slider]]:bg-green-500"})]})})]})]})}const Dm=qr("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Fn=m.forwardRef(({className:e,variant:t,...r},n)=>o.jsx("div",{ref:n,role:"alert",className:ee(Dm({variant:t}),e),...r}));Fn.displayName="Alert";const Om=m.forwardRef(({className:e,...t},r)=>o.jsx("h5",{ref:r,className:ee("mb-1 font-medium leading-none tracking-tight",e),...t}));Om.displayName="AlertTitle";const zn=m.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:ee("text-sm [&_p]:leading-relaxed",e),...t}));zn.displayName="AlertDescription";function Lm({landmark:e,planetStats:t}){const r=D.useRef(null),n=t.mass>7||t.radius>2.5,{geometry:s,material:a}=D.useMemo(()=>{const i=new S.PlaneGeometry(3,3,128,128),c=e.influence_type||"mountain",l=e.influence_radius||.5,f=e.influence_strength||.5,u=e.influence_roughness||.5,d=i.getAttribute("position"),p=new Float32Array(d.count*3);for(let b=0;b<d.count;b++){const h=d.getX(b),x=d.getY(b);d.getZ(b);const g=Math.sqrt(h*h+x*x),y=Math.max(0,1-g/(l*2))*f*2.5;let w=0,N=new S.Color(10586239);if(n){switch(c){case"storm":w=y*Math.exp(-g/(l*.5)),w+=y*.3*Math.sin(Math.atan2(x,h)*5+g*10),N=new S.Color(15037299);break;case"vortex":const P=Math.atan2(x,h);w=y*Math.sin(P*8+g*15)*Math.exp(-g/l),N=new S.Color(8508666);break;case"band":w=y*Math.sin(x*15),N=new S.Color(16766287);break;case"spot":const O=h/.7,k=Math.sqrt(O*O+x*x);w=y*(1-Math.min(1,k/l)),N=new S.Color(16747109);break;case"turbulent":w=y*se(h*10,x*10,0),w+=y*.5*se(h*20,x*20,0),N=new S.Color(9795021);break;case"cyclone":const M=Math.atan2(x,h),L=g*10+M*3;w=y*Math.sin(L)*Math.exp(-g/l),N=new S.Color(5227511);break;case"anticyclone":const z=Math.atan2(x,h),V=g*10-z*3;w=y*Math.sin(V)*Math.exp(-g/l),N=new S.Color(16773494);break;case"zonal_flow":w=y*Math.sin(x*20)*.5,w+=y*Math.sin(x*10+h*2)*.3,N=new S.Color(11457921);break;default:w=y*se(h*5,x*5,0)*.6,w+=y*.4*Math.sin(h*8+x*8),N=new S.Color(11583173)}w+=se(h*15,x*15,0)*y*.2}else switch(c){case"crater":g<l*.8?(w=-y*1.2,w+=se(h*10,x*10,0)*y*.1,N=new S.Color(9268835)):g<l*1.2&&(w=y*.8,N=new S.Color(10586239));break;case"mountain":w=y*1.5*Math.exp(-g/(l*.6)),w+=se(h*15,x*15,0)*y*.3,N=new S.Color(10586239),w>.5&&N.lerp(new S.Color(16777215),(w-.5)*2);break;case"volcano":if(g<l*.2)w=-y*.8,w+=se(h*20,x*20,0)*y*.1,N=new S.Color(4073251);else{w=y*1.8*Math.exp(-g/(l*.4)),w+=se(h*12,x*12,0)*y*.2;const L=Math.max(0,Math.min(1,w/1.5));N=new S.Color(6111287).lerp(new S.Color(12531212),L)}break;case"valley":case"canyon":const P=Math.abs(x);P<l*.3?(w=-y*1.2,w+=se(h*25,x*5,0)*y*.15,N=new S.Color(7951688)):P<l*.5&&(w=y*.4*(1-(P-l*.3)/(l*.2)),N=new S.Color(9268835));break;case"basin":w=-y*.8*Math.exp(-g/(l*1.5)),w+=se(h*8,x*8,0)*y*.15,N=new S.Color(9268835);break;case"dune":w=y*.8*Math.sin(g*8/l),w+=y*.3*Math.sin(h*12/l),N=new S.Color(14142664);break;case"glacier":w=y*.8*(1-Math.pow(g/l,1.5));const O=se(h*20,x*20,0);O>.7&&(w-=y*.4*(O-.7)*3),N=new S.Color(14743546);break;case"ocean_ridge":const k=Math.abs(x);w=y*.8*Math.exp(-k/(l*.2)),w+=se(h*15,x*5,0)*y*.2,N=new S.Color(166097);break;case"trench":const M=Math.abs(x);M<l*.2?(w=-y*1.5,w+=se(h*20,x*5,0)*y*.1,N=new S.Color(87963)):M<l*.4&&(w=-y*(1-(M-l*.2)/(l*.2)),N=new S.Color(166097));break;default:w=y*se(h*5,x*5,0)*.8,N=new S.Color(10586239)}const A=(t.surfaceRoughness||.5)*u,R=8+A*15,j=A*.4;w+=se(h*R,x*R,0)*j,d.setZ(b,w),p[b*3]=N.r,p[b*3+1]=N.g,p[b*3+2]=N.b}d.needsUpdate=!0,i.computeVertexNormals(),i.setAttribute("color",new S.BufferAttribute(p,3));let v=new S.MeshStandardMaterial({vertexColors:!0,roughness:.7,metalness:.1,flatShading:!1});if(n?v=new S.MeshStandardMaterial({vertexColors:!0,roughness:.3,metalness:.1,flatShading:!1,transparent:!0,opacity:.9}):c==="volcano"?(v.emissive.set("#ff2200"),v.emissiveIntensity=.2):(c==="glacier"||c==="trench"||c==="ocean_ridge")&&(v.roughness=.3,v.metalness=.2),t.soilType&&!n)switch(t.soilType){case"volcanic":v.roughness=.9,c!=="volcano"&&(v.emissive.set("#ff4400"),v.emissiveIntensity=.1);break;case"sandy":v.roughness=Math.min(v.roughness+.1,1);break;case"frozen":v.roughness=Math.max(v.roughness-.2,.1),v.metalness=Math.min(v.metalness+.1,1);break}return{geometry:i,material:v}},[e,t,n]);return o.jsx("div",{className:"w-full h-48 bg-black rounded-md overflow-hidden",children:o.jsxs(Le.Canvas,{camera:{position:[0,1.8,2.2],fov:45},children:[o.jsx("ambientLight",{intensity:.5}),o.jsx("pointLight",{position:[2,3,4],intensity:1.2}),o.jsx("directionalLight",{position:[-2,2,1],intensity:.8,castShadow:!0}),o.jsx("mesh",{ref:r,rotation:[-Math.PI/4,0,0],geometry:s,material:a,receiveShadow:!0,castShadow:!0}),o.jsx(ye.OrbitControls,{enableZoom:!0,enablePan:!0,enableRotate:!0}),o.jsx("gridHelper",{args:[6,10,"#444444","#222222"],position:[0,-.01,0]})]})})}function Fm({planetStats:e,setPlanetStats:t}){var j,P,O;const r=et(e.mass,e.radius),n=r==="gaseous",[s,a]=D.useState(r),[i,c]=D.useState({classification_id:"",type:"",visual_effect:"",image_link:"",coordinates:{x:0,y:0,z:0},influence_radius:.5,influence_strength:.7,influence_type:n?"storm":"mountain",category:n?"gaseous":"terrestrial",events:[]}),[l,f]=D.useState({id:"",type:"",description:"",duration:5,intensity:.5}),[u,d]=D.useState(-1),[p,v]=D.useState(!1),b=D.useMemo(()=>e.landmarks?e.landmarks.map(k=>{const M=n?k.category==="gaseous":k.category==="terrestrial";return{...k,isActive:M}}):[],[e.landmarks,n]);D.useEffect(()=>{if(s!==r&&(a(r),c(k=>({...k,influence_type:n?"storm":"mountain",category:n?"gaseous":"terrestrial"})),u>=0&&e.landmarks)){const k=e.landmarks[u];k&&((n?(k.category||"terrestrial")==="gaseous":(k.category||"terrestrial")==="terrestrial")||(d(-1),v(!0)))}},[r,s,u,e.landmarks,n]);const h=()=>{if(!i.classification_id||!i.type)return;const k={...i,category:n?"gaseous":"terrestrial"},M=[...e.landmarks||[],k];t({...e,landmarks:M}),c({classification_id:"",type:"",visual_effect:"",image_link:"",coordinates:{x:0,y:0,z:0},influence_radius:.5,influence_strength:.7,influence_type:n?"storm":"mountain",category:n?"gaseous":"terrestrial",events:[]})},x=k=>{if(!e.landmarks)return;const M=b[k],L=e.landmarks.findIndex(V=>V.classification_id===M.classification_id);if(L===-1)return;const z=[...e.landmarks];z.splice(L,1),t({...e,landmarks:z}),u===k?d(-1):u>k&&d(u-1)},g=(k,M)=>{c(k==="coordinates"?{...i,coordinates:{...i.coordinates,...M}}:{...i,[k]:M})},C=(k,M,L)=>{if(!e.landmarks)return;const z=b[k],V=e.landmarks.findIndex(B=>B.classification_id===z.classification_id);if(V===-1)return;const _=[...e.landmarks];M==="coordinates"?_[V]={..._[V],coordinates:{..._[V].coordinates,...L}}:_[V]={..._[V],[M]:L},t({...e,landmarks:_})},y=()=>{if(u===-1||!l.type||!l.description||!e.landmarks)return;const k=b[u],M=e.landmarks.findIndex(B=>B.classification_id===k.classification_id);if(M===-1)return;const L=[...e.landmarks],z=L[M],V=`EV-${Math.floor(Math.random()*900+100)}`,_={...l,id:V};L[M]={...z,events:[...z.events||[],_]},t({...e,landmarks:L}),f({id:"",type:"",description:"",duration:5,intensity:.5})},w=(k,M)=>{if(!e.landmarks)return;const L=b[k],z=e.landmarks.findIndex(T=>T.classification_id===L.classification_id);if(z===-1)return;const V=[...e.landmarks],_=V[z];if(!_.events)return;const B=[..._.events];B.splice(M,1),V[z]={..._,events:B},t({...e,landmarks:V})},N=()=>{const k=Math.random()*Math.PI*2,M=Math.random()*Math.PI,L=Math.sin(M)*Math.cos(k),z=Math.sin(M)*Math.sin(k),V=Math.cos(M);c({...i,coordinates:{x:Number.parseFloat(L.toFixed(2)),y:Number.parseFloat(z.toFixed(2)),z:Number.parseFloat(V.toFixed(2))}})},A=(k=n?"gaseous":"terrestrial")=>{if(k==="gaseous")return["storm","vortex","band","spot","turbulent","cyclone","anticyclone","zonal_flow"];{const M=["mountain","crater","valley","basin","canyon","dune"];return e.volcanicActivity&&e.volcanicActivity>.5&&M.push("volcano"),e.temperature<250&&M.push("glacier"),e.waterLevel&&e.waterLevel>.5&&M.push("ocean_ridge","trench"),M}},R=k=>({mountain:"Mountain Range",crater:"Impact Crater",valley:"Valley",basin:"Basin",canyon:"Canyon",trench:"Oceanic Trench",dune:"Dune Field",volcano:"Volcano",glacier:"Glacier",ocean_ridge:"Ocean Ridge",storm:"Storm System",vortex:"Vortex",band:"Cloud Band",spot:"Persistent Spot",turbulent:"Turbulent Region",cyclone:"Cyclonic Storm",anticyclone:"Anticyclonic System",zonal_flow:"Zonal Flow Pattern"})[k]||k.charAt(0).toUpperCase()+k.slice(1);return o.jsxs("div",{className:"space-y-6",children:[p&&o.jsxs(Fn,{variant:"default",className:"bg-amber-900/20 border-amber-500/50 text-amber-300",children:[o.jsx(Ln,{className:"h-4 w-4"}),o.jsxs(zn,{children:["Some landmarks are hidden because they don't match the current planet type (",n?"gaseous":"terrestrial",").",o.jsx(ve,{variant:"link",className:"p-0 h-auto text-amber-300 hover:text-amber-200",onClick:()=>v(!1),children:"Dismiss"})]})]}),o.jsxs(fe,{className:"bg-black/60 border-green-500/30 text-green-400",children:[o.jsx(me,{className:"pb-2",children:o.jsxs(pe,{className:"text-lg tracking-wide",children:["LANDMARK DATABASE (",n?"GASEOUS":"TERRESTRIAL"," PLANET)"]})}),o.jsx(he,{className:"space-y-4",children:o.jsxs("div",{className:"space-y-3",children:[o.jsx(K,{className:"text-green-300",children:"Current Landmarks"}),b.length===0?o.jsx("div",{className:"text-center py-4 border border-dashed border-green-500/30 rounded-md",children:o.jsx("p",{className:"text-green-500/70",children:"No landmarks registered"})}):o.jsx("div",{className:"space-y-3",children:b.map((k,M)=>{var L;return o.jsxs("div",{className:`border ${u===M?"border-green-400":"border-green-500/30"} rounded-md p-3 space-y-2 ${k.isActive?"":"opacity-50"}`,onClick:()=>d(M),children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"font-bold text-green-300",children:k.classification_id}),!k.isActive&&o.jsx("span",{className:"text-xs bg-amber-900/50 text-amber-300 px-1.5 py-0.5 rounded",children:k.category==="gaseous"?"GASEOUS":"TERRESTRIAL"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(ve,{variant:"ghost",size:"sm",onClick:z=>{z.stopPropagation(),d(M)},className:"h-6 w-6 p-0 text-green-400 hover:text-green-300 hover:bg-transparent",children:o.jsx(jm,{className:"h-4 w-4"})}),o.jsx(ve,{variant:"ghost",size:"sm",onClick:z=>{z.stopPropagation(),x(M)},className:"h-6 w-6 p-0 text-green-400 hover:text-red-400 hover:bg-transparent",children:o.jsx(ci,{className:"h-4 w-4"})})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1 text-xs",children:[o.jsx("span",{className:"text-green-500/70",children:"Type:"}),o.jsx("span",{children:k.type}),o.jsx("span",{className:"text-green-500/70",children:"Visual Effect:"}),o.jsx("span",{children:k.visual_effect||"None"}),o.jsx("span",{className:"text-green-500/70",children:"Coordinates:"}),o.jsxs("span",{children:["X: ",k.coordinates.x.toFixed(2),", Y: ",k.coordinates.y.toFixed(2),", Z:"," ",k.coordinates.z.toFixed(2)]}),o.jsx("span",{className:"text-green-500/70",children:"Events:"}),o.jsx("span",{children:((L=k.events)==null?void 0:L.length)||0})]})]},k.classification_id)})})]})})]}),u!==-1&&b[u]&&o.jsxs(fe,{className:"bg-black/60 border-green-500/30 text-green-400",children:[o.jsx(me,{className:"pb-2",children:o.jsxs(pe,{className:"text-lg tracking-wide flex items-center justify-between",children:[o.jsxs("span",{children:["LANDMARK DETAILS: ",b[u].classification_id]}),!b[u].isActive&&o.jsxs("span",{className:"text-xs bg-amber-900/50 text-amber-300 px-2 py-1 rounded",children:["INACTIVE (",(j=b[u].category)==null?void 0:j.toUpperCase(),")"]})]})}),o.jsx(he,{className:"space-y-4",children:o.jsxs(Ko,{defaultValue:"info",children:[o.jsxs(Kr,{className:"bg-black border border-green-500/30",children:[o.jsx(Ue,{value:"info",className:"data-[state=active]:bg-green-900/20 data-[state=active]:text-green-300",children:"INFO"}),o.jsx(Ue,{value:"events",className:"data-[state=active]:bg-green-900/20 data-[state=active]:text-green-300",children:"EVENTS"}),o.jsx(Ue,{value:"terrain",className:"data-[state=active]:bg-green-900/20 data-[state=active]:text-green-300",children:"TERRAIN"})]}),o.jsx(Ge,{value:"info",className:"pt-4",children:o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(K,{className:"text-green-300",children:"Type"}),o.jsx("div",{className:"mt-1 p-2 bg-black/50 border border-green-500/30 rounded",children:b[u].type})]}),o.jsxs("div",{children:[o.jsx(K,{className:"text-green-300",children:"Visual Effect"}),o.jsx("div",{className:"mt-1 p-2 bg-black/50 border border-green-500/30 rounded",children:b[u].visual_effect||"None"})]}),o.jsxs("div",{className:"col-span-2",children:[o.jsx(K,{className:"text-green-300",children:"Coordinates"}),o.jsxs("div",{className:"mt-1 p-2 bg-black/50 border border-green-500/30 rounded",children:["X: ",b[u].coordinates.x.toFixed(2),", Y:"," ",b[u].coordinates.y.toFixed(2),", Z:"," ",b[u].coordinates.z.toFixed(2)]})]}),o.jsxs("div",{className:"col-span-2",children:[o.jsx(K,{className:"text-green-300",children:"Category"}),o.jsx("div",{className:"mt-1 p-2 bg-black/50 border border-green-500/30 rounded capitalize",children:b[u].category||(n?"gaseous":"terrestrial")})]})]})}),o.jsx(Ge,{value:"events",className:"pt-4",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(K,{className:"text-green-300",children:"Event List"}),!b[u].events||((P=b[u].events)==null?void 0:P.length)===0?o.jsx("div",{className:"text-center py-4 border border-dashed border-green-500/30 rounded-md",children:o.jsx("p",{className:"text-green-500/70",children:"No events registered for this landmark"})}):o.jsx("div",{className:"space-y-2",children:(O=b[u].events)==null?void 0:O.map((k,M)=>o.jsxs("div",{className:"border border-green-500/30 rounded-md p-2 text-xs",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("span",{className:"font-bold",children:[k.id,": ",k.type]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(ve,{variant:"ghost",size:"sm",className:"h-5 w-5 p-0 text-green-400 hover:text-green-300 hover:bg-transparent",children:o.jsx(Tm,{className:"h-3 w-3"})}),o.jsx(ve,{variant:"ghost",size:"sm",onClick:()=>w(u,M),className:"h-5 w-5 p-0 text-green-400 hover:text-red-400 hover:bg-transparent",children:o.jsx(ci,{className:"h-3 w-3"})})]})]}),o.jsx("div",{className:"mt-1",children:k.description}),k.duration&&o.jsxs("div",{className:"mt-1 text-green-500/70",children:["Duration: ",k.duration,"s"]}),k.intensity&&o.jsxs("div",{className:"text-green-500/70",children:["Intensity: ",k.intensity.toFixed(1)]})]},k.id))})]}),o.jsxs("div",{className:"space-y-2 pt-2 border-t border-green-500/30",children:[o.jsx(K,{className:"text-green-300",children:"Add New Event"}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx(K,{className:"text-xs",children:"Type"}),o.jsx(ue,{value:l.type,onChange:k=>f({...l,type:k.target.value}),className:"bg-black border-green-500/30 text-green-400",placeholder:"Lightning Strike"})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx(K,{className:"text-xs",children:"Duration (s)"}),o.jsx(ue,{type:"number",value:l.duration,onChange:k=>f({...l,duration:Number.parseFloat(k.target.value)}),className:"bg-black border-green-500/30 text-green-400",step:"0.5"})]}),o.jsxs("div",{className:"col-span-2 space-y-1",children:[o.jsx(K,{className:"text-xs",children:"Description"}),o.jsx(ue,{value:l.description,onChange:k=>f({...l,description:k.target.value}),className:"bg-black border-green-500/30 text-green-400",placeholder:"Brief description of the event"})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx(K,{className:"text-xs",children:"Intensity (0-1)"}),o.jsx(ue,{type:"number",value:l.intensity,onChange:k=>f({...l,intensity:Number.parseFloat(k.target.value)}),className:"bg-black border-green-500/30 text-green-400",min:"0",max:"1",step:"0.1"})]})]}),o.jsxs(ve,{onClick:y,className:"w-full mt-2 bg-green-700 hover:bg-green-600 text-black",children:[o.jsx(ii,{className:"h-4 w-4 mr-2"}),"Add Event"]})]})]})}),o.jsx(Ge,{value:"terrain",className:"pt-4",children:o.jsxs("div",{className:"space-y-4",children:[!b[u].isActive&&o.jsxs(Fn,{variant:"default",className:"bg-amber-900/20 border-amber-500/50 text-amber-300",children:[o.jsx(Ln,{className:"h-4 w-4"}),o.jsxs(zn,{children:["This landmark is inactive because it's a ",b[u].category," landmark on a ",n?"gaseous":"terrestrial"," planet. The terrain preview shows how it would appear on a ",b[u].category," planet."]})]}),o.jsx(Lm,{landmark:b[u],planetStats:e}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx(K,{className:"text-xs",children:"Influence Type"}),o.jsxs(ct,{value:b[u].influence_type||(n?"storm":"mountain"),onValueChange:k=>C(u,"influence_type",k),children:[o.jsx(Je,{className:"bg-black border-green-500/30 text-green-400",children:o.jsx(lt,{placeholder:"Select type"})}),o.jsx(Qe,{className:"bg-black border-green-500/30 text-green-400",children:A(b[u].category).map(k=>o.jsx(Me,{value:k,children:R(k)},k))})]})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx(K,{className:"text-xs",children:"Influence Radius"}),o.jsx(ue,{type:"number",value:b[u].influence_radius||.5,onChange:k=>C(u,"influence_radius",Number.parseFloat(k.target.value)),className:"bg-black border-green-500/30 text-green-400",step:"0.1"})]}),o.jsxs("div",{className:"col-span-2 space-y-1",children:[o.jsx(K,{className:"text-xs",children:"Influence Strength"}),o.jsx(Ee,{defaultValue:[Number(b[u].influence_strength||.7)*100],max:100,step:1,onValueChange:k=>C(u,"influence_strength",k[0]/100),className:"text-green-400"}),o.jsx("div",{className:"text-xs text-green-500/70",children:(b[u].influence_strength||.7).toFixed(2)})]})]})]})})]})})]}),o.jsxs(fe,{className:"bg-black/60 border-green-500/30 text-green-400",children:[o.jsx(me,{className:"pb-2",children:o.jsxs(pe,{className:"text-lg tracking-wide",children:["ADD NEW ",n?"GASEOUS":"TERRESTRIAL"," LANDMARK"]})}),o.jsx(he,{className:"space-y-4",children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(K,{className:"text-green-300",children:"Classification ID"}),o.jsx(ue,{value:i.classification_id,onChange:k=>g("classification_id",k.target.value),className:"bg-black border-green-500/30 text-green-400",placeholder:"LM-001"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(K,{className:"text-green-300",children:"Type"}),o.jsx(ue,{value:i.type,onChange:k=>g("type",k.target.value),className:"bg-black border-green-500/30 text-green-400",placeholder:n?"Storm System":"Mountain Range"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(K,{className:"text-green-300",children:"Visual Effect"}),o.jsx(ue,{value:i.visual_effect,onChange:k=>g("visual_effect",k.target.value),className:"bg-black border-green-500/30 text-green-400",placeholder:n?"Lightning":"Glowing"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(K,{className:"text-green-300",children:"Image Link"}),o.jsx(ue,{value:i.image_link,onChange:k=>g("image_link",k.target.value),className:"bg-black border-green-500/30 text-green-400",placeholder:"https://example.com/image.jpg"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx(K,{className:"text-green-300",children:"Coordinates"}),o.jsx(ve,{variant:"outline",size:"sm",onClick:N,className:"h-6 text-xs border-green-500/30 text-green-400 hover:bg-green-900/20",children:"Random"})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx(K,{className:"text-xs",children:"X"}),o.jsx(ue,{type:"number",value:i.coordinates.x,onChange:k=>g("coordinates",{x:Number.parseFloat(k.target.value)}),className:"bg-black border-green-500/30 text-green-400",step:"0.1"})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx(K,{className:"text-xs",children:"Y"}),o.jsx(ue,{type:"number",value:i.coordinates.y,onChange:k=>g("coordinates",{y:Number.parseFloat(k.target.value)}),className:"bg-black border-green-500/30 text-green-400",step:"0.1"})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx(K,{className:"text-xs",children:"Z"}),o.jsx(ue,{type:"number",value:i.coordinates.z,onChange:k=>g("coordinates",{z:Number.parseFloat(k.target.value)}),className:"bg-black border-green-500/30 text-green-400",step:"0.1"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(K,{className:"text-green-300",children:"Influence Radius"}),o.jsx(ue,{type:"number",value:i.influence_radius||.5,onChange:k=>g("influence_radius",Number.parseFloat(k.target.value)),className:"bg-black border-green-500/30 text-green-400",step:"0.1"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(K,{className:"text-green-300",children:"Influence Strength"}),o.jsx(ue,{type:"number",value:i.influence_strength||.7,onChange:k=>g("influence_strength",Number.parseFloat(k.target.value)),className:"bg-black border-green-500/30 text-green-400",step:"0.1"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(K,{className:"text-green-300",children:"Influence Type"}),o.jsxs(ct,{value:i.influence_type||(n?"storm":"mountain"),onValueChange:k=>g("influence_type",k),children:[o.jsx(Je,{className:"bg-black border-green-500/30 text-green-400",children:o.jsx(lt,{placeholder:"Select type"})}),o.jsx(Qe,{className:"bg-black border-green-500/30 text-green-400",children:A().map(k=>o.jsx(Me,{value:k,children:R(k)},k))})]})]}),o.jsxs(ve,{onClick:h,className:"w-full mt-2 bg-green-700 hover:bg-green-600 text-black",children:[o.jsx(ii,{className:"h-4 w-4 mr-2"}),"Add ",n?"Gaseous":"Terrestrial"," Landmark"]})]})})]})]})}const di=m.forwardRef(({className:e,...t},r)=>o.jsx("textarea",{className:ee("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));di.displayName="Textarea";var Vn,fi;function zm(){if(fi)return Vn;fi=1;var e=Object.defineProperty,t=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,n=Object.prototype.hasOwnProperty,s=(g,C)=>{for(var y in C)e(g,y,{get:C[y],enumerable:!0})},a=(g,C,y,w)=>{if(C&&typeof C=="object"||typeof C=="function")for(let N of r(C))!n.call(g,N)&&N!==y&&e(g,N,{get:()=>C[N],enumerable:!(w=t(C,N))||w.enumerable});return g},i=g=>a(e({},"__esModule",{value:!0}),g),c=(g,C,y)=>new Promise((w,N)=>{var A=P=>{try{j(y.next(P))}catch(O){N(O)}},R=P=>{try{j(y.throw(P))}catch(O){N(O)}},j=P=>P.done?w(P.value):Promise.resolve(P.value).then(A,R);j((y=y.apply(g,C)).next())}),l={};s(l,{SessionContextProvider:()=>p,useSession:()=>h,useSessionContext:()=>v,useSupabaseClient:()=>b,useUser:()=>x}),Vn=i(l);var f=D,u=eo(),d=(0,f.createContext)({isLoading:!0,session:null,error:null,supabaseClient:{}}),p=({supabaseClient:g,initialSession:C=null,children:y})=>{const[w,N]=(0,f.useState)(C),[A,R]=(0,f.useState)(!C),[j,P]=(0,f.useState)();(0,f.useEffect)(()=>{!w&&C&&N(C)},[w,C]),(0,f.useEffect)(()=>{let k=!0;function M(){return c(this,null,function*(){const{data:{session:L},error:z}=yield g.auth.getSession();if(k){if(z){P(z),R(!1);return}N(L),R(!1)}})}return M(),()=>{k=!1}},[]),(0,f.useEffect)(()=>{const{data:{subscription:k}}=g.auth.onAuthStateChange((M,L)=>{L&&(M==="SIGNED_IN"||M==="TOKEN_REFRESHED"||M==="USER_UPDATED")&&N(L),M==="SIGNED_OUT"&&N(null)});return()=>{k.unsubscribe()}},[]);const O=(0,f.useMemo)(()=>A?{isLoading:!0,session:null,error:null,supabaseClient:g}:j?{isLoading:!1,session:null,error:j,supabaseClient:g}:{isLoading:!1,session:w,error:null,supabaseClient:g},[A,w,j]);return(0,u.jsx)(d.Provider,{value:O,children:y})},v=()=>{const g=(0,f.useContext)(d);if(g===void 0)throw new Error("useSessionContext must be used within a SessionContextProvider.");return g};function b(){const g=(0,f.useContext)(d);if(g===void 0)throw new Error("useSupabaseClient must be used within a SessionContextProvider.");return g.supabaseClient}var h=()=>{const g=(0,f.useContext)(d);if(g===void 0)throw new Error("useSession must be used within a SessionContextProvider.");return g.session},x=()=>{var g,C;const y=(0,f.useContext)(d);if(y===void 0)throw new Error("useUser must be used within a SessionContextProvider.");return(C=(g=y.session)==null?void 0:g.user)!=null?C:null};return Vn}var Bn=zm();function Vm({planetStats:e,setPlanetStats:t,classificationId:r,author:n,setSelectedBiome:s,setCustomColors:a}){const i=Bn.useSupabaseClient();Bn.useSession();const[c,l]=D.useState(""),f=async()=>{const d={};Object.entries(e).forEach(([C,y])=>{y!=null&&(typeof y=="number"?d[C]=Number(y.toFixed(2)):(typeof y=="boolean"||typeof y=="object"&&Array.isArray(y),d[C]=y))});const p=Object.entries(d).map(([C,y])=>typeof y=="object"?`${C}: ${JSON.stringify(y)}`:`${C}: ${y}`).join(`
`);l(p);const v=parseInt(r);if(isNaN(v))return;const{data:b,error:h}=await i.from("classifications").select("classificationConfiguration").eq("id",v).single();if(h||!(b!=null&&b.classificationConfiguration)){console.error("Failed to fetch existing configuration:",h);return}const x={...b.classificationConfiguration,exportedValue:d},{error:g}=await i.from("classifications").update({classificationConfiguration:x}).eq("id",v);g&&console.error("Failed to export config:",g)},u=()=>{try{const d=c.split(`
`).filter(b=>!b.trim().startsWith("//")&&b.trim()!==""),p={};d.forEach(b=>{if(!b.trim())return;const h=b.indexOf(":");if(h===-1)return;const x=b.substring(0,h).trim(),g=b.substring(h+1).trim();let C;if(g==="true"||g==="false")C=g==="true";else if(g.startsWith("[")||g.startsWith("{"))try{C=JSON.parse(g)}catch{C=g}else isNaN(Number(g))?C=g:C=Number(g);p[x]=C});const v=Dr(p);t(v),v.biome&&s(v.biome),v.customColors&&a(v.customColors)}catch(d){console.error("Error importing planet configuration:",d)}};return o.jsx("div",{className:"space-y-6",children:o.jsxs(fe,{className:"bg-black/60 border-green-500/30 text-green-400",children:[o.jsx(me,{className:"pb-2",children:o.jsx(pe,{className:"text-lg tracking-wide",children:"DATA TRANSFER"})}),o.jsxs(he,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsx(K,{className:"text-green-300",children:"Planet Configuration"}),o.jsx(di,{value:c,onChange:d=>l(d.target.value),className:"h-64 font-mono text-xs bg-black border-green-500/30 text-green-400",placeholder:"Export or paste planet configuration here..."})]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs(ve,{variant:"outline",size:"sm",className:"flex-1 border-green-500/30 text-green-400 hover:bg-green-900/20",onClick:f,children:[o.jsx(Em,{className:"h-4 w-4 mr-2"}),"Export"]}),o.jsxs(ve,{variant:"outline",size:"sm",className:"flex-1 border-green-500/30 text-green-400 hover:bg-green-900/20",onClick:u,children:[o.jsx(Mm,{className:"h-4 w-4 mr-2"}),"Import"]}),o.jsx(ve,{variant:"outline",size:"sm",className:"border-green-500/30 text-green-400 hover:bg-green-900/20",onClick:()=>navigator.clipboard.writeText(c),children:o.jsx(km,{className:"h-4 w-4"})})]}),o.jsx("p",{className:"text-xs text-green-500/70 mt-2",children:"You can import partial configurations (e.g., just mass and radius). Missing values will be filled with defaults."})]})]})})}function Bm({planetStats:e,setPlanetStats:t,classificationId:r="UNCLASSIFIED",author:n="UNKNOWN"}){var l,f,u,d;const[s,a]=D.useState(e.biome||"Rocky Highlands"),[i,c]=D.useState({oceanFloor:((l=e.customColors)==null?void 0:l.oceanFloor)||"",beach:((f=e.customColors)==null?void 0:f.beach)||"",regular:((u=e.customColors)==null?void 0:u.regular)||"",mountain:((d=e.customColors)==null?void 0:d.mountain)||""});return o.jsxs("div",{className:"absolute top-0 left-0 h-full w-96 bg-slate-800/90 text-blue-100 p-6 overflow-y-auto font-mono border-r border-slate-600/60",children:[o.jsx("h2",{className:"text-2xl font-bold mb-6 tracking-wider border-b border-slate-600/60 pb-2",children:"PLANET SETTINGS"}),o.jsx("div",{className:"mb-6 p-3 bg-slate-700/60 border border-slate-600/60 rounded-md hidden",children:o.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[o.jsx("div",{className:"text-slate-400",children:"CLASSIFICATION:"}),o.jsx("div",{children:r}),o.jsx("div",{className:"text-slate-400",children:"AUTHOR:"}),o.jsx("div",{children:n})]})}),o.jsxs(Ko,{defaultValue:"physical",className:"space-y-6",children:[o.jsxs(Kr,{className:"grid w-full grid-cols-4 mb-6 bg-slate-700 border border-slate-600",children:[o.jsx(Ue,{value:"physical",className:"data-[state=active]:bg-cyan-800/40 data-[state=active]:text-cyan-50",children:"PHYSICAL"}),o.jsx(Ue,{value:"surface",className:"data-[state=active]:bg-cyan-800/40 data-[state=active]:text-cyan-50",children:"SURFACE"}),o.jsx(Ue,{value:"biome",className:"data-[state=active]:bg-cyan-800/40 data-[state=active]:text-cyan-50",children:"BIOME"}),o.jsx(Ue,{value:"landmarks",className:"data-[state=active]:bg-cyan-800/40 data-[state=active]:text-cyan-50",children:"LANDMARKS"})]}),o.jsxs(Ge,{value:"physical",children:[o.jsx(Au,{planetStats:e,setPlanetStats:t}),o.jsx("div",{className:"mt-6",children:o.jsx(Vm,{planetStats:e,setPlanetStats:t,classificationId:r,author:n,setSelectedBiome:a,setCustomColors:c})})]}),o.jsx(Ge,{value:"surface",children:o.jsx(_m,{planetStats:e,setPlanetStats:t,selectedBiome:s})}),o.jsx(Ge,{value:"biome",children:o.jsx(Im,{planetStats:e,setPlanetStats:t,selectedBiome:s,setSelectedBiome:a,customColors:i,setCustomColors:c})}),o.jsx(Ge,{value:"landmarks",children:o.jsx(Fm,{planetStats:e,setPlanetStats:t})})]})]})}var $n=["Enter"," "],$m=["ArrowDown","PageUp","Home"],mi=["ArrowUp","PageDown","End"],Wm=[...$m,...mi],Hm={ltr:[...$n,"ArrowRight"],rtl:[...$n,"ArrowLeft"]},Um={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Lt="Menu",[Ft,Gm,Km]=Zt(Lt),[ut,pi]=Fe(Lt,[Km,hr,Jt]),Sr=hr(),hi=Jt(),[qm,dt]=ut(Lt),[Ym,zt]=ut(Lt),gi=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:s,onOpenChange:a,modal:i=!0}=e,c=Sr(t),[l,f]=m.useState(null),u=m.useRef(!1),d=Ae(a),p=Rt(s);return m.useEffect(()=>{const v=()=>{u.current=!0,document.addEventListener("pointerdown",b,{capture:!0,once:!0}),document.addEventListener("pointermove",b,{capture:!0,once:!0})},b=()=>u.current=!1;return document.addEventListener("keydown",v,{capture:!0}),()=>{document.removeEventListener("keydown",v,{capture:!0}),document.removeEventListener("pointerdown",b,{capture:!0}),document.removeEventListener("pointermove",b,{capture:!0})}},[]),o.jsx(oa,{...c,children:o.jsx(qm,{scope:t,open:r,onOpenChange:d,content:l,onContentChange:f,children:o.jsx(Ym,{scope:t,onClose:m.useCallback(()=>d(!1),[d]),isUsingKeyboardRef:u,dir:p,modal:i,children:n})})})};gi.displayName=Lt;var Xm="MenuAnchor",Wn=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=Sr(r);return o.jsx(sa,{...s,...n,ref:t})});Wn.displayName=Xm;var Hn="MenuPortal",[Zm,vi]=ut(Hn,{forceMount:void 0}),xi=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:s}=e,a=dt(Hn,t);return o.jsx(Zm,{scope:t,forceMount:r,children:o.jsx(mt,{present:r||a.open,children:o.jsx(Nn,{asChild:!0,container:s,children:n})})})};xi.displayName=Hn;var Ne="MenuContent",[Jm,Un]=ut(Ne),yi=m.forwardRef((e,t)=>{const r=vi(Ne,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,a=dt(Ne,e.__scopeMenu),i=zt(Ne,e.__scopeMenu);return o.jsx(Ft.Provider,{scope:e.__scopeMenu,children:o.jsx(mt,{present:n||a.open,children:o.jsx(Ft.Slot,{scope:e.__scopeMenu,children:i.modal?o.jsx(Qm,{...s,ref:t}):o.jsx(ep,{...s,ref:t})})})})}),Qm=m.forwardRef((e,t)=>{const r=dt(Ne,e.__scopeMenu),n=m.useRef(null),s=ne(t,n);return m.useEffect(()=>{const a=n.current;if(a)return ua(a)},[]),o.jsx(Gn,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:U(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),ep=m.forwardRef((e,t)=>{const r=dt(Ne,e.__scopeMenu);return o.jsx(Gn,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),tp=ft("MenuContent.ScrollLock"),Gn=m.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:c,onEntryFocus:l,onEscapeKeyDown:f,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:p,onDismiss:v,disableOutsideScroll:b,...h}=e,x=dt(Ne,r),g=zt(Ne,r),C=Sr(r),y=hi(r),w=Gm(r),[N,A]=m.useState(null),R=m.useRef(null),j=ne(t,R,x.onContentChange),P=m.useRef(0),O=m.useRef(""),k=m.useRef(0),M=m.useRef(null),L=m.useRef("right"),z=m.useRef(0),V=b?Mn:m.Fragment,_=b?{as:tp,allowPinchZoom:!0}:void 0,B=I=>{var F,G;const E=O.current+I,H=w().filter(J=>!J.disabled),q=document.activeElement,Y=(F=H.find(J=>J.ref.current===q))==null?void 0:F.textValue,te=H.map(J=>J.textValue),ae=mp(te,E,Y),ie=(G=H.find(J=>J.textValue===ae))==null?void 0:G.ref.current;(function J(Q){O.current=Q,window.clearTimeout(P.current),Q!==""&&(P.current=window.setTimeout(()=>J(""),1e3))})(E),ie&&setTimeout(()=>ie.focus())};m.useEffect(()=>()=>window.clearTimeout(P.current),[]),Ns();const T=m.useCallback(I=>{var H,q;return L.current===((H=M.current)==null?void 0:H.side)&&hp(I,(q=M.current)==null?void 0:q.area)},[]);return o.jsx(Jm,{scope:r,searchRef:O,onItemEnter:m.useCallback(I=>{T(I)&&I.preventDefault()},[T]),onItemLeave:m.useCallback(I=>{var E;T(I)||((E=R.current)==null||E.focus(),A(null))},[T]),onTriggerLeave:m.useCallback(I=>{T(I)&&I.preventDefault()},[T]),pointerGraceTimerRef:k,onPointerGraceIntentChange:m.useCallback(I=>{M.current=I},[]),children:o.jsx(V,{..._,children:o.jsx(cn,{asChild:!0,trapped:s,onMountAutoFocus:U(a,I=>{var E;I.preventDefault(),(E=R.current)==null||E.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:o.jsx(nn,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:f,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:p,onDismiss:v,children:o.jsx(go,{asChild:!0,...y,dir:g.dir,orientation:"vertical",loop:n,currentTabStopId:N,onCurrentTabStopIdChange:A,onEntryFocus:U(l,I=>{g.isUsingKeyboardRef.current||I.preventDefault()}),preventScrollOnEntryFocus:!0,children:o.jsx(aa,{role:"menu","aria-orientation":"vertical","data-state":Oi(x.open),"data-radix-menu-content":"",dir:g.dir,...C,...h,ref:j,style:{outline:"none",...h.style},onKeyDown:U(h.onKeyDown,I=>{const H=I.target.closest("[data-radix-menu-content]")===I.currentTarget,q=I.ctrlKey||I.altKey||I.metaKey,Y=I.key.length===1;H&&(I.key==="Tab"&&I.preventDefault(),!q&&Y&&B(I.key));const te=R.current;if(I.target!==te||!Wm.includes(I.key))return;I.preventDefault();const ie=w().filter(F=>!F.disabled).map(F=>F.ref.current);mi.includes(I.key)&&ie.reverse(),dp(ie)}),onBlur:U(e.onBlur,I=>{I.currentTarget.contains(I.target)||(window.clearTimeout(P.current),O.current="")}),onPointerMove:U(e.onPointerMove,Bt(I=>{const E=I.target,H=z.current!==I.clientX;if(I.currentTarget.contains(E)&&H){const q=I.clientX>z.current?"right":"left";L.current=q,z.current=I.clientX}}))})})})})})})});yi.displayName=Ne;var rp="MenuGroup",Kn=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return o.jsx(X.div,{role:"group",...n,ref:t})});Kn.displayName=rp;var np="MenuLabel",bi=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return o.jsx(X.div,{...n,ref:t})});bi.displayName=np;var Tr="MenuItem",wi="menu.itemSelect",Mr=m.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...s}=e,a=m.useRef(null),i=zt(Tr,e.__scopeMenu),c=Un(Tr,e.__scopeMenu),l=ne(t,a),f=m.useRef(!1),u=()=>{const d=a.current;if(!r&&d){const p=new CustomEvent(wi,{bubbles:!0,cancelable:!0});d.addEventListener(wi,v=>n==null?void 0:n(v),{once:!0}),lo(d,p),p.defaultPrevented?f.current=!1:i.onClose()}};return o.jsx(Ci,{...s,ref:l,disabled:r,onClick:U(e.onClick,u),onPointerDown:d=>{var p;(p=e.onPointerDown)==null||p.call(e,d),f.current=!0},onPointerUp:U(e.onPointerUp,d=>{var p;f.current||(p=d.currentTarget)==null||p.click()}),onKeyDown:U(e.onKeyDown,d=>{const p=c.searchRef.current!=="";r||p&&d.key===" "||$n.includes(d.key)&&(d.currentTarget.click(),d.preventDefault())})})});Mr.displayName=Tr;var Ci=m.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...a}=e,i=Un(Tr,r),c=hi(r),l=m.useRef(null),f=ne(t,l),[u,d]=m.useState(!1),[p,v]=m.useState("");return m.useEffect(()=>{const b=l.current;b&&v((b.textContent??"").trim())},[a.children]),o.jsx(Ft.ItemSlot,{scope:r,disabled:n,textValue:s??p,children:o.jsx(vo,{asChild:!0,...c,focusable:!n,children:o.jsx(X.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...a,ref:f,onPointerMove:U(e.onPointerMove,Bt(b=>{n?i.onItemLeave(b):(i.onItemEnter(b),b.defaultPrevented||b.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:U(e.onPointerLeave,Bt(b=>i.onItemLeave(b))),onFocus:U(e.onFocus,()=>d(!0)),onBlur:U(e.onBlur,()=>d(!1))})})})}),op="MenuCheckboxItem",Ni=m.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...s}=e;return o.jsx(Ti,{scope:e.__scopeMenu,checked:r,children:o.jsx(Mr,{role:"menuitemcheckbox","aria-checked":Rr(r)?"mixed":r,...s,ref:t,"data-state":Yn(r),onSelect:U(s.onSelect,()=>n==null?void 0:n(Rr(r)?!0:!r),{checkForDefaultPrevented:!1})})})});Ni.displayName=op;var ki="MenuRadioGroup",[sp,ap]=ut(ki,{value:void 0,onValueChange:()=>{}}),Ei=m.forwardRef((e,t)=>{const{value:r,onValueChange:n,...s}=e,a=Ae(n);return o.jsx(sp,{scope:e.__scopeMenu,value:r,onValueChange:a,children:o.jsx(Kn,{...s,ref:t})})});Ei.displayName=ki;var ji="MenuRadioItem",Si=m.forwardRef((e,t)=>{const{value:r,...n}=e,s=ap(ji,e.__scopeMenu),a=r===s.value;return o.jsx(Ti,{scope:e.__scopeMenu,checked:a,children:o.jsx(Mr,{role:"menuitemradio","aria-checked":a,...n,ref:t,"data-state":Yn(a),onSelect:U(n.onSelect,()=>{var i;return(i=s.onValueChange)==null?void 0:i.call(s,r)},{checkForDefaultPrevented:!1})})})});Si.displayName=ji;var qn="MenuItemIndicator",[Ti,ip]=ut(qn,{checked:!1}),Mi=m.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...s}=e,a=ip(qn,r);return o.jsx(mt,{present:n||Rr(a.checked)||a.checked===!0,children:o.jsx(X.span,{...s,ref:t,"data-state":Yn(a.checked)})})});Mi.displayName=qn;var cp="MenuSeparator",Ri=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return o.jsx(X.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});Ri.displayName=cp;var lp="MenuArrow",Ai=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=Sr(r);return o.jsx(ia,{...s,...n,ref:t})});Ai.displayName=lp;var up="MenuSub",[Sh,_i]=ut(up),Vt="MenuSubTrigger",Pi=m.forwardRef((e,t)=>{const r=dt(Vt,e.__scopeMenu),n=zt(Vt,e.__scopeMenu),s=_i(Vt,e.__scopeMenu),a=Un(Vt,e.__scopeMenu),i=m.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:l}=a,f={__scopeMenu:e.__scopeMenu},u=m.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return m.useEffect(()=>u,[u]),m.useEffect(()=>{const d=c.current;return()=>{window.clearTimeout(d),l(null)}},[c,l]),o.jsx(Wn,{asChild:!0,...f,children:o.jsx(Ci,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":Oi(r.open),...e,ref:Lr(t,s.onTriggerChange),onClick:d=>{var p;(p=e.onClick)==null||p.call(e,d),!(e.disabled||d.defaultPrevented)&&(d.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:U(e.onPointerMove,Bt(d=>{a.onItemEnter(d),!d.defaultPrevented&&!e.disabled&&!r.open&&!i.current&&(a.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{r.onOpenChange(!0),u()},100))})),onPointerLeave:U(e.onPointerLeave,Bt(d=>{var v,b;u();const p=(v=r.content)==null?void 0:v.getBoundingClientRect();if(p){const h=(b=r.content)==null?void 0:b.dataset.side,x=h==="right",g=x?-5:5,C=p[x?"left":"right"],y=p[x?"right":"left"];a.onPointerGraceIntentChange({area:[{x:d.clientX+g,y:d.clientY},{x:C,y:p.top},{x:y,y:p.top},{x:y,y:p.bottom},{x:C,y:p.bottom}],side:h}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(d),d.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:U(e.onKeyDown,d=>{var v;const p=a.searchRef.current!=="";e.disabled||p&&d.key===" "||Hm[n.dir].includes(d.key)&&(r.onOpenChange(!0),(v=r.content)==null||v.focus(),d.preventDefault())})})})});Pi.displayName=Vt;var Ii="MenuSubContent",Di=m.forwardRef((e,t)=>{const r=vi(Ne,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,a=dt(Ne,e.__scopeMenu),i=zt(Ne,e.__scopeMenu),c=_i(Ii,e.__scopeMenu),l=m.useRef(null),f=ne(t,l);return o.jsx(Ft.Provider,{scope:e.__scopeMenu,children:o.jsx(mt,{present:n||a.open,children:o.jsx(Ft.Slot,{scope:e.__scopeMenu,children:o.jsx(Gn,{id:c.contentId,"aria-labelledby":c.triggerId,...s,ref:f,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var d;i.isUsingKeyboardRef.current&&((d=l.current)==null||d.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:U(e.onFocusOutside,u=>{u.target!==c.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:U(e.onEscapeKeyDown,u=>{i.onClose(),u.preventDefault()}),onKeyDown:U(e.onKeyDown,u=>{var v;const d=u.currentTarget.contains(u.target),p=Um[i.dir].includes(u.key);d&&p&&(a.onOpenChange(!1),(v=c.trigger)==null||v.focus(),u.preventDefault())})})})})})});Di.displayName=Ii;function Oi(e){return e?"open":"closed"}function Rr(e){return e==="indeterminate"}function Yn(e){return Rr(e)?"indeterminate":e?"checked":"unchecked"}function dp(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function fp(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function mp(e,t,r){const s=t.length>1&&Array.from(t).every(f=>f===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let i=fp(e,Math.max(a,0));s.length===1&&(i=i.filter(f=>f!==r));const l=i.find(f=>f.toLowerCase().startsWith(s.toLowerCase()));return l!==r?l:void 0}function pp(e,t){const{x:r,y:n}=e;let s=!1;for(let a=0,i=t.length-1;a<t.length;i=a++){const c=t[a],l=t[i],f=c.x,u=c.y,d=l.x,p=l.y;u>n!=p>n&&r<(d-f)*(n-u)/(p-u)+f&&(s=!s)}return s}function hp(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return pp(r,t)}function Bt(e){return t=>t.pointerType==="mouse"?e(t):void 0}var gp=gi,vp=Wn,xp=xi,yp=yi,bp=Kn,wp=bi,Cp=Mr,Np=Ni,kp=Ei,Ep=Si,jp=Mi,Sp=Ri,Tp=Ai,Mp=Pi,Rp=Di,Ar="DropdownMenu",[Ap,Th]=Fe(Ar,[pi]),xe=pi(),[_p,Li]=Ap(Ar),Fi=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:s,defaultOpen:a,onOpenChange:i,modal:c=!0}=e,l=xe(t),f=m.useRef(null),[u,d]=nt({prop:s,defaultProp:a??!1,onChange:i,caller:Ar});return o.jsx(_p,{scope:t,triggerId:rt(),triggerRef:f,contentId:rt(),open:u,onOpenChange:d,onOpenToggle:m.useCallback(()=>d(p=>!p),[d]),modal:c,children:o.jsx(gp,{...l,open:u,onOpenChange:d,dir:n,modal:c,children:r})})};Fi.displayName=Ar;var zi="DropdownMenuTrigger",Vi=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...s}=e,a=Li(zi,r),i=xe(r);return o.jsx(vp,{asChild:!0,...i,children:o.jsx(X.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:Lr(t,a.triggerRef),onPointerDown:U(e.onPointerDown,c=>{!n&&c.button===0&&c.ctrlKey===!1&&(a.onOpenToggle(),a.open||c.preventDefault())}),onKeyDown:U(e.onKeyDown,c=>{n||(["Enter"," "].includes(c.key)&&a.onOpenToggle(),c.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})})});Vi.displayName=zi;var Pp="DropdownMenuPortal",Bi=e=>{const{__scopeDropdownMenu:t,...r}=e,n=xe(t);return o.jsx(xp,{...n,...r})};Bi.displayName=Pp;var $i="DropdownMenuContent",Wi=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Li($i,r),a=xe(r),i=m.useRef(!1);return o.jsx(yp,{id:s.contentId,"aria-labelledby":s.triggerId,...a,...n,ref:t,onCloseAutoFocus:U(e.onCloseAutoFocus,c=>{var l;i.current||(l=s.triggerRef.current)==null||l.focus(),i.current=!1,c.preventDefault()}),onInteractOutside:U(e.onInteractOutside,c=>{const l=c.detail.originalEvent,f=l.button===0&&l.ctrlKey===!0,u=l.button===2||f;(!s.modal||u)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Wi.displayName=$i;var Ip="DropdownMenuGroup",Dp=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=xe(r);return o.jsx(bp,{...s,...n,ref:t})});Dp.displayName=Ip;var Op="DropdownMenuLabel",Hi=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=xe(r);return o.jsx(wp,{...s,...n,ref:t})});Hi.displayName=Op;var Lp="DropdownMenuItem",Ui=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=xe(r);return o.jsx(Cp,{...s,...n,ref:t})});Ui.displayName=Lp;var Fp="DropdownMenuCheckboxItem",Gi=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=xe(r);return o.jsx(Np,{...s,...n,ref:t})});Gi.displayName=Fp;var zp="DropdownMenuRadioGroup",Vp=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=xe(r);return o.jsx(kp,{...s,...n,ref:t})});Vp.displayName=zp;var Bp="DropdownMenuRadioItem",Ki=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=xe(r);return o.jsx(Ep,{...s,...n,ref:t})});Ki.displayName=Bp;var $p="DropdownMenuItemIndicator",qi=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=xe(r);return o.jsx(jp,{...s,...n,ref:t})});qi.displayName=$p;var Wp="DropdownMenuSeparator",Yi=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=xe(r);return o.jsx(Sp,{...s,...n,ref:t})});Yi.displayName=Wp;var Hp="DropdownMenuArrow",Up=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=xe(r);return o.jsx(Tp,{...s,...n,ref:t})});Up.displayName=Hp;var Gp="DropdownMenuSubTrigger",Xi=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=xe(r);return o.jsx(Mp,{...s,...n,ref:t})});Xi.displayName=Gp;var Kp="DropdownMenuSubContent",Zi=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=xe(r);return o.jsx(Rp,{...s,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Zi.displayName=Kp;var qp=Fi,Yp=Vi,Xp=Bi,Ji=Wi,Qi=Hi,ec=Ui,tc=Gi,rc=Ki,nc=qi,oc=Yi,sc=Xi,ac=Zi;const Zp=qp,Jp=Yp,Qp=m.forwardRef(({className:e,inset:t,children:r,...n},s)=>o.jsxs(sc,{ref:s,className:ee("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...n,children:[r,o.jsx(bm,{className:"ml-auto h-4 w-4"})]}));Qp.displayName=sc.displayName;const eh=m.forwardRef(({className:e,...t},r)=>o.jsx(ac,{ref:r,className:ee("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));eh.displayName=ac.displayName;const ic=m.forwardRef(({className:e,sideOffset:t=4,...r},n)=>o.jsx(Xp,{children:o.jsx(Ji,{ref:n,sideOffset:t,className:ee("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));ic.displayName=Ji.displayName;const $t=m.forwardRef(({className:e,inset:t,...r},n)=>o.jsx(ec,{ref:n,className:ee("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));$t.displayName=ec.displayName;const th=m.forwardRef(({className:e,children:t,checked:r,...n},s)=>o.jsxs(tc,{ref:s,className:ee("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(nc,{children:o.jsx(ai,{className:"h-4 w-4"})})}),t]}));th.displayName=tc.displayName;const rh=m.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(rc,{ref:n,className:ee("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(nc,{children:o.jsx(Cm,{className:"h-2 w-2 fill-current"})})}),t]}));rh.displayName=rc.displayName;const nh=m.forwardRef(({className:e,inset:t,...r},n)=>o.jsx(Qi,{ref:n,className:ee("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));nh.displayName=Qi.displayName;const oh=m.forwardRef(({className:e,...t},r)=>o.jsx(oc,{ref:r,className:ee("-mx-1 my-1 h-px bg-muted",e),...t}));oh.displayName=oc.displayName;function sh({classificationId:e="UNCLASSIFIED",author:t="UNKNOWN",type:r,biome:n,planetConfiguration:s,classificationConfig:a,content:i}){const c=Bn.useSupabaseClient(),[l,f]=D.useState(!1),[u,d]=D.useState("detailed"),[p,v]=D.useState(()=>{const h=s?Dr(s):{...Ir,...n?{biome:n}:{},...r?{type:r}:{}};return(!h.landmarks||h.landmarks.length===0)&&(h.landmarks=Xt(h)),h});D.useEffect(()=>{const h=s?Dr(s):{...Ir,...n?{biome:n}:{},...r?{type:r}:{}};if(!h.landmarks||h.landmarks.length===0)h.landmarks=Xt(h);else{const x=h.landmarks.some(C=>C.category==="terrestrial"),g=h.landmarks.some(C=>C.category==="gaseous");if(!x||!g){const C=Xt(h);if(!x){const y=C.find(w=>w.category==="terrestrial");y&&h.landmarks.push(y)}if(!g){const y=C.find(w=>w.category==="gaseous");y&&h.landmarks.push(y)}}}v(h)},[s,n,r]),D.useEffect(()=>{(async()=>{var w;const x=Number.parseInt(e);if(isNaN(x))return;const{data:g,error:C}=await c.from("classifications").select("classificationConfiguration").eq("id",x).single();if(C||!((w=g==null?void 0:g.classificationConfiguration)!=null&&w.exportedValue))return;const{exportedValue:y}=g.classificationConfiguration;v(N=>({...N,...y.mass&&{mass:y.mass},...y.radius&&{radius:y.radius}}))})()},[e,c]),D.useEffect(()=>{v(h=>({...h,density:no(h.mass,h.radius)}))},[p.mass,p.radius]);const b=()=>{switch(u){case"detailed":return"Detailed View";case"stylized":return"Stylized View";case"simple":return"Simple View";case"standard":return"Standard Render";default:return"Detailed View"}};return o.jsxs("div",{className:"w-full h-screen relative overflow-hidden",children:[o.jsxs(Le.Canvas,{camera:{position:[0,0,10],fov:45},children:[o.jsx("ambientLight",{intensity:.4}),o.jsx("pointLight",{position:[10,10,10],intensity:2}),o.jsx("pointLight",{position:[-10,-10,-10],intensity:.5,color:"#b0c4de"}),o.jsx("directionalLight",{position:[5,5,5],intensity:1.5,castShadow:!0}),o.jsx(ye.Environment,{preset:"sunset"}),u==="detailed"&&o.jsx(Cc,{planetStats:p}),u==="stylized"&&o.jsxs(o.Fragment,{children:[o.jsx(Rc,{planetStats:p}),o.jsx(Ac,{planetStats:p})]}),u==="simple"&&o.jsx(Sc,{planetStats:p}),u==="standard"&&o.jsx(qc,{planetStats:p}),o.jsx(ye.Stars,{radius:100,depth:50,count:5e3,factor:4,saturation:0,fade:!0,speed:1}),o.jsx(ye.OrbitControls,{enableZoom:!0,enablePan:!0,enableRotate:!0}),o.jsxs("mesh",{position:[0,0,-15],children:[o.jsx("sphereGeometry",{args:[5,32,32]}),o.jsx("meshBasicMaterial",{color:"#4060ff",transparent:!0,opacity:.03})]})]},u),o.jsxs("div",{className:"absolute top-4 right-4 flex gap-2",children:[o.jsxs(Zp,{children:[o.jsx(Jp,{asChild:!0,children:o.jsxs(ve,{variant:"outline",size:"sm",className:"bg-black/50 hover:bg-black/70 text-white",children:[b(),o.jsx(On,{className:"ml-2 h-4 w-4"})]})}),o.jsxs(ic,{className:"bg-black/80 border-slate-700 text-white",children:[o.jsx($t,{className:u==="detailed"?"bg-cyan-900/40":"hover:bg-slate-700/50",onClick:()=>d("detailed"),children:"Detailed View"}),o.jsx($t,{className:u==="stylized"?"bg-cyan-900/40":"hover:bg-slate-700/50",onClick:()=>d("stylized"),children:"Stylized View"}),o.jsx($t,{className:u==="simple"?"bg-cyan-900/40":"hover:bg-slate-700/50",onClick:()=>d("simple"),children:"Simple View"}),o.jsx($t,{className:u==="standard"?"bg-cyan-900/40":"hover:bg-slate-700/50",onClick:()=>d("standard"),children:"Standard Render"})]})]}),o.jsx(ve,{variant:"outline",size:"icon",className:"bg-black/50 hover:bg-black/70 text-white",onClick:()=>f(!l),children:o.jsx(Nm,{className:"h-4 w-4"})})]}),l&&o.jsx(Bm,{planetStats:p,setPlanetStats:v,classificationId:e,author:t})]})}ke.PlanetGenerator=sh,Object.defineProperty(ke,Symbol.toStringTag,{value:"Module"})});
